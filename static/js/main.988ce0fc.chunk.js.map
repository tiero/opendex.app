{"version":3,"sources":["services/submarine/keys.js","utils/boltzRefund.ts","services/submarine/randomBytes.js","api/boltzApiUrls.ts","context/NetworkContext.tsx","constants/boltzSwap.ts","context/UtilsContext.tsx","utils/svgIcons.js","assets/images/left-arrow.svg","assets/images/right-arrow.svg","assets/images/right-arrow-white.svg","assets/images/Camera.svg","assets/images/green-tick.svg","assets/images/swap.svg","assets/images/snap.svg","assets/images/Cameraclock.svg","assets/images/Shape.svg","assets/images/Boltz.svg","assets/images/OpenDEX.svg","assets/images/fast.svg","assets/images/safe.svg","assets/images/hacked.svg","assets/images/medium.svg","assets/images/media.svg","assets/images/twitter.svg","assets/images/Demo.svg","assets/images/Homepage.svg","assets/images/Homepage-min.png","assets/images/Oval.svg","assets/images/close.svg","assets/images/hamburger.svg","assets/images/question-icon.svg","assets/images/external-link.svg","assets/images/comit-logo.svg","assets/images/comit-logo-black.svg","assets/images/tdex-logo.svg","assets/images/success.svg","components/Button/index.tsx","components/BoltzSwapFlow/components/BoltzChooseSwap/index.tsx","components/BoltzSwapFlow/components/BoltzRefundResult/index.tsx","components/App/path.ts","utils/boltzSwapStatus.ts","components/BoltzSwapFlow/components/BoltzSwapResult/index.tsx","components/BoltzSwapFlow/components/BoltzSubmarineSwapResult/index.tsx","components/BoltzSwapFlow/components/BoltzSubmarineStatus/index.tsx","components/BoltzSwapFlow/components/BoltzRefundStatus/index.tsx","components/ErrorMessage/index.tsx","components/BoltzSwapFlow/components/BoltzSwapStep/index.tsx","components/Card/index.tsx","components/Title/index.tsx","components/Background/index.tsx","components/Divider/index.tsx","components/Footer/index.js","components/Logo/index.tsx","components/NavLink/index.tsx","components/Menu/index.tsx","components/NavBar/index.tsx","layout/main.tsx","services/refund/timestamp.js","utils/error.ts","constants/swap.ts","pages/BoltzRefund.tsx","components/Select/index.js","components/NumberField/NumberInput.tsx","components/NumberField/index.tsx","components/AssetSelector/index.tsx","components/SwapButton/index.tsx","store/hooks.ts","store/swaps-slice.ts","utils/swapProvider.ts","constants/boltzRates.ts","components/TdexSwapFlow/constants/index.ts","components/TdexSwapFlow/utils/format.ts","components/TdexSwapFlow/utils/tdexFetcher.ts","store/tdex-slice.ts","components/ComitSwapFlow/BitcoinAmount.ts","components/ComitSwapFlow/MoneroAmount.ts","components/ComitSwapFlow/XmrBtcRateFetcher.ts","components/ComitSwapFlow/Asb.ts","components/ComitSwapFlow/useComitRate.tsx","components/ChooseTradingPair/index.tsx","components/TdexSwapFlow/utils/tdexFetcherHook.ts","constants/boltzFetcherHook.ts","components/ComitSwapFlow/useComitFetcher.tsx","utils/boltzReverseSwap.ts","services/reverse/addressValidation.js","components/BoltzSwapFlow/components/BoltzReverseDestination/index.tsx","components/DrawQrCode/index.js","utils/invoiceDecoder.js","components/BoltzSwapFlow/components/BoltzReverseSend/index.tsx","components/BoltzSwapFlow/components/BoltzReverseSwapResult/index.tsx","components/BoltzSwapFlow/components/BoltzReverseSwap/index.tsx","services/submarine/invoiceValidation.js","store/boltz-slice.ts","components/BoltzSwapFlow/components/BoltzAmount/index.tsx","components/DownloadRefundFile/index.tsx","utils/createRefundQr.js","utils/detectTorBrowser.js","components/DialogBox/index.js","components/QrCodeReader/index.js","components/BoltzSwapFlow/components/BoltzSubmarineDestination/index.tsx","components/ComitSwapFlow/utils.ts","components/BoltzSwapFlow/components/BoltzSubmarineSend/index.tsx","components/BoltzSwapFlow/components/BoltzSubmarineSwapStatus/index.tsx","components/BoltzSwapFlow/components/BoltzSubmarineSwap/index.tsx","components/BoltzSwapFlow/index.tsx","components/TdexSwapFlow/index.tsx","components/ComitSwapFlow/index.tsx","components/ComitSwapFlow/useDownloadUrl.tsx","components/TdexSwapFlow/components/steps.tsx","components/TdexSwapFlow/components/connect.tsx","components/TdexSwapFlow/utils/browserInject.ts","components/TdexSwapFlow/components/review.tsx","components/TdexSwapFlow/components/summary.tsx","components/SwapFlow/index.tsx","components/App/theme.ts","components/SwapProvider/index.tsx","components/NetworkSelection/index.tsx","pages/home.tsx","store/index.ts","components/App/index.tsx","serviceWorker.js","index.tsx","constants/transport.ts","constants/currency.ts","assets/images/currencies/Ether.svg","assets/images/currencies/Bitcoin.svg","assets/images/currencies/LiquidCAD.png","assets/images/currencies/Litecoin.svg","assets/images/currencies/index.js","assets/images/currencies/TetherLogo.svg","assets/images/currencies/LiquidBitcoin.png","assets/images/currencies/LiquidTether.svg","assets/images/currencies/LightningBitcoin.svg","assets/images/currencies/LightningLitecoin.svg","assets/images/currencies/Monero.svg","utils/getCurrencyLabel.js"],"names":["getHexString","input","toString","generateKeys","network","keys","ECPair","makeRandom","publicKey","privateKey","addRefundDetailsToLocalStorage","details","boltzSwaps","getBoltzSwapsFromLocalStorage","push","setBoltzSwapsToLocalStorage","removeRefundDetailsFromLocalStorage","swapId","swapIndex","findIndex","swap","splice","JSON","parse","localStorage","getItem","swaps","setItem","stringify","verifyRefundFile","fileJSON","every","key","Object","prototype","hasOwnProperty","call","convertRefundFile","file","a","type","reader","window","FileReader","readAsText","Promise","resolve","onload","fileJson","result","qrcodeParser","then","parsedQr","data","catch","alert","verifyFile","undefined","startRefund","refundFile","destinationAddress","transactionHash","boltzConfig","currency","getFeeEstimation","apiEndpoint","pipe","mergeMap","fees","createRefundTransaction","tx","broadcastRefund","refundTransaction","toHex","from","fetch","BOLTZ_GET_FEE_ESTIMATION_API_URL","resp","json","body","ok","of","throwError","getHexBuffer","Buffer","getNetwork","CurrencyID","BTC","bitcoinConstants","litecoinConstants","feeEstimation","redeemScript","lockupTransaction","Transaction","fromHex","constructRefundTransaction","txHash","getHash","fromPrivateKey","detectSwap","address","toOutputScript","timeoutBlockHeight","lockupTransactionId","getId","transactionHex","BOLTZ_BROADCAST_TRANSACTION_API_URL","method","headers","filter","error","Error","randomBytes","size","bytes","allocUnsafe","global","crypto","getRandomValues","BOLTZ_GET_PAIRS_API_URL","baseUrl","BOLTZ_CREATE_SWAP_API_URL","BOLTZ_STREAM_SWAP_STATUS_API_URL","BOLTZ_SWAP_STATUS_API_URL","BOLTZ_GET_SWAP_TRANSACTION_API_URL","Network","SwapUpdateEvent","defaultNetwork","Testnet","NetworkContext","React","createContext","setNetwork","NetworkProvider","children","useState","Provider","value","useNetwork","useContext","useBlockExplorers","explorers","Map","blockExplorer","process","transaction","set","useBoltzConfiguration","capitalizeFirstLetter","charAt","toUpperCase","slice","infuraId","Networks","toLowerCase","UtilsContext","UtilsProvider","isMobileView","is","mobile","leftArrow","rightArrowPlain","rightArrow","camera","greenTick","snap","clock","logo","boltz","opendex","fast","safe","hacked","medium","media","twitter","demo","homepage","homepagemin","oval","close","hamburger","questionIcon","externalLinkIcon","comitLogo","comitLogoBlack","tdexLogo","success","isDefaultColor","props","color","useStyles","makeStyles","theme","button","borderRadius","backgroundColor","variant","palette","text","primary","buttonWrapper","position","buttonProgress","top","left","marginTop","marginLeft","Button","className","loading","muiButtonProps","classes","buttonClass","FormControl","fullWidth","disableElevation","CircularProgress","createStyles","list","maxHeight","width","overflowY","margin","paddingRight","uploadButton","uploadedPlaceholder","minWidth","uploadSuccess","display","hintIcon","height","subtitle","alignItems","BoltzChooseSwap","setErrorMessage","setRefundDetails","uploadedFile","setUploadedFile","storedSwaps","setStoredSwaps","selectedSwap","setSelectedSwap","fileInput","useMemo","createRef","useEffect","reverse","Typography","component","Tooltip","title","src","svgIcons","alt","List","map","ListItem","selected","onClick","ListItemText","Grid","item","container","justify","xs","sm","Date","date","toLocaleString","ref","accept","onChange","event","target","files","current","click","iconContainer","BoltzRefundResult","errorMessage","successMessage","align","Path","swapSteps","status","TransactionMempool","initialText","textComplete","TransactionConfirmed","InvoicePending","ChannelCreated","InvoicePaid","TransactionClaimed","startListening","onMessage","stream","EventSource","onmessage","onerror","console","log","setTimeout","swapError","step","concat","InvoiceSet","some","includes","InvoiceFailedToPay","TransactionLockupFailed","SwapExpired","failureReason","isFinal","instant","TransactionRefunded","TransactionFailed","imageContainer","padding","refundButton","BoltzSwapResult","history","useHistory","showRefundButton","direction","BOLTZ_REFUND","BoltzSubmarineSwapResult","swapStatus","progressBar","BoltzSubmarineStatus","onActiveStepChange","activeStep","setActiveStep","statusIndex","newActiveStep","Stepper","orientation","index","Step","StepLabel","StepContent","LinearProgress","addressField","BoltzRefundStatus","refundDetails","setAddress","onSwapTransactionChange","swapTransaction","setSwapTransaction","queryTransaction","setQueryTransaction","addressFieldText","sub","timer","id","response","retry","subscribe","next","timeoutEta","err","unsubscribe","TextField","multiline","aria-label","rows","disabled","placeholder","e","InputProps","root","fontFamily","ErrorMessage","message","rootClass","content","flex","justifyContent","marginBottom","fontSize","lineHeight","letterSpacing","BoltzSwapStep","mainButtonText","mainButtonVisible","mainButtonDisabled","mainButtonLoading","onMainButtonClick","card","CardComponent","md","lg","xl","Card","CardContent","fontWeight","fontStretch","fontStyle","textAlign","Title","outerCircle","zIndex","opacity","background","default","main","right","innerCircle","backgroundImage","Background","Divider","_props","secondary","Footer","logoWrapper","OpendexLogo","navLink","NavLink","linkProps","Link","rel","menuOpener","popper","withWidth","open","setOpen","handleClose","communityLink","href","repoLink","isWidthUp","spacing","aria-haspopup","oldValue","Popper","transition","placement","anchorEl","document","getElementById","TransitionProps","Grow","Paper","ClickAwayListener","onClickAway","MenuList","autoFocusItem","MenuItem","toolbar","flexWrap","AppBar","elevation","Toolbar","Logo","box","flexDirection","DefaultLayout","Box","diffCalculator","diffInMilliSeconds","secondsFormat","originalDifference","days","Math","floor","hours","eta","minutes","seconds","difference","label","SwapProvider","Direction","getErrorMessage","minHeight","BoltzRefund","location","useLocation","setLoading","setSwapStatus","reset","getEta","d1","d2","swapComplete","steps","buttonText","onButtonClick","checkStatus","buttonDisabled","refundButtonText","prev","complete","state","find","wrap","length","SelectComponent","options","defaultValue","disableUnderline","option","setOption","select","selectedOption","SelectProps","MenuProps","disableScrollLock","NumberInput","inputRef","negativeEnabled","decimalScale","other","getInputRef","onValueChange","values","name","isNumericString","allowNegative","NumberField","inputProps","inputComponent","selectAsset","AssetSelector","onAmountChange","onAssetChange","selectedAsset","Skeleton","animation","autoFocus","helperText","endAdornment","Select","CurrencyOptions","InputLabelProps","shrink","wrapper","icon","transform","upIcon","SwapButton","upIconClass","SwapStep","SwapProviderPair","pair","BOTH","swapProviders","BOLTZ","LIGHTNING_BTC","LIGHTNING_LTC","ETH","ETH_USDT","LTC","COMIT","MONERO","SINGLE","TDEX","LIQUID_BTC","LIQUID_USDT","LIQUID_CAD","useAppDispatch","useDispatch","useAppSelector","useSelector","initialState","swapStep","CHOOSE_PAIR","sendAsset","Currency","receiveAsset","sendAmount","receiveAmount","swapsSlice","createSlice","reducers","setSendAsset","action","payload","setReceiveAsset","setSendAmount","setReceiveAmount","setRates","rates","setSwapStep","actions","selectSwapStep","selectSendAsset","selectReceiveAsset","selectSendAmount","selectReceiveAmount","selectSwapProvider","entries","provider_pair","getSwapProvider","isRatesLoaded","boltzPairsMap","isCurrencyOnChain","getAmountOut","fixedSendAmount","inputCurrency","inputAmount","amount","outputCurrency","amountWithFees","BigNumber","outputAmountWithoutFees","minerFees","inputCurrencyIsBaseAsset","pairs","rate","multipliedBy","quoteAsset","div","baseAsset","nominalPercentageFee","percentage","sendingOnChain","fixedMinerFee","SATOSHIS_PER_COIN","pow","normal","claim","plus","lockup","getFixedMinerFees","minus","BoltzFetcher","rates$","rates$subscription","this","interval","startWith","fromFetch","url","switchMap","warn","catchError","shareReplay","bufferSize","refCount","amountWithCurrency","take","toPromise","base","quote","minimal","limits","dividedBy","maximal","ExplorerByChain","liquid","regtest","EsploraByChain","LIQUID_BTC_REGTEST","LBTC_USDT","USDT_LBTC","LBTC_LCAD","LCAD_LBTC","BaseQuoteByPair","LiquidAssetHashByCurrenyID","hash","precision","RegtestAssetHashByCurrenyID","REACT_APP_LIQUID_USDT_REGTEST","REACT_APP_LIQUID_CAD_REGTEST","LiquidCurrencyIDByAssetHash","RegtestCurrencyIDByAssetHash","CurrencyToAssetByChain","AssetToCurrencyByChain","toSatoshi","fractional","exponentiatedBy","toNumber","fromSatoshi","sats","baseQuoteFromCurrencyPair","toKey","x","currencyA","currencyB","TdexFetcher","supportedPairs","providersWithMarketByPair","isPairSupported","previewForPair","isSend","amountInSatoshis","baseCurrency","quoteCurrency","providersForPair","isBaseComingIn","tradeType","TradeType","SELL","BUY","providerWithMarket","client","TraderClient","provider","endpoint","marketPrice","market","prices","firstPrice","balance","bestPrice","baseAmount","bestProvider","quoteAmount","CustomEvent","detail","dispatchEvent","expectedCurrency","asset","providers","markets","forEach","pairAsKey","tdexSlice","setBestProvider","seletctBestProvider","tdex","BitcoinAmount","satoshis","Decimal","satsInOneBtc","toDecimalPlaces","asBtc","decimals","btc","mul","xmr","piconeros_to_sat_adjust","asPic","asSat","MoneroAmount","piconeros","picsInOneXmr","asXmr","pic","XmrBtcRateFetcher","latestQuote","ensureNoRefreshErrors","receive","receiveAmountForSendAmount","fromBtc","getQuote","price","receive_xmr","fromXmr","send_btc","fromBtcRateAndAmount","max_quantity","send","MAINNET","maxAccepted","minAccepted","multiaddr","peerId","spread","TESTNET","fromKrakenPriceToQuote","withSpreadDec","add","Mainnet","getSpread","withSpread","getMax","min_quantity","getMin","timestamp","getPeerId","getMultiaddr","useComitRate","setQuote","xmrBtcRateFetcher","setXmrBtcRateFetcher","latestKrakenPrice","setLatestKrakenPrice","useWebSocket","sendMessage","lastJsonMessage","readyState","subscribeToXmrBtcTicker","useCallback","ReadyState","OPEN","connectionID","Array","isArray","ask","CONNECTING","CLOSED","updateQuote","updateError","rateFetcher","amountscontainer","errorMessageContainer","ChooseTradingPair","dispatch","swapProvider","ratesLoaded","sendAmountError","setSendAmountError","receiveAmountError","setReceiveAmountError","isPreviewing","setIsPreviewing","previewValueError","setPreviewValueError","sendCurrency","receiveCurrency","ratesFetcher","nextDisabled","Number","tdexFetcher","stableDispatch","fetcher","setFetcher","liquidNetwork","listOfProviders","WithTdexProviders","addEventListener","evt","useTdexFetcher","boltzFetcher","clean","useBoltzFetcher","comitFetcher","amountIsPositive","isNaN","onSendAmountChange","previewGivenSend","receiveValue","convertAmountToString","validateReceiveLimits","onReceiveAmountChange","previewGivenReceive","sendValue","getLimits","gt","lt","maximumFractionDigits","SWAP_FLOW","getBoltzReverseSwapsFromLocalStorage","setBoltzReverseSwapsToLocalStorage","getClaimTransaction","onchainCurrency","claimDetails","statusResponse","swapResponse","hex","constructClaimTransaction","preimage","preImage","isAddressValid","swapAddress","trim","instantHint","BoltzReverseDestination","proceedToNext","setAddrerss","setInstant","setError","setKeys","addressInvalid","FormControlLabel","control","Switch","checked","pairId","params","orderSide","claimPublicKey","preimageHash","sha256","invoiceAmount","instantSwap","QrCode","drawQrCode","link","element","qr","Qrious","level","foreground","backgroundAlpha","foregroundAlpha","substring","Component","timeUntilExpiry","invoice","decoded","bolt11","decode","invoiceExpiry","timeExpireDate","round","getTime","qrCodeContainer","titleContainer","titleIcon","buttonsContainer","linkIcon","expireContainer","BoltzReverseSend","swapDetails","etaTimeDiffLabel","setEtaTimeDiffLabel","etaLeft","setETALeft","explorer","get","blockExplorerLink","lockupAddress","getETALabelWithSeconds","navigator","clipboard","writeText","DrawQrCode","BoltzReverseSwapResult","transactionId","BoltzReverseSwap","claimTransactionId","setClaimTransactionId","setSwapDetails","destinationComplete","addReverseSwapDetailsToLocalStorage","onClaimTransaction","tap","claimTransaction","claimSwap","isInvoiceValid","defaultUnitValues","fromEntries","fundTransferTypes","val","unit","setUnit","selectUnit","selectInput","paddingTop","paddingBottom","amountRow","amountContainer","unitContainer","BoltzAmount","amountInMainUnit","onDisplayedAmountChange","units","unitOptions","getUnit","displayedAmount","opt","DownloadRefundFile","jsonData","isTorBrowser","createElement","canvas","imagedata","getContext","getImageData","detectTorBrowser","QRious","toDataURL","fileName","download","SimpleDialog","onClose","useTheme","fullScreen","useMediaQuery","breakpoints","down","Dialog","aria-labelledby","DialogTitle","aria-controls","QrCodeReader","mediaDevices","getUserMedia","video","closeDialogBox","DialogBox","delay","onError","onScan","style","OS","scanButton","downloadRefund","downloadRefundHint","BoltzSubmarineDestination","setInvoice","downloadRefundFile","setDownloadRefundFile","browserScan","setBrowserScan","setDisplayedAmount","utilsContext","invoiceFieldText","invoiceValid","nextEnabled","startIcon","InputAdornment","refundPublicKey","channel","auto","private","inboundLiquidity","refundData","BoltzSubmarineSend","isWaitingForTransaction","expectedAmount","bip21","BoltzSubmarineSwapStatus","swapInProgress","BoltzSubmarineSwap","BoltzSwapFlow","getOs","os","UNSUPPORTED","appVersion","indexOf","WINDOWS","MAC","LINUX","Steps","ComitSwapFlow","downloadUrl","setDownloadUrl","axios","res","gh","assets","startsWith","browser_download_url","useDownloadUrl","copyTooltipOpen","setCopyTooltipOpen","handleCopyTooltipClose","moneroAddress","setMoneroAddress","validMoneroAddress","setValidMoneroAddress","monero_address_regex_str","monero_address_regex","RegExp","monero_address_validator","swapExecCommand","youSend","youReceive","p","m","toBtcString","toXmrString","Avatar","step_number","step_text","mt","onSubmit","exec","validators","errorMessages","overflow","whiteSpace","flexBasis","PopperProps","disablePortal","disableFocusListener","disableHoverListener","disableTouchListener","IconButton","command","innerText","step_number_inactive","step_text_inactive","marginRight","borderColor","borderWidth","borderStyle","getContrastText","dark","backButton","instructions","TdexStepper","alternativeLabel","Connect","onConnect","installed","connected","handleConnect","marina","enable","goAhead","newWindow","opener","BrowserInjectOpenDex","args","_provider","blindKeyByScript","windowProvider","script","getAddresses","addr","confidentialAddress","found","blindingPrivateKey","BrowserInject","terms","buttons","Review","onTrade","onReject","chain","isLoading","setIsLoading","identity","IdentityType","Inject","handleConfirm","addrs","fetchAndUnblindUtxos","utxos","trade","Trade","providerUrl","explorerUrl","coinSelector","greedyCoinSelector","assetToBeSent","amountToBeSentInSatoshis","amountToBeSent","buy","txid","sell","amountToReceive","assetToReceive","image","Summary","onNewTrade","openInNewTab","info","paddingLeft","infoText","wordWrap","wordBreak","TdexSwapFlow","setInstalled","setConnected","setChain","setTxid","isCheckingMarina","setInterval","net","isEnabled","clearInterval","handleTradeCompleted","handleNext","prevActiveStep","handleGoBack","replace","getStepContent","flows","SwapFlow","typography","paper","contrastText","providerInfo","providerName","logos","source","serviceInfo","NetworkSelection","HomePage","store","configureStore","reducer","swapsReducer","boltzReducer","tdexReducer","createBrowserHistory","App","ThemeProvider","createMuiTheme","CssBaseline","exact","path","HOME","to","Boolean","hostname","match","ReactDOM","render","serviceWorker","ready","registration","unregister","TransportChain","TransportLayer","TransportExtraType","Ether","Tether","Bitcoin","Litecoin","LiquidBitcoin","LiquidTether","LiquidCAD","LightningBitcoin","LightningLitecoin","Monero","getCurrencyLabel","currencyIcons","CurrencyName","CurrencyType","CurrencyByID","symbol","transport","BITCOIN","layer","ONCHAIN","swapValues","BitcoinLike","LIGHTNING","Lightning","LIQUID","Liquid","USDT","CAD","ETHEREUM","extraType","ERC20","LITECOIN"],"mappings":"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","file":"static/js/main.988ce0fc.chunk.js","sourcesContent":["import { ECPair } from 'bitcoinjs-lib';\n\nexport const getHexString = input => {\n  return input.toString('hex');\n};\n\nexport const generateKeys = network => {\n  const keys = ECPair.makeRandom({ network });\n\n  return {\n    publicKey: getHexString(keys.publicKey),\n    privateKey: getHexString(keys.privateKey),\n  };\n};\n","import { address, ECPair, Network, Transaction } from 'bitcoinjs-lib';\nimport { constructRefundTransaction, detectSwap } from 'boltz-core';\nimport qrcodeParser from 'qrcode-parser';\nimport { from, Observable, of, throwError } from 'rxjs';\nimport { filter, mergeMap } from 'rxjs/operators';\nimport {\n  BOLTZ_BROADCAST_TRANSACTION_API_URL,\n  BOLTZ_GET_FEE_ESTIMATION_API_URL,\n} from '../api/boltzApiUrls';\nimport {\n  FeeResponse,\n  RefundDetails,\n  RefundTransaction,\n} from '../constants/boltzSwap';\nimport CurrencyID from '../constants/currency';\nimport { BoltzConfiguration } from '../context/NetworkContext';\n\nexport const addRefundDetailsToLocalStorage = (\n  details: RefundDetails\n): void => {\n  const boltzSwaps = getBoltzSwapsFromLocalStorage();\n  boltzSwaps.push(details);\n  setBoltzSwapsToLocalStorage(boltzSwaps);\n};\n\nexport const removeRefundDetailsFromLocalStorage = (swapId: string): void => {\n  const boltzSwaps = getBoltzSwapsFromLocalStorage();\n  const swapIndex = boltzSwaps.findIndex(swap => swap.swapId === swapId);\n  if (swapIndex !== -1) {\n    boltzSwaps.splice(swapIndex, 1);\n    setBoltzSwapsToLocalStorage(boltzSwaps);\n  }\n};\n\nexport const getBoltzSwapsFromLocalStorage = (): RefundDetails[] => {\n  return JSON.parse(localStorage.getItem('boltzSwaps') || '[]');\n};\n\nconst setBoltzSwapsToLocalStorage = (swaps: RefundDetails[]): void => {\n  localStorage.setItem('boltzSwaps', JSON.stringify(swaps));\n};\n\nconst verifyRefundFile = (fileJSON: Object, keys: string[]) => {\n  return keys.every(key => Object.prototype.hasOwnProperty.call(fileJSON, key));\n};\n\nexport const convertRefundFile = async (\n  file: File\n): Promise<RefundDetails | undefined> => {\n  let fileJson;\n\n  switch (file.type) {\n    case 'application/json':\n      const reader = new window.FileReader();\n      reader.readAsText(file);\n\n      await new Promise<void>(resolve => {\n        reader.onload = () => {\n          fileJson = JSON.parse(reader.result as string);\n          resolve();\n        };\n      });\n      break;\n\n    case 'image/png':\n      qrcodeParser(file)\n        .then(parsedQr => {\n          fileJson = JSON.parse(parsedQr.data);\n        })\n        .catch(() => (fileJson = {}));\n      try {\n        const parsedQr = await qrcodeParser(file);\n        fileJson = JSON.parse(parsedQr.data);\n      } catch {\n        fileJson = {};\n      } finally {\n        break;\n      }\n\n    default:\n      window.alert(`Unknown refund file format: ${file.type}`);\n      return;\n  }\n\n  const verifyFile = verifyRefundFile(fileJson, [\n    'swapId',\n    'currency',\n    'redeemScript',\n    'privateKey',\n    'timeoutBlockHeight',\n  ]);\n\n  return verifyFile ? fileJson : undefined;\n};\n\nexport const startRefund = (\n  refundFile: RefundDetails,\n  destinationAddress: string,\n  transactionHash: string,\n  boltzConfig: BoltzConfiguration\n): Observable<void> => {\n  const currency = refundFile.currency;\n  return getFeeEstimation(boltzConfig.apiEndpoint).pipe(\n    mergeMap(fees =>\n      createRefundTransaction(\n        refundFile,\n        transactionHash,\n        destinationAddress,\n        currency,\n        fees,\n        boltzConfig\n      )\n    ),\n    mergeMap((tx: RefundTransaction) =>\n      broadcastRefund(\n        currency,\n        tx.refundTransaction.toHex(),\n        boltzConfig.apiEndpoint\n      )\n    )\n  );\n};\n\nexport const getFeeEstimation = (\n  apiEndpoint: string\n): Observable<FeeResponse> => {\n  return from(fetch(BOLTZ_GET_FEE_ESTIMATION_API_URL(apiEndpoint))).pipe(\n    mergeMap((resp: Response) =>\n      from(resp.json()).pipe(\n        mergeMap(body => (resp.ok ? of(body) : throwError(body)))\n      )\n    )\n  );\n};\n\nexport const getHexBuffer = (input: string): Buffer => {\n  return Buffer.from(input, 'hex');\n};\n\nconst getNetwork = (\n  currency: CurrencyID,\n  boltzConfig: BoltzConfiguration\n): Network => {\n  return currency === CurrencyID.BTC\n    ? boltzConfig.bitcoinConstants\n    : boltzConfig.litecoinConstants;\n};\n\nconst createRefundTransaction = (\n  refundFile: RefundDetails,\n  transactionHash: string,\n  destinationAddress: string,\n  currency: CurrencyID,\n  feeEstimation: FeeResponse,\n  boltzConfig: BoltzConfiguration\n): Observable<RefundTransaction> => {\n  const redeemScript = getHexBuffer(refundFile.redeemScript);\n  const lockupTransaction = Transaction.fromHex(transactionHash);\n\n  return of({\n    refundTransaction: constructRefundTransaction(\n      [\n        {\n          redeemScript,\n          txHash: lockupTransaction.getHash(),\n          keys: ECPair.fromPrivateKey(getHexBuffer(refundFile.privateKey)),\n          ...detectSwap(redeemScript, lockupTransaction)!,\n        },\n      ],\n      address.toOutputScript(\n        destinationAddress,\n        getNetwork(currency, boltzConfig)\n      ),\n      refundFile.timeoutBlockHeight,\n      feeEstimation[currency]\n    ),\n    lockupTransactionId: lockupTransaction.getId(),\n  });\n};\n\nexport const broadcastRefund = (\n  currency: CurrencyID,\n  transactionHex: string,\n  apiEndpoint: string\n): Observable<void> => {\n  return from(\n    fetch(BOLTZ_BROADCAST_TRANSACTION_API_URL(apiEndpoint), {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json;charset=utf-8',\n      },\n      body: JSON.stringify({\n        currency,\n        transactionHex,\n      }),\n    })\n  ).pipe(\n    mergeMap(resp => resp.json()),\n    filter(data => !!data.error),\n    mergeMap(data => {\n      throw new Error(`Failed to broadcast transaction: ${data.error}`);\n    })\n  );\n};\n","import { generateKeys } from './keys';\n\nconst randomBytes = size => {\n  const bytes = Buffer.allocUnsafe(size);\n  global.crypto.getRandomValues(bytes);\n\n  return bytes;\n};\n\nexport { randomBytes, generateKeys };\n","export const BOLTZ_GET_PAIRS_API_URL = (baseUrl: string) =>\n  `${baseUrl}/getpairs`;\nexport const BOLTZ_GET_CONTRACTS_API_URL = (baseUrl: string) =>\n  `${baseUrl}/getcontracts`;\nexport const BOLTZ_CREATE_SWAP_API_URL = (baseUrl: string) =>\n  `${baseUrl}/createSwap`;\nexport const BOLTZ_STREAM_SWAP_STATUS_API_URL = (baseUrl: string) =>\n  `${baseUrl}/streamswapstatus`;\nexport const BOLTZ_SWAP_STATUS_API_URL = (baseUrl: string) =>\n  `${baseUrl}/swapstatus`;\nexport const BOLTZ_GET_SWAP_TRANSACTION_API_URL = (baseUrl: string) =>\n  `${baseUrl}/getswaptransaction`;\nexport const BOLTZ_GET_FEE_ESTIMATION_API_URL = (baseUrl: string) =>\n  `${baseUrl}/getfeeestimation`;\nexport const BOLTZ_BROADCAST_TRANSACTION_API_URL = (baseUrl: string) =>\n  `${baseUrl}/broadcasttransaction`;\n","import React from 'react';\nimport { Networks } from 'boltz-core';\nimport { Network as NetworkConstants } from 'bitcoinjs-lib';\nimport CurrencyID from '../constants/currency';\n\nenum Network {\n  Mainnet = 'MAINNET',\n  Testnet = 'TESTNET',\n  Regtest = 'REGTEST',\n}\n\ntype BlockExplorerConfiguration = {\n  address: string;\n  transaction: string;\n};\n\nexport type BoltzConfiguration = {\n  infuraId: string;\n  apiEndpoint: string;\n\n  bitcoinConstants: NetworkConstants;\n  litecoinConstants: NetworkConstants;\n};\n\ntype NetworkContextData = {\n  network: Network;\n  setNetwork: (network: Network) => void;\n};\n\nconst defaultNetwork = Network.Testnet;\n/*\n  window.location.hostname === 'opendex.app'\n    ? Network.Mainnet\n    : window.location.hostname === 'staging.opendex.app'\n    ? Network.Testnet\n    : Network.Regtest;\n*/\n\nconst NetworkContext = React.createContext<NetworkContextData>({\n  network: defaultNetwork,\n  setNetwork: () => {},\n});\n\nconst NetworkProvider = ({ children }) => {\n  const [network, setNetwork] = React.useState<Network>(defaultNetwork);\n\n  return (\n    <NetworkContext.Provider\n      value={{\n        network,\n        setNetwork,\n      }}\n    >\n      <>{children}</>\n    </NetworkContext.Provider>\n  );\n};\n\nconst useNetwork = (): NetworkContextData => {\n  return React.useContext(NetworkContext);\n};\n\nconst useBlockExplorers = (): Map<string, BlockExplorerConfiguration> => {\n  const { network } = React.useContext(NetworkContext);\n\n  const explorers = new Map<string, BlockExplorerConfiguration>();\n\n  for (const currency of Object.keys(CurrencyID)) {\n    const blockExplorer: BlockExplorerConfiguration = {\n      address:\n        process.env[`REACT_APP_${network}_EXPLORER_${currency}_ADDRESS`]!,\n      transaction:\n        process.env[`REACT_APP_${network}_EXPLORER_${currency}_TRANSACTION`]!,\n    };\n\n    if (\n      blockExplorer.address !== undefined &&\n      blockExplorer.transaction !== undefined\n    ) {\n      explorers.set(currency, blockExplorer);\n    }\n  }\n\n  return explorers;\n};\n\nconst useBoltzConfiguration = (): BoltzConfiguration => {\n  const { network } = React.useContext(NetworkContext);\n\n  const capitalizeFirstLetter = (input: string) => {\n    return input.charAt(0).toUpperCase() + input.slice(1);\n  };\n\n  return {\n    apiEndpoint: process.env[`REACT_APP_BOLTZ_${network}_API`]!,\n    infuraId: process.env[`REACT_APP_BOLTZ_${network}_INFURA_ID`]!,\n\n    bitcoinConstants:\n      Networks[`bitcoin${capitalizeFirstLetter(network.toLowerCase())}`],\n    litecoinConstants:\n      Networks[`litecoin${capitalizeFirstLetter(network.toLowerCase())}`],\n  };\n};\n\nexport {\n  Network,\n  useNetwork,\n  NetworkProvider,\n  useBlockExplorers,\n  useBoltzConfiguration,\n};\n","import { Transaction } from 'bitcoinjs-lib';\nimport CurrencyID from './currency';\n\nexport type BoltzSwapResponse = {\n  id: string;\n  timeoutBlockHeight: number;\n  address: string;\n  expectedAmount?: number;\n  bip21?: string;\n  redeemScript?: string;\n  invoice?: string;\n  lockupAddress?: string;\n  error?: string;\n};\n\nexport type RefundDetails = {\n  swapId: string;\n  currency: CurrencyID;\n  timeoutBlockHeight: number;\n  redeemScript: string;\n  privateKey: string;\n  date: Date;\n};\n\nexport type StatusResponse = {\n  status: SwapUpdateEvent;\n  failureReason: string;\n  transaction?: LockupTransaction;\n};\n\nexport type StatusStep = {\n  status: SwapUpdateEvent[];\n  initialText?: string;\n  textComplete: string;\n};\n\nexport type SwapTransaction = {\n  transactionHex: string;\n  timeoutBlockHeight: number;\n  timeoutEta?: number;\n  error?: string;\n};\n\nexport type RefundTransaction = {\n  refundTransaction: Transaction;\n  lockupTransactionId: string;\n};\n\nexport type FeeResponse = { [key: string]: number };\n\nexport type ClaimDetails = {\n  preImage: Buffer;\n  address: string;\n  instantSwap: boolean;\n  privateKey: string;\n};\n\nexport type ReverseSwapDetails = ClaimDetails & {\n  swapId: string;\n  redeemScript: string;\n};\n\nexport enum SwapUpdateEvent {\n  InvoicePaid = 'invoice.paid',\n  InvoiceSettled = 'invoice.settled',\n  InvoiceSet = 'invoice.set',\n  InvoiceFailedToPay = 'invoice.failedToPay',\n  InvoicePending = 'invoice.pending',\n\n  TransactionFailed = 'transaction.failed',\n  TransactionLockupFailed = 'transaction.lockupFailed',\n  TransactionMempool = 'transaction.mempool',\n  TransactionClaimed = 'transaction.claimed',\n  TransactionRefunded = 'transaction.refunded',\n  TransactionConfirmed = 'transaction.confirmed',\n\n  ChannelCreated = 'channel.created',\n\n  MinerFeePaid = 'minerfee.paid',\n\n  SwapExpired = 'swap.expired',\n}\n\nexport const swapSteps: StatusStep[] = [\n  {\n    status: [SwapUpdateEvent.TransactionMempool],\n    initialText: 'Waiting for transaction',\n    textComplete: 'Transaction detected in mempool',\n  },\n  {\n    status: [\n      SwapUpdateEvent.TransactionConfirmed,\n      SwapUpdateEvent.InvoicePending,\n      SwapUpdateEvent.ChannelCreated,\n    ],\n    initialText: 'Waiting for one confirmation',\n    textComplete: 'Transaction confirmed',\n  },\n  {\n    status: [SwapUpdateEvent.InvoicePaid],\n    initialText: 'Paying your invoice',\n    textComplete: 'Invoice paid',\n  },\n  {\n    status: [SwapUpdateEvent.TransactionClaimed],\n    initialText: 'Transaction complete',\n    textComplete: 'Transaction complete',\n  },\n];\n\ntype LockupTransaction = {\n  id: string;\n  hex: string;\n  eta: number;\n};\n","import React from 'react';\nimport is from 'is_js';\n\ntype Utils = {\n  isMobileView?: boolean;\n};\n\nexport const UtilsContext = React.createContext<Utils | null>(null);\n\nexport const UtilsProvider = ({ children }) => {\n  const isMobileView = is.mobile();\n\n  return (\n    <UtilsContext.Provider value={{ isMobileView }}>\n      <>{children}</>\n    </UtilsContext.Provider>\n  );\n};\n","import leftArrow from '../assets/images/left-arrow.svg';\nimport rightArrowPlain from '../assets/images/right-arrow.svg';\nimport rightArrow from '../assets/images/right-arrow-white.svg';\nimport camera from '../assets/images/Camera.svg';\nimport greenTick from '../assets/images/green-tick.svg';\nimport swap from '../assets/images/swap.svg';\nimport snap from '../assets/images/snap.svg';\nimport clock from '../assets/images/Cameraclock.svg';\nimport logo from '../assets/images/Shape.svg';\nimport boltz from '../assets/images/Boltz.svg';\nimport opendex from '../assets/images/OpenDEX.svg';\nimport fast from '../assets/images/fast.svg';\nimport safe from '../assets/images/safe.svg';\nimport hacked from '../assets/images/hacked.svg';\nimport medium from '../assets/images/medium.svg';\nimport media from '../assets/images/media.svg';\nimport twitter from '../assets/images/twitter.svg';\nimport demo from '../assets/images/Demo.svg';\nimport homepage from '../assets/images/Homepage.svg';\nimport homepagemin from '../assets/images/Homepage-min.png';\nimport oval from '../assets/images/Oval.svg';\nimport close from '../assets/images/close.svg';\nimport hamburger from '../assets/images/hamburger.svg';\nimport questionIcon from '../assets/images/question-icon.svg';\nimport externalLinkIcon from '../assets/images/external-link.svg';\nimport comitLogo from '../assets/images/comit-logo.svg';\nimport comitLogoBlack from '../assets/images/comit-logo-black.svg';\nimport tdexLogo from '../assets/images/tdex-logo.svg';\nimport success from '../assets/images/success.svg';\n\nexport default {\n  leftArrow,\n  rightArrowPlain,\n  rightArrow,\n  camera,\n  greenTick,\n  swap,\n  snap,\n  clock,\n  logo,\n  boltz,\n  opendex,\n  fast,\n  safe,\n  hacked,\n  medium,\n  media,\n  twitter,\n  demo,\n  homepage,\n  homepagemin,\n  oval,\n  close,\n  hamburger,\n  questionIcon,\n  externalLinkIcon,\n  comitLogo,\n  comitLogoBlack,\n  tdexLogo,\n  success,\n};\n","export default __webpack_public_path__ + \"static/media/left-arrow.9c364a67.svg\";","export default __webpack_public_path__ + \"static/media/right-arrow.2e2ed456.svg\";","export default __webpack_public_path__ + \"static/media/right-arrow-white.2e42bfe0.svg\";","export default __webpack_public_path__ + \"static/media/Camera.435588ad.svg\";","export default __webpack_public_path__ + \"static/media/green-tick.19ee7cf7.svg\";","export default __webpack_public_path__ + \"static/media/swap.351404dc.svg\";","export default __webpack_public_path__ + \"static/media/snap.59ff6a88.svg\";","export default __webpack_public_path__ + \"static/media/Cameraclock.fb87dfba.svg\";","export default __webpack_public_path__ + \"static/media/Shape.e9f6dd05.svg\";","export default __webpack_public_path__ + \"static/media/Boltz.da92a8f2.svg\";","export default __webpack_public_path__ + \"static/media/OpenDEX.9cc2e135.svg\";","export default __webpack_public_path__ + \"static/media/fast.b4b16831.svg\";","export default __webpack_public_path__ + \"static/media/safe.2a02ca8f.svg\";","export default __webpack_public_path__ + \"static/media/hacked.0ca95532.svg\";","export default __webpack_public_path__ + \"static/media/medium.594b2fc7.svg\";","export default __webpack_public_path__ + \"static/media/media.412e23ce.svg\";","export default __webpack_public_path__ + \"static/media/twitter.0b5f70c4.svg\";","export default __webpack_public_path__ + \"static/media/Demo.7672b1de.svg\";","export default __webpack_public_path__ + \"static/media/Homepage.45a048a8.svg\";","export default \"data:image/png;base64,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\"","export default __webpack_public_path__ + \"static/media/Oval.379bb5f3.svg\";","export default __webpack_public_path__ + \"static/media/close.d141d6d2.svg\";","export default __webpack_public_path__ + \"static/media/hamburger.babff4f0.svg\";","export default __webpack_public_path__ + \"static/media/question-icon.bb33ebf0.svg\";","export default __webpack_public_path__ + \"static/media/external-link.3a52c902.svg\";","export default __webpack_public_path__ + \"static/media/comit-logo.0328cc4b.svg\";","export default __webpack_public_path__ + \"static/media/comit-logo-black.8380aa58.svg\";","export default __webpack_public_path__ + \"static/media/tdex-logo.38d34c6d.svg\";","export default __webpack_public_path__ + \"static/media/success.d09d8e36.svg\";","import {\n  Button as MuiButton,\n  ButtonProps as MuiButtonProps,\n  CircularProgress,\n  FormControl,\n  makeStyles,\n} from '@material-ui/core';\nimport React, { ReactElement } from 'react';\n\nexport type ButtonProps = MuiButtonProps & {\n  loading?: boolean;\n};\n\nconst isDefaultColor = (props: ButtonProps): boolean =>\n  !props.color || props.color === 'default';\n\nconst useStyles = makeStyles(theme => ({\n  button: (props: ButtonProps) => ({\n    borderRadius: 0,\n    backgroundColor:\n      isDefaultColor(props) && props.variant === 'contained'\n        ? 'rgba(255, 255, 255, 0.05)'\n        : undefined,\n    '&:hover': {\n      backgroundColor: isDefaultColor(props)\n        ? 'rgba(255, 255, 255, 0.07)'\n        : undefined,\n    },\n    color: isDefaultColor(props) ? theme.palette.text.primary : undefined,\n  }),\n  buttonWrapper: {\n    position: 'relative',\n  },\n  buttonProgress: {\n    position: 'absolute',\n    top: '50%',\n    left: '50%',\n    marginTop: -12,\n    marginLeft: -12,\n  },\n}));\n\nconst Button = (props: ButtonProps): ReactElement => {\n  const { className, loading, ...muiButtonProps } = props;\n  const classes = useStyles(props);\n  const buttonClass = `${classes.button} ${className}`;\n\n  return (\n    <FormControl fullWidth={muiButtonProps.fullWidth}>\n      <div className={classes.buttonWrapper}>\n        <MuiButton\n          disableElevation\n          className={buttonClass}\n          {...muiButtonProps}\n        />\n        {loading && (\n          <CircularProgress size={24} className={classes.buttonProgress} />\n        )}\n      </div>\n    </FormControl>\n  );\n};\n\nexport default Button;\n","import {\n  createStyles,\n  Grid,\n  List,\n  ListItem,\n  ListItemText,\n  makeStyles,\n  Tooltip,\n  Typography,\n} from '@material-ui/core';\nimport React, { ReactElement, useEffect, useMemo, useState } from 'react';\nimport { RefundDetails } from '../../../../constants/boltzSwap';\nimport {\n  convertRefundFile,\n  getBoltzSwapsFromLocalStorage,\n} from '../../../../utils/boltzRefund';\nimport svgIcons from '../../../../utils/svgIcons';\nimport Button from '../../../Button';\n\ntype BoltzChooseSwapProps = {\n  setErrorMessage: (message: string) => void;\n  setRefundDetails: (details?: RefundDetails) => void;\n};\n\nconst useStyles = makeStyles(() =>\n  createStyles({\n    list: {\n      maxHeight: '10rem',\n      width: '100%',\n      overflowY: 'auto',\n      margin: '1rem 0',\n    },\n    swapId: {\n      paddingRight: '2rem',\n    },\n    uploadButton: {\n      marginTop: '1rem',\n    },\n    uploadedPlaceholder: {\n      minWidth: '2.5rem',\n    },\n    uploadSuccess: {\n      width: '1.5rem',\n      marginTop: '1rem',\n      marginLeft: '1rem',\n    },\n    input: {\n      display: 'none',\n    },\n    hintIcon: {\n      height: '1.25rem',\n      marginLeft: '0.5rem',\n    },\n    subtitle: {\n      display: 'flex',\n      alignItems: 'center',\n    },\n  })\n);\n\nconst BoltzChooseSwap = (props: BoltzChooseSwapProps): ReactElement => {\n  const classes = useStyles();\n  const { setErrorMessage, setRefundDetails } = props;\n  const [uploadedFile, setUploadedFile] =\n    useState<RefundDetails | undefined>(undefined);\n  const [storedSwaps, setStoredSwaps] = useState<RefundDetails[]>([]);\n  const [selectedSwap, setSelectedSwap] = useState('');\n  const fileInput: React.RefObject<HTMLInputElement> = useMemo(\n    () => React.createRef(),\n    []\n  );\n\n  useEffect(() => {\n    setStoredSwaps(getBoltzSwapsFromLocalStorage().reverse());\n  }, []);\n\n  return (\n    <>\n      <Typography\n        variant=\"body1\"\n        color=\"textSecondary\"\n        component=\"h6\"\n        className={classes.subtitle}\n      >\n        <>\n          Select from recent swaps\n          <Tooltip title=\"These are the refund files that are stored in the browser. Clearing your browser cache would result in the deletion of these files.\">\n            <img\n              className={classes.hintIcon}\n              src={svgIcons.questionIcon}\n              alt=\"hint\"\n            />\n          </Tooltip>\n        </>\n      </Typography>\n      <List className={classes.list}>\n        {storedSwaps.map(swap => (\n          <ListItem\n            key={swap.swapId}\n            button\n            selected={selectedSwap === swap.swapId}\n            onClick={() => {\n              setSelectedSwap(swap.swapId);\n              setUploadedFile(undefined);\n              setErrorMessage('');\n              setRefundDetails(swap);\n            }}\n          >\n            <ListItemText>\n              <Grid item container justify=\"space-between\" alignItems=\"center\">\n                <Grid item xs={12} sm={5}>\n                  <Typography variant=\"body2\">ID: {swap.swapId}</Typography>\n                </Grid>\n                <Typography variant=\"caption\">\n                  {new Date(swap.date).toLocaleString()}\n                </Typography>\n              </Grid>\n            </ListItemText>\n          </ListItem>\n        ))}\n      </List>\n      <Typography variant=\"body1\" color=\"textSecondary\" component=\"h6\">\n        Or upload a refund file\n      </Typography>\n      <Grid item container justify=\"center\" alignItems=\"center\">\n        <Grid item className={classes.uploadedPlaceholder}></Grid>\n        <Grid item>\n          <input\n            ref={fileInput}\n            accept=\".png, .json\"\n            type=\"file\"\n            className={classes.input}\n            onChange={event => {\n              convertRefundFile(event.target.files![0]).then(details => {\n                setUploadedFile(details);\n                setErrorMessage(\n                  !details ? 'Failed to read swap data from uploaded file' : ''\n                );\n                setSelectedSwap('');\n                setRefundDetails(details);\n              });\n            }}\n          />\n          <Button\n            variant=\"outlined\"\n            color=\"primary\"\n            onClick={() => fileInput?.current?.click()}\n            className={classes.uploadButton}\n          >\n            Upload\n          </Button>\n        </Grid>\n        <Grid item className={classes.uploadedPlaceholder}>\n          {!!uploadedFile && (\n            <img\n              className={classes.uploadSuccess}\n              src={svgIcons.greenTick}\n              alt=\"Refund file uploaded\"\n            />\n          )}\n        </Grid>\n      </Grid>\n    </>\n  );\n};\n\nexport default BoltzChooseSwap;\n","import { createStyles, Grid, makeStyles, Typography } from '@material-ui/core';\nimport { ReactElement } from 'react';\nimport svgIcons from '../../../../utils/svgIcons';\n\ntype BoltzRefundResultProps = {\n  swapId?: string;\n  errorMessage?: string;\n};\n\nconst useStyles = makeStyles(() =>\n  createStyles({\n    iconContainer: {\n      margin: '1.5rem',\n    },\n  })\n);\n\nconst BoltzRefundResult = (props: BoltzRefundResultProps): ReactElement => {\n  const { swapId, errorMessage } = props;\n  const classes = useStyles();\n\n  const successMessage = `Swap ${swapId} successfully refunded!`;\n\n  return (\n    <>\n      <Grid item className={classes.iconContainer}>\n        {errorMessage ? (\n          <img src={svgIcons.snap} alt=\"aw, snap!\" />\n        ) : (\n          <img src={svgIcons.greenTick} alt=\"success\" />\n        )}\n      </Grid>\n      <Typography variant=\"body1\" align=\"center\">\n        {errorMessage ? errorMessage : successMessage}\n      </Typography>\n    </>\n  );\n};\n\nexport default BoltzRefundResult;\n","export enum Path {\n  HOME = '/',\n  BOLTZ_REFUND = '/boltz-refund',\n}\n","import { BOLTZ_STREAM_SWAP_STATUS_API_URL } from '../api/boltzApiUrls';\nimport {\n  StatusResponse,\n  swapSteps,\n  SwapUpdateEvent,\n} from '../constants/boltzSwap';\n\nexport const startListening = (\n  swapId: string,\n  apiEndpoint: string,\n  onMessage: (data: StatusResponse, stream: EventSource) => void\n) => {\n  const stream = new EventSource(\n    `${BOLTZ_STREAM_SWAP_STATUS_API_URL(apiEndpoint)}?id=${swapId}`\n  );\n  stream.onmessage = function (event) {\n    const data: StatusResponse = JSON.parse(event.data);\n    onMessage(data, stream);\n  };\n  stream.onerror = event => {\n    console.log('error:', event);\n    stream?.close();\n    setTimeout(() => startListening(swapId, apiEndpoint, onMessage), 2000);\n  };\n};\n\nexport const swapError = (status: StatusResponse): string => {\n  if (\n    swapSteps\n      .map(step => step.status)\n      .concat([SwapUpdateEvent.InvoiceSet])\n      .some(step => step.includes(status.status))\n  ) {\n    return '';\n  }\n  if (status.status === SwapUpdateEvent.InvoiceFailedToPay) {\n    return 'Failed to pay the invoice. Please refund your coins.';\n  }\n  if (status.status === SwapUpdateEvent.TransactionLockupFailed) {\n    return 'Deposited amount is insufficient. Please refund your coins.';\n  }\n  if (status.status === SwapUpdateEvent.SwapExpired) {\n    return 'Swap expired. Please refund your coins if you transferred any to the provided address.';\n  }\n  return status.failureReason || 'Error: Unknown status';\n};\n\nexport const isFinal = (\n  status: StatusResponse,\n  reverse: boolean = false,\n  instant: boolean = false\n): boolean => {\n  if (!reverse) {\n    return (\n      SwapUpdateEvent.TransactionClaimed === status.status ||\n      !!status.failureReason\n    );\n  }\n  return (\n    (instant && SwapUpdateEvent.TransactionMempool === status.status) ||\n    [\n      SwapUpdateEvent.TransactionConfirmed,\n      SwapUpdateEvent.SwapExpired,\n      SwapUpdateEvent.TransactionRefunded,\n      SwapUpdateEvent.TransactionFailed,\n    ].includes(status.status)\n  );\n};\n","import { createStyles, Grid, makeStyles, Typography } from '@material-ui/core';\nimport React, { ReactElement } from 'react';\nimport { useHistory } from 'react-router';\nimport svgIcons from '../../../../utils/svgIcons';\nimport { Path } from '../../../App/path';\nimport Button from '../../../Button';\n\ntype BoltzSwapResultProps = {\n  errorMessage?: string;\n  swapId?: string;\n  showRefundButton?: boolean;\n};\n\nconst useStyles = makeStyles(() =>\n  createStyles({\n    imageContainer: {\n      padding: '2rem',\n    },\n    refundButton: {\n      margin: '2rem 0',\n    },\n  })\n);\n\nconst BoltzSwapResult = (props: BoltzSwapResultProps): ReactElement => {\n  const classes = useStyles();\n  const history = useHistory();\n  const { errorMessage, swapId, showRefundButton } = props;\n\n  return (\n    <Grid\n      item\n      container\n      justify=\"center\"\n      alignItems=\"center\"\n      direction=\"column\"\n    >\n      <Grid item className={classes.imageContainer}>\n        {errorMessage ? (\n          <img src={svgIcons.snap} alt=\"aw, snap!\" />\n        ) : (\n          <img src={svgIcons.greenTick} alt=\"success!\" />\n        )}\n      </Grid>\n      <Typography align=\"center\">\n        {errorMessage || 'Swap successfully completed!'}\n      </Typography>\n      {showRefundButton && !!errorMessage && (\n        <Button\n          variant=\"outlined\"\n          size=\"large\"\n          color=\"primary\"\n          onClick={() => history.push(Path.BOLTZ_REFUND, { swapId: swapId })}\n          className={classes.refundButton}\n        >\n          Refund\n        </Button>\n      )}\n    </Grid>\n  );\n};\n\nexport default BoltzSwapResult;\n","import React, { ReactElement } from 'react';\nimport { StatusResponse } from '../../../../constants/boltzSwap';\nimport { swapError } from '../../../../utils/boltzSwapStatus';\nimport BoltzSwapResult from './../BoltzSwapResult';\n\ntype BoltzSubmarineSwapResultProps = {\n  swapStatus: StatusResponse;\n  swapId?: string;\n  showRefundButton?: boolean;\n};\n\nconst BoltzSubmarineSwapResult = (\n  props: BoltzSubmarineSwapResultProps\n): ReactElement => {\n  const { swapStatus, swapId, showRefundButton } = props;\n\n  return (\n    <BoltzSwapResult\n      errorMessage={swapError(swapStatus)}\n      swapId={swapId}\n      showRefundButton={showRefundButton}\n    />\n  );\n};\n\nexport default BoltzSubmarineSwapResult;\n","import {\n  createStyles,\n  LinearProgress,\n  makeStyles,\n  Step,\n  StepContent,\n  StepLabel,\n  Stepper,\n} from '@material-ui/core';\nimport React, { ReactElement, useEffect, useState } from 'react';\nimport {\n  StatusResponse,\n  swapSteps,\n  SwapUpdateEvent,\n} from '../../../../constants/boltzSwap';\nimport { swapError } from '../../../../utils/boltzSwapStatus';\nimport BoltzSubmarineSwapResult from '../BoltzSubmarineSwapResult';\n\ntype BoltzSubmarineStatusProps = {\n  swapStatus: StatusResponse;\n  showRefundButton?: boolean;\n  swapId?: string;\n  onActiveStepChange?: (step: number) => void;\n};\n\nconst useStyles = makeStyles(() =>\n  createStyles({\n    progressBar: {\n      height: '2px',\n    },\n    imageContainer: {\n      padding: '2rem',\n    },\n    refundButton: {\n      margin: '2rem 0',\n    },\n  })\n);\n\nconst BoltzSubmarineStatus = (\n  props: BoltzSubmarineStatusProps\n): ReactElement => {\n  const classes = useStyles();\n  const { swapId, swapStatus, showRefundButton, onActiveStepChange } = props;\n  const [activeStep, setActiveStep] = useState(0);\n\n  useEffect(() => {\n    const statuses = swapSteps.map(step => step.status);\n    const statusIndex = statuses.findIndex(status =>\n      status.includes(swapStatus.status)\n    );\n    if (statusIndex !== -1) {\n      const newActiveStep = statusIndex + 1;\n      setActiveStep(newActiveStep);\n      !!onActiveStepChange && onActiveStepChange(newActiveStep);\n    }\n  }, [swapStatus, setActiveStep, onActiveStepChange]);\n\n  return (\n    <>\n      {swapError(swapStatus) ||\n      swapStatus.status === SwapUpdateEvent.TransactionClaimed ? (\n        <BoltzSubmarineSwapResult\n          swapStatus={swapStatus}\n          swapId={swapId}\n          showRefundButton={showRefundButton}\n        />\n      ) : (\n        <>\n          <Stepper activeStep={activeStep} orientation=\"vertical\">\n            {swapSteps.map((step, index) => (\n              <Step key={step.status[0]}>\n                <StepLabel>\n                  {activeStep > index ? step.textComplete : step.initialText}\n                </StepLabel>\n                <StepContent>\n                  <LinearProgress className={classes.progressBar} />\n                </StepContent>\n              </Step>\n            ))}\n          </Stepper>\n        </>\n      )}\n    </>\n  );\n};\n\nexport default BoltzSubmarineStatus;\n","import { createStyles, makeStyles, TextField } from '@material-ui/core';\nimport React, { ReactElement, useEffect, useState } from 'react';\nimport { from, timer } from 'rxjs';\nimport { mergeMap, retry } from 'rxjs/operators';\nimport { BOLTZ_GET_SWAP_TRANSACTION_API_URL } from '../../../../api/boltzApiUrls';\nimport {\n  RefundDetails,\n  StatusResponse,\n  swapSteps,\n  SwapTransaction,\n  SwapUpdateEvent,\n} from '../../../../constants/boltzSwap';\nimport { useBoltzConfiguration } from '../../../../context/NetworkContext';\nimport BoltzSubmarineStatus from '../BoltzSubmarineStatus';\n\ntype BoltzRefundStatusProps = {\n  refundDetails: RefundDetails;\n  swapStatus: StatusResponse;\n  address: string;\n  setAddress: (value: string) => void;\n  onSwapTransactionChange: (transaction: SwapTransaction) => void;\n};\n\nconst useStyles = makeStyles(() =>\n  createStyles({\n    addressField: {\n      marginTop: '1rem',\n    },\n    input: {\n      borderRadius: 0,\n    },\n  })\n);\n\nconst BoltzRefundStatus = (props: BoltzRefundStatusProps): ReactElement => {\n  const classes = useStyles();\n  const {\n    refundDetails,\n    swapStatus,\n    address,\n    setAddress,\n    onSwapTransactionChange,\n  } = props;\n  const { apiEndpoint } = useBoltzConfiguration();\n  const [swapTransaction, setSwapTransaction] =\n    useState<SwapTransaction | undefined>(undefined);\n  const [queryTransaction, setQueryTransaction] = useState(true);\n\n  const addressFieldText = `Insert your ${refundDetails.currency} address for refund`;\n\n  useEffect(() => {\n    if (!queryTransaction) {\n      return;\n    }\n    const sub = timer(0, 60000)\n      .pipe(\n        mergeMap(() =>\n          from(\n            fetch(BOLTZ_GET_SWAP_TRANSACTION_API_URL(apiEndpoint), {\n              method: 'POST',\n              headers: {\n                'Content-Type': 'application/json;charset=utf-8',\n              },\n              body: JSON.stringify({ id: refundDetails.swapId }),\n            })\n          )\n        ),\n        mergeMap(response => response.json()),\n        retry(10)\n      )\n      .subscribe({\n        next: transaction => {\n          setSwapTransaction(transaction);\n          onSwapTransactionChange(transaction);\n          if (\n            !transaction.timeoutEta &&\n            swapStatus.status !== SwapUpdateEvent.InvoiceSet\n          ) {\n            setQueryTransaction(false);\n          }\n        },\n        error: err => console.log('Failed to get swap transaction data:', err),\n      });\n    return () => sub.unsubscribe();\n  }, [\n    queryTransaction,\n    apiEndpoint,\n    refundDetails,\n    swapStatus.status,\n    onSwapTransactionChange,\n  ]);\n\n  return (\n    <>\n      <BoltzSubmarineStatus swapStatus={swapStatus!} />\n      {!!swapTransaction?.transactionHex &&\n        !swapSteps.some(step => step.status.includes(swapStatus.status)) && (\n          <TextField\n            className={classes.addressField}\n            multiline\n            fullWidth\n            variant=\"outlined\"\n            aria-label={addressFieldText}\n            rows={3}\n            disabled={!!swapTransaction?.timeoutEta}\n            placeholder={addressFieldText}\n            value={address}\n            onChange={e => {\n              setAddress(e.target.value);\n            }}\n            InputProps={{\n              className: classes.input,\n            }}\n          />\n        )}\n    </>\n  );\n};\n\nexport default BoltzRefundStatus;\n","import { createStyles, makeStyles, Typography } from '@material-ui/core';\nimport React, { ReactElement } from 'react';\n\nexport type ErrorMessageProps = {\n  message: string;\n  className?: string;\n};\n\nconst useStyles = makeStyles(() =>\n  createStyles({\n    root: {\n      fontFamily: 'ApercuProRegular',\n    },\n  })\n);\n\nconst ErrorMessage = (props: ErrorMessageProps): ReactElement => {\n  const { message, className } = props;\n  const classes = useStyles();\n\n  const rootClass = `${classes.root} ${className}`;\n\n  return (\n    <Typography color=\"error\" align=\"center\" className={rootClass}>\n      {message}\n    </Typography>\n  );\n};\n\nexport default ErrorMessage;\n","import { createStyles, Grid, makeStyles, Typography } from '@material-ui/core';\nimport React, { ReactElement } from 'react';\nimport Button from '../../../Button';\nimport ErrorMessage from '../../../ErrorMessage';\n\ntype BoltzSwapStepProps = {\n  content: ReactElement;\n  title: string | ReactElement;\n  errorMessage?: string;\n  mainButtonText?: string;\n  mainButtonVisible?: boolean;\n  mainButtonDisabled?: boolean;\n  mainButtonLoading?: boolean;\n  onMainButtonClick?: () => void;\n};\n\nconst useStyles = makeStyles(() =>\n  createStyles({\n    content: {\n      padding: '2rem',\n      flex: 1,\n      justifyContent: 'space-between',\n    },\n    title: {\n      marginBottom: '1rem',\n      fontSize: '1.5rem',\n      lineHeight: 'normal',\n      letterSpacing: '1px',\n      width: '100%',\n    },\n    errorMessage: {\n      marginBottom: '1rem',\n    },\n  })\n);\n\nconst BoltzSwapStep = (props: BoltzSwapStepProps): ReactElement => {\n  const classes = useStyles();\n  const {\n    content,\n    title,\n    errorMessage,\n    mainButtonText,\n    mainButtonVisible,\n    mainButtonDisabled,\n    mainButtonLoading,\n    onMainButtonClick,\n  } = props;\n\n  return (\n    <>\n      <Grid\n        container\n        className={classes.content}\n        justify=\"flex-start\"\n        direction=\"column\"\n        alignItems=\"center\"\n      >\n        <Typography className={classes.title} component=\"h2\" align=\"center\">\n          {title}\n        </Typography>\n        {content}\n        <span />\n      </Grid>\n      {!!errorMessage && (\n        <ErrorMessage message={errorMessage} className={classes.errorMessage} />\n      )}\n      {mainButtonVisible && (\n        <Button\n          fullWidth\n          variant=\"contained\"\n          color=\"primary\"\n          loading={mainButtonLoading}\n          disabled={mainButtonDisabled || mainButtonLoading}\n          onClick={onMainButtonClick}\n        >\n          {mainButtonText}\n        </Button>\n      )}\n    </>\n  );\n};\n\nexport default BoltzSwapStep;\n","import { Grid } from '@material-ui/core';\nimport Card from '@material-ui/core/Card';\nimport CardContent from '@material-ui/core/CardContent';\nimport { makeStyles } from '@material-ui/core/styles';\nimport React from 'react';\n\nconst useStyles = makeStyles({\n  root: {\n    // height: 600,\n    borderRadius: '0.1rem',\n  },\n  content: {\n    padding: 0,\n    height: '100%',\n    '&:last-child': {\n      'padding-bottom': 0,\n    },\n  },\n  card: {\n    flex: 1,\n    margin: '2rem 0',\n  },\n});\n\nconst CardComponent = ({ children }) => {\n  const classes = useStyles();\n  return (\n    <Grid\n      container\n      direction=\"column\"\n      alignItems=\"center\"\n      className={classes.card}\n    >\n      <Grid item container justify=\"center\">\n        <Grid item xs={11} sm={9} md={6} lg={4} xl={3}>\n          <Card className={classes.root}>\n            <CardContent className={classes.content}>{children}</CardContent>\n          </Card>\n        </Grid>\n      </Grid>\n    </Grid>\n  );\n};\n\nexport default CardComponent;\n","import { Typography } from '@material-ui/core';\nimport { createStyles, makeStyles } from '@material-ui/core/styles';\nimport React, { ReactNode } from 'react';\n\nconst useStyles = makeStyles(() =>\n  createStyles({\n    title: {\n      marginTop: '2rem',\n      fontSize: '2rem',\n      fontWeight: 500,\n      fontStretch: 'normal',\n      fontStyle: 'normal',\n      lineHeight: 'normal',\n      letterSpacing: '1.33px',\n      textAlign: 'center',\n    },\n  })\n);\n\nexport type TitleProps = {\n  children: ReactNode;\n};\n\nconst Title = ({ children }) => {\n  const classes = useStyles();\n\n  return (\n    <Typography className={classes.title} component=\"h1\" align=\"center\">\n      {children}\n    </Typography>\n  );\n};\n\nexport default Title;\n","import { createStyles, makeStyles } from '@material-ui/core/styles';\nimport React, { ReactNode } from 'react';\n\nconst useStyles = makeStyles(theme =>\n  createStyles({\n    outerCircle: {\n      zIndex: -1,\n      display: 'flex',\n      position: 'fixed',\n      opacity: '0.1',\n      background: `linear-gradient(right bottom, ${theme.palette.background.default} 0%, ${theme.palette.primary.main} 100%)`,\n      'border-radius': '50%',\n      'align-items': 'center',\n      'justify-content': 'center',\n      height: '80vw',\n      width: '80vw',\n      top: 'max(-200px, calc(-60vw + 100px))',\n      right: 'max(-200px, calc(-70vw + 100px))',\n      'max-width': 675,\n      'max-height': 675,\n      'min-width': 180,\n      'min-height': 180,\n    },\n    innerCircle: {\n      background: theme.palette.background.default,\n      'border-radius': '50%',\n      height: 'calc(80vw - 75px)',\n      width: 'calc(80vw - 75px)',\n      'max-width': 600,\n      'max-height': 600,\n      'min-width': 150,\n      'min-height': 150,\n    },\n    background: {\n      zIndex: -2,\n      position: 'fixed',\n      height: '100%',\n      width: '100%',\n      background: '#0c0c0c',\n      opacity: 0.1,\n      backgroundImage:\n        'radial-gradient(circle at 30% 51%, #ff4400, #0a0e1a 73%)',\n    },\n  })\n);\n\nexport type BackgroundProps = {\n  children: ReactNode;\n};\n\nconst Background = ({ children }) => {\n  const classes = useStyles();\n\n  return (\n    <>\n      <div className={classes.background}></div>\n      <div className={classes.outerCircle}>\n        <div className={classes.innerCircle}></div>\n      </div>\n      {children}\n    </>\n  );\n};\n\nexport default Background;\n","import { Divider as MuiDivider } from '@material-ui/core';\nimport { createStyles, makeStyles } from '@material-ui/core/styles';\nimport React from 'react';\n\nconst useStyles = makeStyles(() =>\n  createStyles({\n    root: {\n      opacity: 0.3,\n    },\n  })\n);\n\nexport type DividerProps = {};\n\nconst Divider = (_props: DividerProps) => {\n  const classes = useStyles();\n\n  return <MuiDivider className={classes.root} variant=\"middle\" />;\n};\n\nexport default Divider;\n","import { Grid } from '@material-ui/core';\nimport { makeStyles, createStyles } from '@material-ui/core/styles';\nimport React from 'react';\nimport Divider from '../Divider';\n\nconst useStyles = makeStyles(theme =>\n  createStyles({\n    text: {\n      display: 'flex',\n      justifyContent: 'center',\n      margin: '1rem 0',\n      color: theme.palette.text.secondary,\n    },\n  })\n);\n\nconst Footer = () => {\n  const classes = useStyles();\n\n  return (\n    <Grid\n      container\n      justify=\"center\"\n      direction=\"row\"\n      alignItems=\"center\"\n      className={classes.root}\n    >\n      <Grid item xs={12}>\n        <Divider />\n      </Grid>\n      <Grid item className={classes.text} xs={11} sm={9}>\n        opendex.app runs locally in your browser. It does not collect any\n        personal data and ensures swaps are secure.\n      </Grid>\n    </Grid>\n  );\n};\n\nexport default Footer;\n","import { Grid } from '@material-ui/core';\nimport { createStyles, makeStyles } from '@material-ui/core/styles';\nimport svgIcons from '../../utils/svgIcons';\n\nconst useStyles = makeStyles(() =>\n  createStyles({\n    logo: {\n      height: '2rem',\n    },\n    logoWrapper: {\n      display: 'flex',\n      alignItems: 'center',\n    },\n  })\n);\n\nexport type OpendexLogoProps = {\n  onClick?: () => {};\n};\n\nconst OpendexLogo = (props: OpendexLogoProps) => {\n  const classes = useStyles();\n  const { onClick } = props;\n\n  return (\n    <Grid item onClick={onClick} className={classes.logoWrapper}>\n      <img className={classes.logo} src={svgIcons.opendex} alt=\"OpenDEX Logo\" />\n    </Grid>\n  );\n};\n\nexport default OpendexLogo;\n","import { createStyles, Link, LinkProps, makeStyles } from '@material-ui/core';\nimport React, { ReactElement } from 'react';\n\ntype NavLinkProps = LinkProps;\n\nconst useStyles = makeStyles(theme =>\n  createStyles({\n    navLink: {\n      color: theme.palette.text.primary,\n      fontSize: '1rem',\n      letterSpacing: '0.67px',\n    },\n  })\n);\n\nconst NavLink = (props: NavLinkProps): ReactElement => {\n  const { ...linkProps } = props;\n  const classes = useStyles();\n\n  return (\n    <Link\n      className={classes.navLink}\n      target=\"_blank\"\n      rel=\"noopener noreferrer\"\n      {...linkProps}\n    />\n  );\n};\n\nexport default NavLink;\n","import {\n  createStyles,\n  Grid,\n  Grow,\n  isWidthUp,\n  makeStyles,\n  MenuItem,\n  MenuList,\n  Paper,\n  Popper,\n  WithWidth,\n  withWidth,\n} from '@material-ui/core';\nimport ClickAwayListener from '@material-ui/core/ClickAwayListener';\nimport { ReactElement, useState } from 'react';\nimport svgIcons from '../../utils/svgIcons';\nimport Button from '../Button';\nimport NavLink from '../NavLink';\n\nexport type MenuProps = WithWidth;\n\nconst useStyles = makeStyles(() =>\n  createStyles({\n    menuOpener: {\n      minWidth: 36,\n      height: 36,\n    },\n    popper: {\n      marginTop: 5,\n    },\n  })\n);\n\nconst Menu = (props: MenuProps): ReactElement => {\n  const { width } = props;\n  const [open, setOpen] = useState(false);\n  const menuOpener = 'menuOpener';\n  const classes = useStyles();\n\n  const handleToggle = () => setOpen(oldValue => !oldValue);\n  const handleClose = () => setOpen(false);\n\n  const communityLink = (\n    <NavLink href=\"https://discord.gg/aS5RMchDrU\">Community</NavLink>\n  );\n  const repoLink = (\n    <NavLink href=\"https://github.com/opendexnetwork/opendex.app\">\n      GitHub\n    </NavLink>\n  );\n\n  if (isWidthUp('sm', width)) {\n    return (\n      <Grid\n        container\n        spacing={1}\n        justify=\"flex-end\"\n        direction=\"row\"\n        alignItems=\"center\"\n      >\n        <Grid item>{communityLink}</Grid>\n        <Grid item>{repoLink}</Grid>\n      </Grid>\n    );\n  } else {\n    // small screens\n    return (\n      <div>\n        <Button\n          className={classes.menuOpener}\n          aria-haspopup=\"true\"\n          variant=\"contained\"\n          onClick={handleToggle}\n          id={menuOpener}\n        >\n          {open && <img src={svgIcons.close} alt=\"\" />}\n          {!open && <img src={svgIcons.hamburger} alt=\"\" />}\n        </Button>\n        <Popper\n          open={open}\n          transition\n          placement=\"bottom-start\"\n          className={classes.popper}\n          anchorEl={document.getElementById(menuOpener)}\n        >\n          {({ TransitionProps }) => (\n            <Grow {...TransitionProps}>\n              <Paper>\n                <ClickAwayListener onClickAway={handleClose}>\n                  <MenuList autoFocusItem={open}>\n                    <MenuItem onClick={handleClose}>{communityLink}</MenuItem>\n                    <MenuItem onClick={handleClose}>{repoLink}</MenuItem>\n                  </MenuList>\n                </ClickAwayListener>\n              </Paper>\n            </Grow>\n          )}\n        </Popper>\n      </div>\n    );\n  }\n};\n\nexport default withWidth()(Menu);\n","import {\n  AppBar,\n  Grid,\n  isWidthUp,\n  Toolbar,\n  WithWidth,\n  withWidth,\n} from '@material-ui/core';\nimport { createStyles, makeStyles } from '@material-ui/core/styles';\nimport Divider from '../Divider';\nimport Logo from '../Logo/';\nimport Menu from '../Menu';\nimport React from 'react';\n\nconst useStyles = makeStyles(() =>\n  createStyles({\n    toolbar: {\n      flexWrap: 'wrap',\n    },\n  })\n);\n\nexport type NavBarProps = WithWidth & {};\n\nconst NavBar = (props: NavBarProps) => {\n  const classes = useStyles();\n  const { width } = props;\n\n  return (\n    <div>\n      <AppBar elevation={0} color=\"transparent\" position=\"static\">\n        <Toolbar classes={{ root: classes.toolbar }}>\n          <Grid\n            justify=\"space-between\"\n            container\n            direction={isWidthUp('sm', width) ? 'row' : 'row-reverse'}\n            alignItems=\"center\"\n          >\n            <Logo />\n            <Grid item>\n              <Menu />\n            </Grid>\n          </Grid>\n        </Toolbar>\n      </AppBar>\n      <Divider />\n    </div>\n  );\n};\n\nexport default withWidth()(NavBar);\n","import { Box, Grid } from '@material-ui/core';\nimport { createStyles, makeStyles } from '@material-ui/core/styles';\nimport { default as React, ReactNode } from 'react';\nimport Background from '../components/Background';\nimport Footer from '../components/Footer';\nimport NavBar from '../components/NavBar';\n\nconst useStyles = makeStyles(() =>\n  createStyles({\n    box: {\n      height: '100vh',\n      display: 'flex',\n      flexDirection: 'column',\n    },\n    content: {\n      display: 'flex',\n      flex: 1,\n      justifyContent: 'center',\n    },\n  })\n);\n\nexport type DefaultLayoutProps = {\n  children: ReactNode;\n};\n\nconst DefaultLayout = (props: DefaultLayoutProps) => {\n  const classes = useStyles();\n\n  return (\n    <Background>\n      <Box className={classes.box}>\n        <NavBar />\n        <Grid item className={classes.content}>\n          {props.children}\n        </Grid>\n        <Footer />\n      </Box>\n    </Background>\n  );\n};\n\nexport default DefaultLayout;\n","const diffCalculator = (diffInMilliSeconds, secondsFormat = false) => {\n  const originalDifference = diffInMilliSeconds;\n  // calculate days\n  const days = Math.floor(diffInMilliSeconds / 86400);\n  diffInMilliSeconds -= days * 86400;\n\n  // calculate hours\n  const hours = Math.floor(diffInMilliSeconds / 3600) % 24;\n  diffInMilliSeconds -= hours * 3600;\n\n  // calculate minutes\n  const eta = Math.floor(originalDifference / 60);\n  const minutes = Math.floor(diffInMilliSeconds / 60) % 60;\n  diffInMilliSeconds -= minutes * 60;\n\n  const seconds = diffInMilliSeconds;\n\n  let difference = '';\n  if (days > 0) {\n    difference += days === 1 ? `${days} day, ` : `${days} days, `;\n  }\n\n  difference +=\n    hours === 0 ? '' : hours === 1 ? `${hours} hour, ` : `${hours} hours, `;\n\n  difference +=\n    minutes === 0 || hours === 1 ? `${minutes} minutes` : `${minutes} minutes`;\n\n  return {\n    value: eta,\n    label: secondsFormat\n      ? `${minutes}:${('0' + seconds).slice(-2)}`\n      : difference,\n  };\n};\n\nexport const getETALabelWithSeconds = eta => {\n  return diffCalculator(eta, true);\n};\n\nexport const getETALabel = eta => {\n  return diffCalculator(eta * 60);\n};\n\nexport function timeDiffCalc(dateFuture, dateNow) {\n  let diffInMilliSeconds = (dateFuture - dateNow) / 1000;\n\n  return diffCalculator(diffInMilliSeconds);\n}\n\n// console.log(timeDiffCalc(new Date('2019/10/4 04:10:00'), new Date('2019/10/2 18:20:00')));\n\n// the time difference is:\n// 1 day, 9 hours, 50 minutes\n","/**\n *\n * @returns message value if argument is an Error\n * @returns the input value if argument is a string\n * @returns an empty string in other cases\n */\nexport const getErrorMessage = (err: unknown): string => {\n  if (typeof err === 'string') {\n    return err;\n  }\n  if (err instanceof Error) {\n    return err.message;\n  }\n  return '';\n};\n","import { CurrencyID } from './currency';\nimport { CurrencyPair } from './rates';\n\nexport enum SwapProvider {\n  BOLTZ = 'Boltz',\n  COMIT = 'Comit',\n  TDEX = 'TDex',\n}\n\nexport enum Direction {\n  SINGLE,\n  BOTH,\n}\n\nexport class SwapProviderPair {\n  public constructor(\n    public pair: CurrencyPair,\n    public direction: Direction = Direction.BOTH\n  ) {}\n}\n\nexport const swapProviders = {\n  [SwapProvider.BOLTZ]: [\n    new SwapProviderPair([CurrencyID.BTC, CurrencyID.LIGHTNING_BTC]),\n    new SwapProviderPair([CurrencyID.BTC, CurrencyID.LIGHTNING_LTC]),\n    new SwapProviderPair([CurrencyID.ETH, CurrencyID.LIGHTNING_BTC]),\n    new SwapProviderPair([CurrencyID.ETH_USDT, CurrencyID.LIGHTNING_BTC]),\n    new SwapProviderPair([CurrencyID.LTC, CurrencyID.LIGHTNING_BTC]),\n    new SwapProviderPair([CurrencyID.LTC, CurrencyID.LIGHTNING_LTC]),\n  ],\n  [SwapProvider.COMIT]: [\n    new SwapProviderPair([CurrencyID.BTC, CurrencyID.MONERO], Direction.SINGLE),\n  ],\n  [SwapProvider.TDEX]: [\n    new SwapProviderPair([CurrencyID.LIQUID_BTC, CurrencyID.LIQUID_USDT]),\n    new SwapProviderPair([CurrencyID.LIQUID_BTC, CurrencyID.LIQUID_CAD]),\n  ],\n};\n\nexport enum SwapStep {\n  CHOOSE_PAIR,\n  SWAP_FLOW,\n}\n","import { createStyles, Grid, makeStyles } from '@material-ui/core';\nimport React, { ReactElement, useEffect, useMemo, useState } from 'react';\nimport { useLocation } from 'react-router';\nimport { from } from 'rxjs';\nimport { mergeMap } from 'rxjs/operators';\nimport { BOLTZ_SWAP_STATUS_API_URL } from '../api/boltzApiUrls';\nimport BoltzChooseSwap from '../components/BoltzSwapFlow/components/BoltzChooseSwap';\nimport BoltzRefundResult from '../components/BoltzSwapFlow/components/BoltzRefundResult';\nimport BoltzRefundStatus from '../components/BoltzSwapFlow/components/BoltzRefundStatus';\nimport BoltzSwapStep from '../components/BoltzSwapFlow/components/BoltzSwapStep';\nimport CardComponent from '../components/Card';\nimport Title from '../components/Title';\nimport {\n  RefundDetails,\n  StatusResponse,\n  SwapTransaction,\n  SwapUpdateEvent,\n} from '../constants/boltzSwap';\nimport { useBoltzConfiguration } from '../context/NetworkContext';\nimport Layout from '../layout/main';\nimport { timeDiffCalc } from '../services/refund/timestamp';\nimport {\n  getBoltzSwapsFromLocalStorage,\n  removeRefundDetailsFromLocalStorage,\n  startRefund,\n} from '../utils/boltzRefund';\nimport { isFinal, startListening } from '../utils/boltzSwapStatus';\nimport { getErrorMessage } from '../utils/error';\n\ntype RefundStep = {\n  content: ReactElement;\n  buttonText: string;\n  onButtonClick: () => void;\n  buttonDisabled?: boolean;\n};\n\nconst useStyles = makeStyles(() =>\n  createStyles({\n    root: {\n      display: 'flex',\n      'flex-direction': 'column',\n      'justify-content': 'space-between',\n      flex: 1,\n      minHeight: 440,\n    },\n  })\n);\n\nconst BoltzRefund = (): ReactElement => {\n  const classes = useStyles();\n  const boltzConfig = useBoltzConfiguration();\n  const { apiEndpoint } = boltzConfig;\n  const location = useLocation<{ swapId: string }>();\n  const [errorMessage, setErrorMessage] = useState('');\n  const [loading, setLoading] = useState(false);\n  const [refundDetails, setRefundDetails] =\n    useState<RefundDetails | undefined>(undefined);\n  const [swapStatus, setSwapStatus] =\n    useState<StatusResponse | undefined>(undefined);\n  const [swapTransaction, setSwapTransaction] =\n    useState<SwapTransaction | undefined>(undefined);\n  const [activeStep, setActiveStep] = useState(0);\n  const [address, setAddress] = useState('');\n\n  const reset = () => {\n    setActiveStep(0);\n    setErrorMessage('');\n    setRefundDetails(undefined);\n    setSwapStatus(undefined);\n    setSwapTransaction(undefined);\n    setAddress('');\n  };\n\n  const getEta = () => {\n    const d1 = new Date();\n    const d2 = new Date(swapTransaction!.timeoutEta! * 1000);\n    const { label, value } = timeDiffCalc(d2, d1);\n    return {\n      label,\n      eta: value > 0 ? value : 0,\n    };\n  };\n\n  const swapComplete =\n    swapStatus?.status === SwapUpdateEvent.TransactionClaimed;\n\n  const refundButtonText = () => {\n    if (swapTransaction?.error) {\n      return swapTransaction.error;\n    }\n    if (swapComplete) {\n      return 'Ok';\n    }\n    if (swapTransaction?.timeoutEta) {\n      const { label } = getEta();\n      return `Refund possible in ~ ${label}`;\n    }\n    return 'Start Refund';\n  };\n\n  const steps: RefundStep[] = [\n    {\n      content: (\n        <BoltzChooseSwap\n          setErrorMessage={setErrorMessage}\n          setRefundDetails={setRefundDetails}\n        />\n      ),\n      buttonText: 'Check Status',\n      onButtonClick: () => checkStatus(refundDetails!.swapId),\n      buttonDisabled: !refundDetails,\n    },\n    {\n      content: (\n        <BoltzRefundStatus\n          swapStatus={swapStatus!}\n          refundDetails={refundDetails!}\n          address={address}\n          setAddress={setAddress}\n          onSwapTransactionChange={setSwapTransaction}\n        />\n      ),\n      buttonText: refundButtonText(),\n      buttonDisabled:\n        !swapComplete &&\n        (!swapTransaction ||\n          !!swapTransaction.error ||\n          !!swapTransaction.timeoutEta ||\n          !address),\n      onButtonClick: () => {\n        if (swapComplete) {\n          reset();\n          return;\n        }\n        setLoading(true);\n        startRefund(\n          refundDetails!,\n          address,\n          swapTransaction!.transactionHex,\n          boltzConfig\n        ).subscribe({\n          next: () => {},\n          error: err => {\n            setErrorMessage(getErrorMessage(err) || 'Refund failed');\n            console.log('Refund failed:', err);\n            setLoading(false);\n            setActiveStep(prev => prev + 1);\n          },\n          complete: () => {\n            removeRefundDetailsFromLocalStorage(refundDetails!.swapId);\n            setLoading(false);\n            setActiveStep(prev => prev + 1);\n          },\n        });\n      },\n    },\n    {\n      content: (\n        <BoltzRefundResult\n          swapId={refundDetails?.swapId}\n          errorMessage={errorMessage}\n        />\n      ),\n      buttonText: 'Refund Again',\n      onButtonClick: reset,\n    },\n  ];\n\n  const checkStatus = useMemo(\n    () =>\n      (swapId: string): void => {\n        setLoading(true);\n        from(\n          fetch(BOLTZ_SWAP_STATUS_API_URL(apiEndpoint), {\n            method: 'POST',\n            headers: {\n              'Content-Type': 'application/json;charset=utf-8',\n            },\n            body: JSON.stringify({ id: swapId }),\n          })\n        )\n          .pipe(mergeMap(response => response.json()))\n          .subscribe({\n            next: status => {\n              setSwapStatus(status);\n              setLoading(false);\n              setActiveStep(prev => prev + 1);\n              if (isFinal(status)) {\n                return;\n              }\n              startListening(swapId, apiEndpoint, (data, stream) => {\n                setSwapStatus(data);\n                if (isFinal(data)) {\n                  stream.close();\n                  if (SwapUpdateEvent.TransactionClaimed === data.status) {\n                    removeRefundDetailsFromLocalStorage(swapId);\n                  }\n                }\n              });\n            },\n            error: err => {\n              setErrorMessage(getErrorMessage(err) || 'Failed to get status');\n              setLoading(false);\n            },\n          });\n      },\n    [apiEndpoint]\n  );\n\n  useEffect(() => {\n    if (location.state?.swapId) {\n      const refundDetails = getBoltzSwapsFromLocalStorage().find(\n        swap => swap.swapId === location.state.swapId\n      );\n      if (!refundDetails) {\n        return;\n      }\n      setRefundDetails(refundDetails);\n      checkStatus(location.state.swapId);\n    }\n  }, [checkStatus, location.state?.swapId]);\n\n  return (\n    <Layout>\n      <Grid container direction=\"column\" wrap=\"nowrap\" alignItems=\"center\">\n        <Title>CROSS-CHAIN DEX AGGREGATOR</Title>\n        <Grid item container direction=\"column\" wrap=\"nowrap\">\n          <CardComponent>\n            <div className={classes.root}>\n              <BoltzSwapStep\n                title=\"Check status or refund\"\n                content={steps[activeStep].content}\n                mainButtonVisible\n                mainButtonDisabled={steps[activeStep].buttonDisabled}\n                mainButtonLoading={loading}\n                mainButtonText={steps[activeStep].buttonText}\n                errorMessage={\n                  activeStep === steps.length - 1 ? '' : errorMessage\n                }\n                onMainButtonClick={steps[activeStep].onButtonClick}\n              />\n            </div>\n          </CardComponent>\n        </Grid>\n      </Grid>\n    </Layout>\n  );\n};\n\nexport default BoltzRefund;\n","import { Box, MenuItem, TextField } from '@material-ui/core';\nimport React from 'react';\n\nconst SelectComponent = props => {\n  const {\n    options,\n    variant,\n    defaultValue,\n    onChange,\n    value,\n    disabled,\n    disableUnderline,\n    className,\n  } = props;\n  const [option, setOption] = React.useState(\n    value.id || defaultValue.id || options[0].id\n  );\n\n  React.useEffect(() => {\n    if (value.id !== option) {\n      setOption(value.id);\n    }\n  }, [option, value]);\n\n  const handleChange = event => {\n    const value = event.target.value;\n    const selectedOption = options.filter(option => option.id === value)[0];\n    setOption(value);\n    onChange(selectedOption);\n  };\n\n  return (\n    <Box>\n      <TextField\n        select\n        InputProps={{\n          disableUnderline,\n        }}\n        className={className}\n        value={option}\n        onChange={handleChange}\n        variant={variant}\n        disabled={disabled}\n        SelectProps={{ MenuProps: { disableScrollLock: true } }}\n      >\n        {options.map(option => (\n          <MenuItem key={option.id} value={option.id}>\n            {option.label || option.id}\n          </MenuItem>\n        ))}\n      </TextField>\n    </Box>\n  );\n};\n\nexport default SelectComponent;\n","import React, { ReactElement } from 'react';\nimport NumberFormat from 'react-number-format';\n\ntype NumberInputProps = {\n  inputRef: (instance: NumberFormat | null) => void;\n  onChange: (event: { target: { name: string; value: string } }) => void;\n  name: string;\n  decimalScale: number;\n  negativeEnabled?: boolean;\n};\n\nconst NumberInput = (props: NumberInputProps): ReactElement => {\n  const { inputRef, onChange, negativeEnabled, decimalScale, ...other } = props;\n\n  return (\n    <NumberFormat\n      {...other}\n      getInputRef={inputRef}\n      onValueChange={values => {\n        onChange({\n          target: {\n            name: props.name,\n            value: values.value,\n          },\n        });\n      }}\n      isNumericString\n      decimalScale={decimalScale}\n      allowNegative={!!negativeEnabled}\n    />\n  );\n};\n\nexport default NumberInput;\n","import { TextField, TextFieldProps } from '@material-ui/core';\nimport React, { ReactElement } from 'react';\nimport NumberInput from './NumberInput';\n\ntype NumberFieldProps = TextFieldProps & {\n  decimalScale?: number;\n};\n\nconst NumberField = (props: NumberFieldProps): ReactElement => {\n  const { decimalScale, InputProps, inputProps, ...other } = props;\n\n  return (\n    <TextField\n      InputProps={{\n        inputComponent: NumberInput as any,\n        inputProps: { decimalScale: decimalScale, ...inputProps },\n        ...InputProps,\n      }}\n      {...other}\n    />\n  );\n};\n\nexport default NumberField;\n","import { createStyles, makeStyles } from '@material-ui/core/styles';\nimport Skeleton from '@material-ui/lab/Skeleton';\nimport React from 'react';\nimport { CurrencyOptions } from '../../constants/currency';\nimport SelectComponent from '../Select';\nimport NumberField from '../NumberField';\n\nconst useStyles = makeStyles(() =>\n  createStyles({\n    selectAsset: {\n      width: '8rem',\n      '& .MuiSelect-select:focus': {\n        'background-color': 'inherit',\n      },\n      '& .MuiSelect-root': {\n        display: 'flex',\n        alignItems: 'center',\n      },\n    },\n  })\n);\n\nconst AssetSelector = props => {\n  const classes = useStyles();\n  const {\n    label,\n    value,\n    onAmountChange,\n    onAssetChange,\n    selectedAsset,\n    placeholder,\n    loading,\n    error,\n  } = props;\n\n  return loading ? (\n    <Skeleton variant=\"text\" height={58} animation={'wave'} />\n  ) : (\n    <NumberField\n      label={label}\n      value={value}\n      onChange={onAmountChange}\n      autoFocus\n      fullWidth\n      placeholder={placeholder}\n      error={!!error}\n      helperText={error}\n      InputProps={{\n        endAdornment: (\n          <SelectComponent\n            disableUnderline\n            className={classes.selectAsset}\n            options={CurrencyOptions}\n            onChange={onAssetChange}\n            value={selectedAsset}\n          />\n        ),\n      }}\n      InputLabelProps={{\n        shrink: true,\n      }}\n    />\n  );\n};\n\nexport default AssetSelector;\n","import React, { ReactElement } from 'react';\nimport svgIcons from '../../utils/svgIcons';\nimport { createStyles, makeStyles } from '@material-ui/core/styles';\nimport Button from '../Button';\n\nexport type SwapButtonProps = {\n  onClick: () => void;\n  disabled?: boolean;\n};\n\nconst useStyles = makeStyles(() =>\n  createStyles({\n    wrapper: {\n      display: 'flex',\n      justifyContent: 'center',\n      marginTop: '1rem',\n      marginBottom: '1rem',\n    },\n    button: {\n      width: 48,\n      minWidth: 48,\n      height: 48,\n      padding: 16,\n    },\n    icon: {\n      transform: 'rotate(270deg)',\n      margin: -3,\n    },\n    upIcon: {\n      opacity: 0.4,\n    },\n  })\n);\n\nconst SwapButton = ({ onClick, disabled }: SwapButtonProps): ReactElement => {\n  const classes = useStyles();\n\n  const upIconClass = `${classes.icon} ${classes.upIcon}`;\n\n  return (\n    <div className={classes.wrapper} onClick={onClick}>\n      <Button\n        variant=\"contained\"\n        className={classes.button}\n        disabled={disabled}\n      >\n        <img\n          src={svgIcons.rightArrowPlain}\n          alt=\"Icon Up\"\n          className={upIconClass}\n        />\n        <img\n          src={svgIcons.leftArrow}\n          alt=\"Icon Down\"\n          className={classes.icon}\n        />\n      </Button>\n    </div>\n  );\n};\n\nexport default SwapButton;\n","import { TypedUseSelectorHook, useDispatch, useSelector } from 'react-redux';\nimport { RootState, AppDispatch } from './index';\n\n// Use throughout your app instead of plain `useDispatch` and `useSelector`\nexport const useAppDispatch = () => useDispatch<AppDispatch>();\nexport const useAppSelector: TypedUseSelectorHook<RootState> = useSelector;\n","import { createSlice, PayloadAction } from '@reduxjs/toolkit';\nimport { SwapStep } from '../constants/swap';\nimport Currency from '../constants/currency';\nimport { getSwapProvider } from '../utils/swapProvider';\nimport { RootState } from './index';\n\n// Define a type for the slice state\ninterface SwapsState {\n  sendAsset: Currency;\n  receiveAsset: Currency;\n  sendAmount: string;\n  receiveAmount: string;\n  swapStep: SwapStep;\n  rates?: any;\n}\n\n// Define the initial state using that type\nexport const initialState: SwapsState = {\n  swapStep: SwapStep.CHOOSE_PAIR,\n  sendAsset: Currency.BTC,\n  receiveAsset: Currency.LIGHTNING_BTC,\n  sendAmount: '',\n  receiveAmount: '',\n};\n\nexport const swapsSlice = createSlice({\n  name: 'swaps',\n  // `createSlice` will infer the state type from the `initialState` argument\n  initialState,\n  reducers: {\n    // Use the PayloadAction type to declare the contents of `action.payload`\n    setSendAsset: (state, action: PayloadAction<Currency>) => {\n      state.sendAsset = action.payload;\n    },\n    setReceiveAsset: (state, action: PayloadAction<Currency>) => {\n      state.receiveAsset = action.payload;\n    },\n    setSendAmount: (state, action: PayloadAction<string>) => {\n      state.sendAmount = action.payload;\n    },\n    setReceiveAmount: (state, action: PayloadAction<string>) => {\n      state.receiveAmount = action.payload;\n    },\n    setRates: (state, action: PayloadAction<any>) => {\n      state.rates = action.payload;\n    },\n    setSwapStep: (state, action: PayloadAction<SwapStep>) => {\n      state.swapStep = action.payload;\n    },\n  },\n});\n\nexport const {\n  setSendAsset,\n  setReceiveAsset,\n  setSendAmount,\n  setReceiveAmount,\n  setRates,\n  setSwapStep,\n} = swapsSlice.actions;\n\n// Other code such as selectors can use the imported `RootState` type\nexport const selectSwapStep = (state: RootState) => state.swaps.swapStep;\nexport const selectSendAsset = (state: RootState) => state.swaps.sendAsset;\nexport const selectReceiveAsset = (state: RootState) =>\n  state.swaps.receiveAsset;\nexport const selectSendAmount = (state: RootState) => state.swaps.sendAmount;\nexport const selectReceiveAmount = (state: RootState) =>\n  state.swaps.receiveAmount;\nexport const selectSwapProvider = (state: RootState) =>\n  getSwapProvider(state.swaps.sendAsset, state.swaps.receiveAsset);\nexport const isRatesLoaded = (state: RootState) => !!state.swaps.rates;\n\nexport default swapsSlice.reducer;\n","import { Direction, SwapProvider, swapProviders } from '../constants/swap';\nimport Currency from '../constants/currency';\n\nexport const getSwapProvider = (\n  sendAsset: Currency,\n  receiveAsset: Currency\n): SwapProvider | undefined => {\n  for (const [key, value] of Object.entries(swapProviders)) {\n    if (\n      value.some(\n        provider_pair =>\n          ((provider_pair.direction === Direction.BOTH &&\n            provider_pair.pair.includes(sendAsset) &&\n            provider_pair.pair.includes(receiveAsset)) ||\n            (provider_pair.direction === Direction.SINGLE &&\n              provider_pair.pair[0] === sendAsset &&\n              provider_pair.pair[1] === receiveAsset)) &&\n          (sendAsset !== receiveAsset ||\n            provider_pair.pair[0] === provider_pair.pair[1])\n      )\n    ) {\n      return key as SwapProvider;\n    }\n  }\n};\n","import BigNumber from 'bignumber.js';\nimport { from, interval, Observable, of, Subscription } from 'rxjs';\nimport { fromFetch } from 'rxjs/fetch';\nimport {\n  catchError,\n  map,\n  mergeMap,\n  shareReplay,\n  startWith,\n  switchMap,\n  take,\n} from 'rxjs/operators';\n// import { GET_PAIRS } from '../api/apiUrls';\nimport CurrencyID from './currency';\nimport {\n  AmountPreview,\n  CurrencyAmount,\n  CurrencyPair,\n  Limits,\n  RatesFetcher,\n  RatesFetcherOpts,\n} from './rates';\n\ninterface BoltzRatesFetcherOptions extends RatesFetcherOpts {\n  url: string;\n}\n\n// Map CurrencyID to the corresponding key from Boltz's API\nexport const boltzPairsMap = (currency: CurrencyID) => {\n  switch (currency) {\n    case CurrencyID.BTC:\n      return 'BTC';\n    case CurrencyID.LIGHTNING_BTC:\n      return 'BTC';\n    case CurrencyID.LTC:\n      return 'LTC';\n    case CurrencyID.LIGHTNING_LTC:\n      return 'LTC';\n    case CurrencyID.ETH:\n      return 'ETH';\n    case CurrencyID.ETH_USDT:\n      return 'USDT';\n    default:\n      throw new Error('currency not supported by Boltz API');\n  }\n};\n\n// Map CurrencyID to a boolean whether it's on on-chain or off-chain\nconst isCurrencyOnChain = (currency: CurrencyID) => {\n  switch (currency) {\n    case CurrencyID.BTC:\n    case CurrencyID.LTC:\n      return true;\n    case CurrencyID.ETH:\n      return true;\n    case CurrencyID.ETH_USDT:\n      return true;\n    case CurrencyID.LIGHTNING_BTC:\n      return false;\n    case CurrencyID.LIGHTNING_LTC:\n      return false;\n    default:\n      throw new Error('unsupported CurrencyID - this should not happen');\n  }\n};\n\nexport const getAmountOut = (\n  { currency: inputCurrency, amount: inputAmount }: CurrencyAmount,\n  pair: CurrencyPair,\n  rates: BoltzGetRatesResponse,\n  fixedSendAmount: boolean\n): AmountPreview => {\n  const outputCurrency = pair.filter(currency => currency !== inputCurrency)[0];\n  if (!rates) {\n    return {\n      amountWithFees: {\n        amount: new BigNumber('0'),\n        currency: outputCurrency,\n      },\n    };\n  }\n  const inputCurrencyIsBaseAsset =\n    !!rates.pairs[\n      `${boltzPairsMap(inputCurrency)}/${boltzPairsMap(outputCurrency)}`\n    ];\n  const { rate, fees } = inputCurrencyIsBaseAsset\n    ? rates.pairs[\n        `${boltzPairsMap(inputCurrency)}/${boltzPairsMap(outputCurrency)}`\n      ]\n    : rates.pairs[\n        `${boltzPairsMap(outputCurrency)}/${boltzPairsMap(inputCurrency)}`\n      ];\n  // We have 4 paths here now\n  // 1. I want to send X quote asset and receive Y base asset\n  // 2. I want to send X base asset and receive Y quote asset\n  // 3. I want to receive X quote asset and send Y base asset\n  // 4. I want to receive X base asset and send ? quote asset\n  let outputAmountWithoutFees: BigNumber;\n  let minerFees;\n  if (\n    (fixedSendAmount && inputCurrencyIsBaseAsset) ||\n    (!fixedSendAmount && inputCurrencyIsBaseAsset)\n  ) {\n    // send fixed base asset\n    // receive fixed base asset\n    outputAmountWithoutFees = new BigNumber(rate).multipliedBy(inputAmount);\n    // paying fees in quote asset\n    minerFees = fees.minerFees.quoteAsset;\n  } else {\n    // send fixed quote asset\n    // receive fixed quote asset\n    outputAmountWithoutFees = inputAmount.div(new BigNumber(rate));\n    // paying fees in base asset\n    minerFees = fees.minerFees.baseAsset;\n  }\n  const nominalPercentageFee = new BigNumber(fees.percentage)\n    .div(new BigNumber('100'))\n    .multipliedBy(outputAmountWithoutFees);\n  const sendingOnChain = fixedSendAmount\n    ? isCurrencyOnChain(inputCurrency)\n    : isCurrencyOnChain(outputCurrency);\n  const getFixedMinerFees = () => {\n    const SATOSHIS_PER_COIN = new BigNumber('10').pow('8');\n    if (sendingOnChain) {\n      // sending on-chain only includes 1 fee (for Boltz to claim the funds)\n      return new BigNumber(minerFees.normal).div(SATOSHIS_PER_COIN);\n    }\n    // sending off-chain includes 2 fees (claim and lockup)\n    return new BigNumber(minerFees.reverse.claim)\n      .div(SATOSHIS_PER_COIN)\n      .plus(new BigNumber(minerFees.reverse.lockup).div(SATOSHIS_PER_COIN));\n  };\n  const fixedMinerFee = getFixedMinerFees();\n  let outputAmount: BigNumber;\n  if (fixedSendAmount) {\n    // sending fixed input asset - subtracting fees from output asset\n    outputAmount = outputAmountWithoutFees\n      .minus(nominalPercentageFee)\n      .minus(fixedMinerFee);\n  } else {\n    // receiving fixed input asset - adding fees to output asset\n    outputAmount = outputAmountWithoutFees\n      .plus(nominalPercentageFee)\n      .plus(fixedMinerFee);\n  }\n  return {\n    amountWithFees: {\n      amount: outputAmount,\n      currency: outputCurrency,\n    },\n    // MVP: skipping fee details\n    // feesDetail: {},\n  };\n};\n\ntype BoltzPair = {\n  fees: {\n    percentage: number;\n    minerFees: {\n      baseAsset: {\n        normal: number;\n        reverse: {\n          claim: number;\n          lockup: number;\n        };\n      };\n      quoteAsset: {\n        normal: number;\n        reverse: {\n          claim: number;\n          lockup: number;\n        };\n      };\n    };\n  };\n  rate: number;\n  limits: {\n    maximal: number;\n    minimal: number;\n    /* TODO: implement later\n    maximalZeroConf: {\n      baseAsset: number; // number\n      quoteAsset: number; // number\n    };\n  */\n  };\n};\n\nexport type BoltzGetRatesResponse = {\n  pairs: Record<string, BoltzPair>;\n};\n\nexport default class BoltzFetcher implements RatesFetcher {\n  private rates$: Observable<BoltzGetRatesResponse>;\n  private rates$subscription: Subscription;\n\n  constructor(options: BoltzRatesFetcherOptions) {\n    // update rates every 15000ms\n    this.rates$ = interval(15000).pipe(\n      // emit immediately\n      startWith(0),\n      mergeMap(() => {\n        return fromFetch(options.url).pipe(\n          // stop processing the old pairs response when a new one comes in\n          switchMap(response => {\n            if (response.ok) {\n              // OK return data\n              return from(response.json());\n            }\n            console.warn('Response code from Boltz API is not OK');\n            return of(null);\n          }),\n          catchError(err => {\n            console.warn('Network or other error from Boltz API', err);\n            return of(null);\n          }),\n          // share the subscription and replay 1 latest events to late subscribers\n          shareReplay({ bufferSize: 1, refCount: true })\n        );\n      })\n    );\n    this.rates$subscription = this.rates$.subscribe(() => {});\n  }\n\n  // PreviewGivenSend wants the sending amount and the currency entered by the user and will return the\n  // amount to be received of the opposite currency in the pair, included of fees.\n  public previewGivenSend(\n    amountWithCurrency: CurrencyAmount,\n    pair: CurrencyPair\n  ): Promise<AmountPreview> {\n    // get the latest rates event stream\n    return this.rates$\n      .pipe(\n        map(rates => getAmountOut(amountWithCurrency, pair, rates, true)),\n        take(1) // take 1 event and unsubscribe so that the promise can complete\n      )\n      .toPromise();\n  }\n\n  // PreviewGivenReceive wants the receving amount and the currency entered by the user and will return the\n  // amount to be sent of the opposite currency in the pair, included of fees.\n  public previewGivenReceive(\n    amountWithCurrency: CurrencyAmount,\n    pair: CurrencyPair\n  ): Promise<AmountPreview> {\n    // get the latest rates event stream\n    return this.rates$\n      .pipe(\n        map(rates => getAmountOut(amountWithCurrency, pair, rates, false)),\n        take(1) // take 1 event and unsubscribe so that the promise can complete\n      )\n      .toPromise();\n  }\n\n  // define which trading pair is supported by the fetcher implementation\n  public isPairSupported(pair: CurrencyPair): boolean {\n    return true;\n  }\n\n  public getLimits(pair: CurrencyPair): Promise<Limits> {\n    return this.rates$\n      .pipe(\n        map(rates => {\n          const base = boltzPairsMap(pair[0]);\n          const quote = boltzPairsMap(pair[1]);\n          const rate: BoltzPair =\n            rates.pairs[`${base}/${quote}`] || rates[`${quote}/${base}`];\n          const limits = {\n            minimal: new BigNumber(rate.limits.minimal).dividedBy(10 ** 8),\n            maximal: new BigNumber(rate.limits.maximal).dividedBy(10 ** 8),\n          };\n          return limits;\n        }),\n        take(1)\n      )\n      .toPromise();\n  }\n\n  public clean(): void {\n    this.rates$subscription.unsubscribe();\n  }\n}\n","import CurrencyID from '../../../constants/currency';\nimport { MarketInterface } from 'tdex-sdk';\nimport { CurrencyPair } from '../../../constants/rates';\n\nexport const ExplorerByChain: Record<'liquid' | 'regtest', string> = {\n  liquid: 'https://blockstream.info/liquid/api',\n  regtest: 'http://localhost:3001',\n};\n\nexport const EsploraByChain: Record<'liquid' | 'regtest', string> = {\n  liquid: 'https://blockstream.info/liquid',\n  regtest: 'http://localhost:5001',\n};\n\nexport interface Provider {\n  name: string;\n  endpoint: string;\n}\n\nexport interface ProviderWithMarket {\n  provider: Provider;\n  market: MarketInterface;\n}\n\nexport interface PriceWithFee {\n  amount: number;\n  asset: string;\n  balance: any;\n  fee: any;\n  price: any;\n}\n\ninterface AssetInfo {\n  hash: string;\n  precision: number;\n}\n\ntype AssetByCurrency = Record<\n  CurrencyID.LIQUID_BTC | CurrencyID.LIQUID_USDT | CurrencyID.LIQUID_CAD,\n  AssetInfo\n>;\n\ntype CurrencyByAsset = Record<\n  string,\n  CurrencyID.LIQUID_BTC | CurrencyID.LIQUID_USDT | CurrencyID.LIQUID_CAD\n>;\n\nconst LIQUID_BTC_REGTEST =\n  '5ac9f65c0efcc4775e0baec4ec03abdde22473cd3cf33c0419ca290e0751b225';\nconst LIQUID_BTC =\n  '6f0279e9ed041c3d710a9f57d0c02928416460c4b722ae3457a11eec381c526d';\nconst LIQUID_USDT =\n  'ce091c998b83c78bb71a632313ba3760f1763d9cfcffae02258ffa9865a37bd2';\nconst LIQUID_CAD =\n  '0e99c1a6da379d1f4151fb9df90449d40d0608f6cb33a5bcbfc8c265f42bab0a';\n\nexport type CurrencyPairKey = string;\n\nexport const LBTC_USDT = `${CurrencyID.LIQUID_BTC}#${CurrencyID.LIQUID_USDT}`;\nexport const USDT_LBTC = `${CurrencyID.LIQUID_USDT}#${CurrencyID.LIQUID_BTC}`;\nexport const LBTC_LCAD = `${CurrencyID.LIQUID_BTC}#${CurrencyID.LIQUID_CAD}`;\nexport const LCAD_LBTC = `${CurrencyID.LIQUID_CAD}#${CurrencyID.LIQUID_BTC}`;\n\nexport const BaseQuoteByPair: Record<CurrencyPairKey, CurrencyPair> = {\n  [LBTC_USDT]: [CurrencyID.LIQUID_BTC, CurrencyID.LIQUID_USDT],\n  [USDT_LBTC]: [CurrencyID.LIQUID_BTC, CurrencyID.LIQUID_USDT],\n  [LBTC_LCAD]: [CurrencyID.LIQUID_BTC, CurrencyID.LIQUID_CAD],\n  [LCAD_LBTC]: [CurrencyID.LIQUID_BTC, CurrencyID.LIQUID_CAD],\n};\n\nconst LiquidAssetHashByCurrenyID: AssetByCurrency = {\n  [CurrencyID.LIQUID_BTC]: {\n    hash: LIQUID_BTC,\n    precision: 8,\n  },\n  [CurrencyID.LIQUID_USDT]: {\n    hash: LIQUID_USDT,\n    precision: 8,\n  },\n  [CurrencyID.LIQUID_CAD]: {\n    hash: LIQUID_CAD,\n    precision: 8,\n  },\n};\n\nconst RegtestAssetHashByCurrenyID: AssetByCurrency = {\n  [CurrencyID.LIQUID_BTC]: {\n    hash: LIQUID_BTC_REGTEST,\n    precision: 8,\n  },\n  [CurrencyID.LIQUID_USDT]: {\n    hash: process.env.REACT_APP_LIQUID_USDT_REGTEST!,\n    precision: 8,\n  },\n  [CurrencyID.LIQUID_CAD]: {\n    hash: process.env.REACT_APP_LIQUID_CAD_REGTEST!,\n    precision: 8,\n  },\n};\n\nconst LiquidCurrencyIDByAssetHash: CurrencyByAsset = {\n  [LIQUID_BTC]: CurrencyID.LIQUID_BTC,\n  [LIQUID_USDT]: CurrencyID.LIQUID_USDT,\n  [LIQUID_CAD]: CurrencyID.LIQUID_CAD,\n};\n\nconst RegtestCurrencyIDByAssetHash: CurrencyByAsset = {\n  [LIQUID_BTC_REGTEST]: CurrencyID.LIQUID_BTC,\n  [process.env.REACT_APP_LIQUID_USDT_REGTEST!]: CurrencyID.LIQUID_USDT,\n  [process.env.REACT_APP_LIQUID_CAD_REGTEST!]: CurrencyID.LIQUID_CAD,\n};\n\nexport const CurrencyToAssetByChain: Record<\n  'liquid' | 'regtest',\n  AssetByCurrency\n> = {\n  liquid: LiquidAssetHashByCurrenyID,\n  regtest: RegtestAssetHashByCurrenyID,\n};\n\nexport const AssetToCurrencyByChain: Record<\n  'liquid' | 'regtest',\n  CurrencyByAsset\n> = {\n  liquid: LiquidCurrencyIDByAssetHash,\n  regtest: RegtestCurrencyIDByAssetHash,\n};\n","import BigNumber from 'bignumber.js';\nimport CurrencyID from '../../../constants/currency';\nimport { CurrencyPair } from '../../../constants/rates';\nimport { BaseQuoteByPair, CurrencyPairKey } from '../constants';\n\nconst defaultPrecision = 8;\n\nexport function toSatoshi(\n  fractional: number,\n  precision: number = defaultPrecision\n): number {\n  return new BigNumber(fractional)\n    .multipliedBy(new BigNumber(10).exponentiatedBy(precision))\n    .toNumber();\n}\n\nexport function fromSatoshi(\n  sats: number,\n  precision: number = defaultPrecision\n): number {\n  return new BigNumber(sats)\n    .dividedBy(new BigNumber(10).exponentiatedBy(precision))\n    .toNumber();\n}\n\nexport function fromKey(x: CurrencyPairKey): CurrencyPair {\n  const [currencyA, currencyB] = x.split('#');\n  return [currencyA as CurrencyID, currencyB as CurrencyID];\n}\n\nexport function baseQuoteFromCurrencyPair(pair: CurrencyPair): CurrencyPair {\n  const key = toKey(pair);\n  return BaseQuoteByPair[key];\n}\n\nexport function toKey(x: CurrencyPair): CurrencyPairKey {\n  const [currencyA, currencyB] = x;\n  return `${currencyA}#${currencyB}`;\n}\n","import BigNumber from 'bignumber.js';\nimport {\n  RatesFetcher,\n  AmountPreview,\n  CurrencyAmount,\n  RatesFetcherOpts,\n  CurrencyPair,\n} from '../../../constants/rates';\nimport {\n  Provider,\n  ProviderWithMarket,\n  CurrencyToAssetByChain,\n  AssetToCurrencyByChain,\n  CurrencyPairKey,\n  BaseQuoteByPair,\n} from '../constants';\n\nimport { MarketInterface, TraderClient, TradeType } from 'tdex-sdk';\nimport {\n  fromSatoshi,\n  toSatoshi,\n  toKey,\n  baseQuoteFromCurrencyPair,\n} from './format';\n\ninterface TdexFetcherOptions extends RatesFetcherOpts {\n  network: 'liquid' | 'regtest';\n  providersWithMarketByPair: Record<CurrencyPairKey, ProviderWithMarket[]>;\n}\n\nexport default class TdexFetcher implements RatesFetcher {\n  private network: 'liquid' | 'regtest';\n  private supportedPairs: CurrencyPairKey[];\n  private providersWithMarketByPair: Record<\n    CurrencyPairKey,\n    ProviderWithMarket[]\n  >;\n\n  constructor(options: TdexFetcherOptions) {\n    const { providersWithMarketByPair, network } = options;\n\n    this.network = network;\n    this.providersWithMarketByPair = providersWithMarketByPair;\n\n    this.supportedPairs = Object.keys(BaseQuoteByPair) as CurrencyPairKey[];\n  }\n\n  isPairSupported(pair: CurrencyPair): boolean {\n    return this.supportedPairs.includes(toKey(pair));\n  }\n\n  // PreviewGivenSend does the same thing as Preview with isSend = true\n  previewGivenSend(\n    amountWithCurrency: CurrencyAmount,\n    pair: CurrencyPair\n  ): Promise<AmountPreview> {\n    if (!this.isPairSupported(pair)) throw new Error('pair is not supported');\n\n    return this.previewForPair(amountWithCurrency, pair, true);\n  }\n\n  // PreviewGivenReceive does the same thing as Preview with isSend = false\n  previewGivenReceive(\n    amountWithCurrency: CurrencyAmount,\n    pair: CurrencyPair\n  ): Promise<AmountPreview> {\n    if (!this.isPairSupported(pair)) throw new Error('pair is not supported');\n\n    return this.previewForPair(amountWithCurrency, pair, false);\n  }\n\n  private async previewForPair(\n    amountWithCurrency: CurrencyAmount,\n    pair: CurrencyPair,\n    isSend: boolean = true\n  ): Promise<AmountPreview> {\n    const amountInSatoshis = toSatoshi(\n      amountWithCurrency.amount.toNumber(),\n      CurrencyToAssetByChain[this.network][amountWithCurrency.currency]\n        .precision\n    );\n\n    if (amountInSatoshis < 1) throw new Error('amount too low');\n\n    const [baseCurrency, quoteCurrency] = baseQuoteFromCurrencyPair(pair);\n\n    const providersForPair =\n      this.providersWithMarketByPair[toKey([baseCurrency, quoteCurrency])];\n\n    if (!providersForPair)\n      throw new Error('TDEX providers for the chosen pair are not reachable');\n\n    const isBaseComingIn =\n      (isSend && amountWithCurrency.currency === baseCurrency) ||\n      (!isSend && amountWithCurrency.currency !== quoteCurrency);\n\n    const tradeType = isBaseComingIn ? TradeType.SELL : TradeType.BUY;\n\n    let bestPrice;\n    let bestProvider;\n    for (const providerWithMarket of providersForPair) {\n      try {\n        const client = new TraderClient(providerWithMarket.provider.endpoint);\n        const prices = await client.marketPrice(\n          providerWithMarket.market,\n          tradeType,\n          amountInSatoshis,\n          CurrencyToAssetByChain[this.network][amountWithCurrency.currency].hash\n        );\n\n        if (!prices || prices.length === 0)\n          throw new Error('price fetching failed');\n\n        const [firstPrice] = prices;\n\n        if (tradeType === TradeType.BUY) {\n          if (\n            firstPrice.balance &&\n            (!bestPrice ||\n              firstPrice.balance.baseAmount > bestPrice.balance.baseAmount)\n          ) {\n            bestPrice = { ...firstPrice };\n            bestProvider = providerWithMarket;\n          }\n        } else {\n          if (\n            firstPrice.balance &&\n            (!bestPrice ||\n              firstPrice.balance.quoteAmount > bestPrice.balance.quoteAmount)\n          ) {\n            bestPrice = { ...firstPrice };\n            bestProvider = providerWithMarket;\n          }\n        }\n      } catch (e) {\n        console.error(e);\n        console.warn(\n          `TDEX provider ${providerWithMarket.provider.name} is not reachable`\n        );\n        continue;\n      }\n    }\n\n    const event = new CustomEvent('bestProvider', { detail: bestProvider });\n    window.dispatchEvent(event);\n\n    const expectedCurrency =\n      amountWithCurrency.currency === baseCurrency\n        ? quoteCurrency\n        : baseCurrency;\n\n    return {\n      amountWithFees: {\n        amount: new BigNumber(\n          fromSatoshi(\n            bestPrice.amount,\n            CurrencyToAssetByChain[this.network][expectedCurrency].precision\n          )\n        ),\n        currency: AssetToCurrencyByChain[this.network][bestPrice.asset],\n      },\n    };\n  }\n\n  public static async WithTdexProviders(\n    providers: Provider[],\n    network: 'liquid' | 'regtest'\n  ): Promise<TdexFetcherOptions> {\n    let providersWithMarketByPair = {};\n    for (const provider of providers) {\n      const client = new TraderClient(provider.endpoint);\n      let markets: MarketInterface[];\n\n      try {\n        markets = await client.markets();\n      } catch (e) {\n        throw new Error(`TDEX provider ${provider.name} is not reachable`);\n      }\n\n      markets.forEach((market: MarketInterface) => {\n        const { baseAsset, quoteAsset } = market;\n        const baseCurrency = AssetToCurrencyByChain[network][baseAsset];\n        const quoteCurrency = AssetToCurrencyByChain[network][quoteAsset];\n        const pairAsKey = toKey([baseCurrency, quoteCurrency]);\n\n        if (providersWithMarketByPair.hasOwnProperty(pairAsKey)) {\n          providersWithMarketByPair[pairAsKey].push({ provider, market });\n        } else {\n          providersWithMarketByPair[pairAsKey] = [{ provider, market }];\n        }\n      });\n    }\n\n    return { network, providersWithMarketByPair };\n  }\n}\n","import { createSlice, PayloadAction } from '@reduxjs/toolkit';\nimport { ProviderWithMarket } from '../components/TdexSwapFlow/constants';\nimport { RootState } from './index';\n\n// Define a type for the slice state\ninterface TdexState {\n  bestProvider?: ProviderWithMarket;\n}\n\n// Define the initial state using that type\nexport const initialState: TdexState = {\n  bestProvider: undefined,\n};\n\nexport const tdexSlice = createSlice({\n  name: 'tdex',\n  // `createSlice` will infer the state type from the `initialState` argument\n  initialState,\n  reducers: {\n    // Use the PayloadAction type to declare the contents of `action.payload`\n    setBestProvider: (state, action: PayloadAction<ProviderWithMarket>) => {\n      state.bestProvider = action.payload;\n    },\n  },\n});\n\nexport const { setBestProvider } = tdexSlice.actions;\n\n// Other code such as selectors can use the imported `RootState` type\nexport const seletctBestProvider = (state: RootState) =>\n  state.tdex.bestProvider;\n\nexport default tdexSlice.reducer;\n","import Decimal from 'decimal.js';\nimport { MoneroAmount } from './MoneroAmount';\n\nexport class BitcoinAmount {\n  static readonly decimals: number = 8;\n  static readonly satsInOneBtc: Decimal = new Decimal(10).pow(\n    new Decimal(BitcoinAmount.decimals)\n  );\n\n  private readonly satoshis: Decimal;\n\n  private constructor(satoshis: number | string | Decimal) {\n    this.satoshis = new Decimal(satoshis);\n  }\n\n  public static fromSat(satoshis: number | string): BitcoinAmount {\n    return new BitcoinAmount(satoshis);\n  }\n\n  public static fromBtc(btc: number | string): BitcoinAmount {\n    return new BitcoinAmount(new Decimal(btc).mul(BitcoinAmount.satsInOneBtc));\n  }\n\n  public static fromBtcRateAndAmount(\n    rate: BitcoinAmount,\n    xmr: MoneroAmount\n  ): BitcoinAmount {\n    let piconeros_to_sat_adjust = new Decimal(10).pow(new Decimal(4));\n    let xmr_as_sat = xmr.asPic().div(piconeros_to_sat_adjust);\n    let sats = xmr_as_sat.mul(rate.asSat()).div(this.satsInOneBtc);\n\n    return new BitcoinAmount(sats);\n  }\n\n  public asSat(): Decimal {\n    return this.satoshis;\n  }\n\n  public asBtc(): Decimal {\n    return this.satoshis.div(BitcoinAmount.satsInOneBtc);\n  }\n\n  // Returns satoshis to precision (i.e. no decimal places)\n  // This is to be used when actually using the amounts against a blockchain client.\n  public toPrecision(): Decimal {\n    return this.satoshis.toDecimalPlaces(0);\n  }\n\n  public toBtcString(): string {\n    return this.asBtc().toDecimalPlaces(BitcoinAmount.decimals).toString();\n  }\n}\n","import Decimal from 'decimal.js';\nimport { BitcoinAmount } from './BitcoinAmount';\n\nexport class MoneroAmount {\n  static readonly decimals: number = 12;\n  static readonly picsInOneXmr: Decimal = new Decimal(10).pow(\n    new Decimal(MoneroAmount.decimals)\n  );\n\n  private constructor(private readonly piconeros: Decimal) {\n    this.piconeros = new Decimal(piconeros);\n  }\n\n  public static fromXmr(xmr: number | string) {\n    return new MoneroAmount(new Decimal(xmr).mul(MoneroAmount.picsInOneXmr));\n  }\n\n  public static fromPic(pic: number | string) {\n    return new MoneroAmount(new Decimal(pic));\n  }\n\n  public static fromBtcRateAndAmount(\n    rate: BitcoinAmount,\n    btc: BitcoinAmount\n  ): MoneroAmount {\n    let xmr = new Decimal(btc.asSat()).div(rate.asSat());\n    return new MoneroAmount(xmr.mul(MoneroAmount.picsInOneXmr));\n  }\n\n  public asPic(): Decimal {\n    return this.piconeros;\n  }\n\n  public asXmr(): Decimal {\n    return this.piconeros.div(MoneroAmount.picsInOneXmr);\n  }\n\n  // Returns piconeros to precision (i.e. no decimal places)\n  // This is to be used when actually using the amounts against a blockchain client.\n  public toPrecision(): Decimal {\n    return this.piconeros.toDecimalPlaces(0);\n  }\n\n  public toXmrString(): string {\n    return this.asXmr().toDecimalPlaces(MoneroAmount.decimals).toString();\n  }\n}\n","import CurrencyID from '../../constants/currency';\nimport { BitcoinAmount } from './BitcoinAmount';\nimport { MoneroAmount } from './MoneroAmount';\nimport { Quote } from './Asb';\nimport {\n  AmountPreview,\n  CurrencyAmount,\n  CurrencyPair,\n  RatesFetcher,\n} from '../../constants/rates';\nimport BigNumber from 'bignumber.js';\n\nexport class XmrBtcRateFetcher implements RatesFetcher {\n  constructor(private latestQuote: Quote | null, private error: Error | null) {}\n\n  previewGivenSend(\n    amountWithCurrency: CurrencyAmount,\n    pair: CurrencyPair\n  ): Promise<AmountPreview> {\n    this.ensureNoRefreshErrors();\n    let send = BitcoinAmount.fromBtc(amountWithCurrency.amount.toString());\n    let price = this.getQuote().price;\n    let receive = receiveAmountForSendAmount(send, price);\n\n    let amount = new BigNumber(receive.asXmr().toString());\n\n    return Promise.resolve({\n      amountWithFees: {\n        amount: amount,\n        currency: CurrencyID.MONERO,\n      },\n    });\n  }\n\n  previewGivenReceive(\n    amountWithCurrency: CurrencyAmount,\n    pair: CurrencyPair\n  ): Promise<AmountPreview> {\n    this.ensureNoRefreshErrors();\n    let receive_xmr = MoneroAmount.fromXmr(\n      amountWithCurrency.amount.toString()\n    );\n\n    let send_btc = BitcoinAmount.fromBtcRateAndAmount(\n      this.getQuote().price,\n      receive_xmr\n    );\n\n    let amount = new BigNumber(send_btc.asBtc().toString());\n\n    return Promise.resolve({\n      amountWithFees: {\n        amount: amount,\n        currency: CurrencyID.BTC,\n      },\n    });\n  }\n\n  isPairSupported(pair: CurrencyPair): boolean {\n    return pair[0] === CurrencyID.BTC && pair[1] === CurrencyID.MONERO;\n  }\n\n  maxQuantity(): BitcoinAmount {\n    return this.getQuote().max_quantity;\n  }\n\n  updateError(error: Error | null) {\n    this.error = error;\n    this.latestQuote = null;\n  }\n\n  updateQuote(quote: Quote) {\n    this.latestQuote = quote;\n    this.error = null;\n  }\n\n  private ensureNoRefreshErrors() {\n    if (this.error) {\n      throw this.error;\n    }\n  }\n\n  private getQuote(): Quote {\n    if (!this.latestQuote) {\n      throw new Error('Quote not available');\n    }\n\n    return this.latestQuote;\n  }\n}\n\nexport function receiveAmountForSendAmount(\n  send: BitcoinAmount,\n  price: BitcoinAmount\n): MoneroAmount {\n  let receive = MoneroAmount.fromBtcRateAndAmount(price, send);\n\n  return receive;\n}\n","import { BitcoinAmount } from './BitcoinAmount';\nimport { Network } from '../../context/NetworkContext';\nimport Decimal from 'decimal.js';\n\n// TODO: Community member to provide mainnet params\nconst MAINNET: AsbParams = {\n  maxAccepted: BitcoinAmount.fromBtc(0),\n  minAccepted: BitcoinAmount.fromBtc(0),\n  multiaddr: '',\n  peerId: '',\n  spread: new Decimal(0),\n};\n\nconst TESTNET: AsbParams = {\n  maxAccepted: BitcoinAmount.fromBtc(0.02),\n  minAccepted: BitcoinAmount.fromBtc(0.002),\n  multiaddr:\n    '/onion3/pzbmpqsyi2j2za2fwmiognupwozjlcoajbd3cgboetql7ooah63zywqd:9939',\n  peerId: '12D3KooWCdMKjesXMJz1SiZ7HgotrxuqhQJbP5sgBm2BwP1cqThi',\n  spread: new Decimal(0.02),\n};\n\nexport function fromKrakenPriceToQuote(\n  price: BitcoinAmount,\n  network: Network\n): Quote {\n  let withSpreadDec = new Decimal(1).add(getSpread(network)).mul(price.asBtc());\n  let withSpread = BitcoinAmount.fromBtc(withSpreadDec.toString());\n\n  return {\n    max_quantity: getMax(network),\n    min_quantity: getMin(network),\n    price: withSpread,\n    timestamp: new Date(),\n  };\n}\n\nexport function getPeerId(network: Network): string {\n  return network === Network.Mainnet ? MAINNET.peerId : TESTNET.peerId;\n}\n\nexport function getMultiaddr(network: Network): string {\n  return network === Network.Mainnet ? MAINNET.multiaddr : TESTNET.multiaddr;\n}\n\nfunction getSpread(network: Network): Decimal {\n  return network === Network.Mainnet ? MAINNET.spread : TESTNET.spread;\n}\n\nfunction getMin(network: Network): BitcoinAmount {\n  return network === Network.Mainnet\n    ? MAINNET.minAccepted\n    : TESTNET.minAccepted;\n}\n\nfunction getMax(network: Network): BitcoinAmount {\n  return network === Network.Mainnet\n    ? MAINNET.maxAccepted\n    : TESTNET.maxAccepted;\n}\n\nexport interface Quote {\n  price: BitcoinAmount;\n  min_quantity: BitcoinAmount;\n  max_quantity: BitcoinAmount;\n  timestamp: Date;\n}\n\ninterface AsbParams {\n  multiaddr: string;\n  peerId: string;\n  minAccepted: BitcoinAmount;\n  maxAccepted: BitcoinAmount;\n  spread: Decimal;\n}\n","import { useCallback, useEffect, useState } from 'react';\nimport { XmrBtcRateFetcher } from './XmrBtcRateFetcher';\nimport { fromKrakenPriceToQuote, Quote } from './Asb';\nimport useWebSocket, { ReadyState } from 'react-use-websocket';\nimport { BitcoinAmount } from './BitcoinAmount';\nimport { useNetwork } from '../../context/NetworkContext';\n\nconst KRAKEN_WS = 'wss://ws.kraken.com';\n\nexport default function useComitRate(): {\n  rateFetcher: XmrBtcRateFetcher | null;\n  latestQuote: Quote | null;\n  error: Error | null;\n} {\n  let [quote, setQuote] = useState<{\n    quote: Quote | null;\n    error: Error | null;\n  }>({ quote: null, error: null });\n\n  let [xmrBtcRateFetcher, setXmrBtcRateFetcher] =\n    useState<XmrBtcRateFetcher | null>(null);\n\n  let [latestKrakenPrice, setLatestKrakenPrice] = useState<{\n    price: BitcoinAmount | null;\n    error: Error | null;\n  }>({ price: null, error: null });\n\n  const { network } = useNetwork();\n\n  const { sendMessage, lastJsonMessage, readyState } = useWebSocket(KRAKEN_WS);\n\n  if (!xmrBtcRateFetcher) {\n    setXmrBtcRateFetcher(new XmrBtcRateFetcher(null, null));\n  }\n\n  let subscribeToXmrBtcTicker = useCallback(\n    () =>\n      sendMessage(\n        '{\"event\": \"subscribe\", \"pair\": [ \"XMR/XBT\" ], \"subscription\": { \"name\": \"ticker\"}}'\n      ),\n    [sendMessage]\n  );\n\n  useEffect(() => {\n    if (readyState === ReadyState.OPEN && lastJsonMessage) {\n      if (lastJsonMessage.connectionID) {\n        subscribeToXmrBtcTicker();\n      }\n\n      if (\n        Array.isArray(lastJsonMessage) &&\n        lastJsonMessage[2] === 'ticker' &&\n        lastJsonMessage[1].a &&\n        Array.isArray(lastJsonMessage[1].a)\n      ) {\n        let ask = lastJsonMessage[1].a[0];\n        let price = BitcoinAmount.fromBtc(ask);\n        setLatestKrakenPrice({ price, error: null });\n      }\n    } else if (readyState === ReadyState.CONNECTING) {\n      let error = new Error('Waiting for latest price...');\n      setLatestKrakenPrice({ price: null, error });\n    } else if (readyState === ReadyState.CLOSED) {\n      let error = new Error('Failed to fetch latest price');\n      setLatestKrakenPrice({ price: null, error });\n    }\n  }, [readyState, lastJsonMessage, subscribeToXmrBtcTicker]);\n\n  useEffect(() => {\n    if (latestKrakenPrice.price) {\n      let quote = fromKrakenPriceToQuote(latestKrakenPrice.price, network);\n      setQuote({\n        quote: quote,\n        error: null,\n      });\n      if (xmrBtcRateFetcher) {\n        xmrBtcRateFetcher.updateQuote(quote);\n      }\n    } else if (latestKrakenPrice.error) {\n      setQuote({\n        quote: null,\n        error: latestKrakenPrice.error,\n      });\n      if (xmrBtcRateFetcher) {\n        xmrBtcRateFetcher.updateError(latestKrakenPrice.error);\n      }\n    }\n  }, [latestKrakenPrice, network, xmrBtcRateFetcher]);\n\n  return {\n    rateFetcher: xmrBtcRateFetcher,\n    latestQuote: quote.quote ? quote.quote : null,\n    error: quote.error ? quote.error : null,\n  };\n}\n","import { Grid, Typography } from '@material-ui/core';\nimport { createStyles, makeStyles } from '@material-ui/core/styles';\nimport React, { useState } from 'react';\nimport AssetSelector from '../AssetSelector';\nimport Button from '../Button';\nimport CardComponent from '../Card';\nimport ErrorMessage from '../ErrorMessage';\nimport SwapButton from '../SwapButton';\nimport { SwapStep, SwapProvider } from '../../constants/swap';\nimport { CurrencyOptions, CurrencyOption } from '../../constants/currency';\nimport { useAppDispatch, useAppSelector } from '../../store/hooks';\nimport {\n  isRatesLoaded,\n  selectSendAmount,\n  selectSendAsset,\n  selectReceiveAmount,\n  selectReceiveAsset,\n  selectSwapProvider,\n  setSendAmount,\n  setSendAsset,\n  setReceiveAmount,\n  setReceiveAsset,\n  setRates,\n  setSwapStep,\n} from '../../store/swaps-slice';\nimport { timer } from 'rxjs';\nimport { AmountPreview, RatesFetcher } from '../../constants/rates';\nimport useBoltzFetcher from '../../constants/boltzFetcherHook';\nimport useTdexFetcher from '../TdexSwapFlow/utils/tdexFetcherHook';\nimport BigNumber from 'bignumber.js';\nimport useComitFetcher from '../ComitSwapFlow/useComitFetcher';\n\nconst useStyles = makeStyles(() =>\n  createStyles({\n    root: {\n      display: 'flex',\n      'flex-direction': 'column',\n      'justify-content': 'space-between',\n      flex: 1,\n    },\n    content: {\n      padding: '2rem',\n    },\n    text: {\n      marginBottom: '1rem',\n      fontSize: '1.5rem',\n      lineHeight: 'normal',\n      letterSpacing: '1px',\n    },\n    amount: {\n      display: 'flex',\n      justifyContent: 'center',\n      marginBottom: '1rem',\n    },\n    right: {\n      display: 'flex',\n      justifyContent: 'flex-end',\n    },\n    amountscontainer: {\n      marginTop: '1rem',\n    },\n    errorMessageContainer: {\n      minHeight: '1.5rem',\n      marginTop: '1rem',\n    },\n  })\n);\n\nexport type ChooseTradingPairProps = {};\n\nconst ChooseTradingPair = (_props: ChooseTradingPairProps) => {\n  const classes = useStyles();\n  const dispatch = useAppDispatch();\n  const sendAsset = useAppSelector(selectSendAsset);\n  const receiveAsset = useAppSelector(selectReceiveAsset);\n  const sendAmount = useAppSelector(selectSendAmount);\n  const receiveAmount = useAppSelector(selectReceiveAmount);\n  const swapProvider = useAppSelector(selectSwapProvider);\n  const ratesLoaded = useAppSelector(isRatesLoaded);\n  const [sendAmountError, setSendAmountError] = useState('');\n  const [receiveAmountError, setReceiveAmountError] = useState('');\n\n  const [isPreviewing, setIsPreviewing] = useState(false);\n\n  // TODO: Should be handled in a reducer\n  const [previewValueError, setPreviewValueError] =\n    useState<Error | null>(null);\n\n  const sendCurrency = CurrencyOptions.find(\n    currency => currency.id === sendAsset\n  )!;\n  const receiveCurrency = CurrencyOptions.find(\n    currency => currency.id === receiveAsset\n  )!;\n\n  timer(1000).subscribe(() => dispatch(setRates({})));\n  const nextDisabled =\n    isPreviewing ||\n    !ratesLoaded ||\n    Number(sendAmount) === 0 ||\n    Number(receiveAmount) === 0 ||\n    !swapProvider ||\n    !!receiveAmountError;\n\n  const tdexFetcher = useTdexFetcher();\n  const boltzFetcher = useBoltzFetcher();\n  const comitFetcher = useComitFetcher();\n\n  let ratesFetcher: RatesFetcher | null;\n  switch (swapProvider) {\n    case SwapProvider.TDEX:\n      ratesFetcher = tdexFetcher;\n      break;\n    case SwapProvider.COMIT:\n      ratesFetcher = comitFetcher;\n      break;\n    case SwapProvider.BOLTZ:\n      ratesFetcher = boltzFetcher;\n      break;\n    default:\n      break;\n  }\n\n  const amountIsPositive = (x: any): boolean => {\n    if (!Number.isNaN(x) && Number(x) > 0) {\n      return true;\n    }\n\n    return false;\n  };\n\n  const onSendAmountChange = async (\n    e: React.ChangeEvent<HTMLTextAreaElement | HTMLInputElement>\n  ) => {\n    setSendAmountError('');\n    if (isPreviewing) return;\n\n    const value = e.target.value;\n    dispatch(setSendAmount(value));\n\n    // preview other amount\n    if (ratesFetcher && amountIsPositive(value)) {\n      setIsPreviewing(true);\n\n      const amount = new BigNumber(value);\n\n      try {\n        setPreviewValueError(null);\n        const receiveValue: AmountPreview = await ratesFetcher.previewGivenSend(\n          {\n            amount,\n            currency: sendCurrency.id,\n          },\n          [sendCurrency.id, receiveCurrency.id]\n        );\n\n        dispatch(\n          setReceiveAmount(\n            convertAmountToString(receiveValue.amountWithFees.amount)\n          )\n        );\n        validateReceiveLimits(receiveValue.amountWithFees.amount);\n        setIsPreviewing(false);\n      } catch (e) {\n        if (!previewValueError) {\n          setPreviewValueError(e);\n        }\n      }\n    }\n  };\n\n  const onReceiveAmountChange = async (\n    e: React.ChangeEvent<HTMLTextAreaElement | HTMLInputElement>\n  ) => {\n    setReceiveAmountError('');\n    if (isPreviewing) return;\n\n    const value = e.target.value;\n    dispatch(setReceiveAmount(value));\n\n    // preview other amount\n    if (ratesFetcher && amountIsPositive(value)) {\n      setIsPreviewing(true);\n\n      const amount = new BigNumber(value);\n      try {\n        validateReceiveLimits(amount);\n\n        setPreviewValueError(null);\n        const sendValue: AmountPreview = await ratesFetcher.previewGivenReceive(\n          {\n            amount,\n            currency: receiveCurrency.id,\n          },\n          [sendCurrency.id, receiveCurrency.id]\n        );\n\n        dispatch(\n          setSendAmount(convertAmountToString(sendValue.amountWithFees.amount))\n        );\n        setIsPreviewing(false);\n      } catch (e) {\n        if (!previewValueError) {\n          setPreviewValueError(e);\n        }\n      }\n    }\n  };\n\n  const validateReceiveLimits = async (receiveAmount: BigNumber) => {\n    if (ratesFetcher?.getLimits) {\n      const limits = await ratesFetcher.getLimits([\n        sendCurrency.id,\n        receiveCurrency.id,\n      ]);\n      if (receiveAmount.gt(limits.maximal)) {\n        setReceiveAmountError(\n          `Max amount is ${convertAmountToString(limits.maximal)}`\n        );\n      } else if (receiveAmount.lt(limits.minimal)) {\n        setReceiveAmountError(\n          `Min amount is ${convertAmountToString(limits.minimal)}`\n        );\n      }\n    }\n  };\n\n  const convertAmountToString = (amount: BigNumber): string =>\n    amount.toNumber().toLocaleString('en-US', {\n      maximumFractionDigits: 8,\n    });\n\n  const renderCryptoOptions = () => {\n    return (\n      <Grid container justify=\"center\" direction=\"row\" alignItems=\"center\">\n        <Grid item xs={12}>\n          <AssetSelector\n            label={'You send'}\n            value={sendAmount}\n            placeholder={'0.00'}\n            onAmountChange={onSendAmountChange}\n            onAssetChange={(currency: CurrencyOption) =>\n              dispatch(setSendAsset(currency.id))\n            }\n            selectedAsset={sendCurrency}\n            loading={!ratesLoaded}\n            error={sendAmountError}\n          />\n        </Grid>\n        <Grid item xs={12}>\n          <SwapButton\n            onClick={() => {\n              dispatch(setSendAsset(receiveCurrency.id));\n              dispatch(setReceiveAsset(sendCurrency.id));\n            }}\n            disabled={!ratesLoaded}\n          />\n        </Grid>\n        <Grid item xs={12}>\n          <AssetSelector\n            label={'You receive'}\n            value={receiveAmount}\n            placeholder={'0.00'}\n            onAmountChange={onReceiveAmountChange}\n            onAssetChange={(currency: CurrencyOption) =>\n              dispatch(setReceiveAsset(currency.id))\n            }\n            selectedAsset={receiveCurrency}\n            loading={!ratesLoaded}\n            error={receiveAmountError}\n          />\n        </Grid>\n      </Grid>\n    );\n  };\n\n  return (\n    <CardComponent>\n      <div className={classes.root}>\n        <Grid container justify=\"flex-start\" className={classes.content}>\n          <Typography className={classes.text} component=\"h2\" align=\"left\">\n            Swap\n          </Typography>\n          {renderCryptoOptions()}\n          <Grid\n            item\n            container\n            justify=\"center\"\n            className={classes.errorMessageContainer}\n          >\n            {!swapProvider && ratesLoaded && (\n              <ErrorMessage message=\"Trading pair not supported\" />\n            )}\n            {previewValueError ? (\n              <ErrorMessage message={previewValueError.message} />\n            ) : (\n              <></>\n            )}\n          </Grid>\n        </Grid>\n        <Button\n          fullWidth\n          variant=\"contained\"\n          color=\"primary\"\n          disabled={nextDisabled}\n          onClick={() => dispatch(setSwapStep(SwapStep.SWAP_FLOW))}\n        >\n          Next\n        </Button>\n      </div>\n    </CardComponent>\n  );\n};\n\nexport default ChooseTradingPair;\n","import { useState, useEffect, useCallback } from 'react';\nimport { RatesFetcher } from '../../../constants/rates';\nimport TdexFetcher from './tdexFetcher';\n\nimport { setBestProvider } from '../../../store/tdex-slice';\nimport { useAppDispatch } from '../../../store/hooks';\n\nexport default function useTdexFetcher(): RatesFetcher | null {\n  const dispatch = useAppDispatch();\n  const stableDispatch = useCallback(dispatch, [dispatch]);\n  let [fetcher, setFetcher] = useState<RatesFetcher | null>(null);\n\n  useEffect(() => {\n    (async () => {\n      let liquidNetwork: 'liquid' | 'regtest' = 'regtest';\n      let listOfProviders = [\n        {\n          name: 'development daemon',\n          endpoint: 'http://localhost:9945',\n        },\n      ];\n\n      if (process.env.NODE_ENV === 'production') {\n        const result = await fetch(\n          `https://raw.githubusercontent.com/TDex-network/tdex-registry/master/registry.json`\n        );\n        listOfProviders = await result.json();\n        liquidNetwork = 'liquid';\n      }\n\n      // async instantiation using the The Functional Options Pattern\n      // https://betterprogramming.pub/how-to-write-an-async-class-constructor-in-typescript-javascript-7d7e8325c35e\n\n      try {\n        // start tdex fetcher  with the providers from tdex registry\n        const tdexFetcher = new TdexFetcher(\n          await TdexFetcher.WithTdexProviders(listOfProviders, liquidNetwork)\n        );\n        setFetcher(tdexFetcher);\n\n        // we use browser events to dispatch redux action just before the previewGien* of the RatesFetcher returns\n        window.addEventListener(\n          'bestProvider',\n          (evt: any) => {\n            stableDispatch(setBestProvider((evt as CustomEvent).detail));\n          },\n          false\n        );\n      } catch (e) {\n        console.error(e);\n        return;\n      }\n    })();\n  }, [stableDispatch]);\n\n  return fetcher;\n}\n","import { useEffect, useState } from 'react';\nimport { BOLTZ_GET_PAIRS_API_URL } from '../api/boltzApiUrls';\nimport { useBoltzConfiguration } from '../context/NetworkContext';\nimport BoltzFetcher from './boltzRates';\nimport { RatesFetcher } from './rates';\n\nexport default function useBoltzFetcher(): RatesFetcher | null {\n  const [fetcher, setFetcher] = useState<RatesFetcher | null>(null);\n  const { apiEndpoint } = useBoltzConfiguration();\n  const url = BOLTZ_GET_PAIRS_API_URL(apiEndpoint);\n\n  useEffect(() => {\n    const boltzFetcher = new BoltzFetcher({\n      url,\n    });\n    setFetcher(boltzFetcher);\n    return () => boltzFetcher.clean();\n  }, [url]);\n\n  return fetcher;\n}\n","import { RatesFetcher } from '../../constants/rates';\nimport useComitRate from './useComitRate';\n\nexport default function useComitFetcher(): RatesFetcher | null {\n  const comitRate = useComitRate();\n  return comitRate.rateFetcher;\n}\n","import {\n  BoltzSwapResponse,\n  ClaimDetails,\n  FeeResponse,\n  ReverseSwapDetails,\n  StatusResponse,\n} from '../constants/boltzSwap';\nimport CurrencyID from '../constants/currency';\nimport { broadcastRefund, getFeeEstimation, getHexBuffer } from './boltzRefund';\nimport { boltzPairsMap } from '../constants/boltzRates';\nimport { address, ECPair, Network, Transaction } from 'bitcoinjs-lib';\nimport { constructClaimTransaction, detectSwap } from 'boltz-core';\nimport { Observable, of } from 'rxjs';\nimport { mergeMap, tap } from 'rxjs/operators';\n\nexport const addReverseSwapDetailsToLocalStorage = (\n  details: ReverseSwapDetails\n): void => {\n  const boltzSwaps = getBoltzReverseSwapsFromLocalStorage();\n  boltzSwaps.push(details);\n  setBoltzReverseSwapsToLocalStorage(boltzSwaps);\n};\n\nexport const getBoltzReverseSwapsFromLocalStorage =\n  (): ReverseSwapDetails[] => {\n    return JSON.parse(localStorage.getItem('boltzReverseSwaps') || '[]');\n  };\n\nexport const setBoltzReverseSwapsToLocalStorage = (\n  swaps: ReverseSwapDetails[]\n): void => {\n  localStorage.setItem('boltzReverseSwaps', JSON.stringify(swaps));\n};\n\nexport const claimSwap = (\n  claimDetails: ClaimDetails,\n  status: StatusResponse,\n  swapResponse: BoltzSwapResponse,\n  receiveCurrency: CurrencyID,\n  network: Network,\n  apiEndpoint: string,\n  onClaimTransaction: (transaction: Transaction) => void\n): Observable<void> => {\n  return getFeeEstimation(apiEndpoint).pipe(\n    mergeMap(resp =>\n      of(\n        getClaimTransaction(\n          boltzPairsMap(receiveCurrency),\n          claimDetails,\n          status,\n          swapResponse,\n          network,\n          resp\n        )\n      )\n    ),\n    tap(onClaimTransaction),\n    mergeMap(claimTransaction =>\n      broadcastRefund(receiveCurrency, claimTransaction.toHex(), apiEndpoint)\n    )\n  );\n};\n\nconst getClaimTransaction = (\n  onchainCurrency: string,\n  claimDetails: ClaimDetails,\n  statusResponse: StatusResponse,\n  swapResponse: BoltzSwapResponse,\n  network: Network,\n  feeEstimation: FeeResponse\n): Transaction => {\n  const redeemScript = getHexBuffer(swapResponse.redeemScript!);\n  const lockupTransaction = Transaction.fromHex(\n    statusResponse.transaction!.hex\n  );\n\n  return constructClaimTransaction(\n    [\n      {\n        ...detectSwap(redeemScript, lockupTransaction)!,\n        redeemScript,\n        txHash: lockupTransaction.getHash(),\n        preimage: claimDetails.preImage,\n        keys: ECPair.fromPrivateKey(getHexBuffer(claimDetails.privateKey)),\n      },\n    ],\n    address.toOutputScript(claimDetails.address, network),\n    feeEstimation[onchainCurrency],\n    false\n  );\n};\n","import { address } from 'bitcoinjs-lib';\n\nexport const isAddressValid = (input, network) => {\n  const swapAddress = input.trim();\n\n  if (input !== '') {\n    try {\n      address.toOutputScript(swapAddress, network);\n      return true;\n    } catch (error) {\n      return false;\n    }\n  }\n\n  return false;\n};\n","import {\n  createStyles,\n  FormControlLabel,\n  Grid,\n  makeStyles,\n  Switch,\n  TextField,\n  Tooltip,\n} from '@material-ui/core';\nimport BigNumber from 'bignumber.js';\nimport { crypto } from 'bitcoinjs-lib';\nimport React, { ReactElement, useEffect, useMemo, useState } from 'react';\nimport { BOLTZ_CREATE_SWAP_API_URL } from '../../../../api/boltzApiUrls';\nimport { boltzPairsMap } from '../../../../constants/boltzRates';\nimport {\n  BoltzSwapResponse,\n  ClaimDetails,\n} from '../../../../constants/boltzSwap';\nimport { useBoltzConfiguration } from '../../../../context/NetworkContext';\nimport { isAddressValid } from '../../../../services/reverse/addressValidation';\nimport {\n  generateKeys,\n  getHexString,\n} from '../../../../services/submarine/keys';\nimport { randomBytes } from '../../../../services/submarine/randomBytes';\nimport { useAppSelector } from '../../../../store/hooks';\nimport {\n  selectReceiveAsset,\n  selectSendAmount,\n  selectSendAsset,\n} from '../../../../store/swaps-slice';\nimport svgIcons from '../../../../utils/svgIcons';\n\nimport BoltzSwapStep from '../BoltzSwapStep';\n\ntype BoltzReverseDestinationProps = {\n  proceedToNext: (\n    swapDetails: BoltzSwapResponse,\n    claimDetails: ClaimDetails\n  ) => void;\n};\n\nconst useStyles = makeStyles(() =>\n  createStyles({\n    input: {\n      borderRadius: 0,\n      alignItems: 'start',\n    },\n    instant: {\n      marginTop: '1rem',\n      '& .MuiFormControlLabel-label': {\n        display: 'flex',\n        alignItems: 'center',\n      },\n    },\n    instantHint: {\n      height: '1.25rem',\n      marginLeft: '0.5rem',\n    },\n  })\n);\n\nconst BoltzReverseDestination = (\n  props: BoltzReverseDestinationProps\n): ReactElement => {\n  const { proceedToNext } = props;\n  const classes = useStyles();\n  const { apiEndpoint, bitcoinConstants, litecoinConstants } =\n    useBoltzConfiguration();\n  const receiveCurrency = useAppSelector(selectReceiveAsset);\n  const sendAmount = useAppSelector(selectSendAmount);\n  const sendCurrency = useAppSelector(selectSendAsset);\n  const [address, setAddrerss] = useState('');\n  const [instant, setInstant] = useState(true);\n  const [error, setError] = useState('');\n  const [loading, setLoading] = useState(false);\n  const [keys, setKeys] = useState<{ publicKey?: string; privateKey?: string }>(\n    {}\n  );\n  const network = useMemo(\n    () =>\n      boltzPairsMap(receiveCurrency) === 'BTC'\n        ? bitcoinConstants\n        : litecoinConstants,\n    [bitcoinConstants, litecoinConstants, receiveCurrency]\n  );\n\n  const placeholder = `${receiveCurrency} receiving address`;\n\n  useEffect(() => {\n    setKeys(generateKeys(network));\n  }, [network]);\n\n  const createSwap = () => {\n    const preImage = randomBytes(32);\n    const pairId = `${boltzPairsMap(sendCurrency)}/${boltzPairsMap(\n      receiveCurrency\n    )}`;\n    const params = {\n      type: 'reverseSubmarine',\n      pairId: pairId === 'BTC/LTC' ? 'LTC/BTC' : pairId,\n      orderSide: pairId === 'BTC/LTC' ? 'buy' : 'sell',\n      claimPublicKey: keys.publicKey || '',\n      preimageHash: getHexString(crypto.sha256(preImage)),\n      invoiceAmount: new BigNumber(sendAmount).multipliedBy(10 ** 8).toNumber(),\n    };\n\n    const claimDetails: ClaimDetails = {\n      preImage: preImage,\n      address: address,\n      instantSwap: instant,\n      privateKey: keys.privateKey || '',\n    };\n\n    const errorMessage = 'Something went wrong. Please try again.';\n    setLoading(true);\n    fetch(BOLTZ_CREATE_SWAP_API_URL(apiEndpoint), {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json;charset=utf-8',\n      },\n      body: JSON.stringify(params),\n    })\n      .then(async response => {\n        const data: BoltzSwapResponse = await response.json();\n        setLoading(false);\n\n        if (response.status === 201) {\n          setError('');\n          proceedToNext(data, claimDetails);\n          return;\n        }\n        const message = data.error || errorMessage;\n        setError(message);\n      })\n      .catch(() => {\n        setError(errorMessage);\n        setLoading(false);\n      });\n  };\n\n  const addressInvalid = !!address && !isAddressValid(address, network);\n\n  return (\n    <BoltzSwapStep\n      title={\n        <>\n          Paste a {receiveCurrency} address you'd like to receive the funds on\n        </>\n      }\n      content={\n        <Grid item container justify=\"center\">\n          <TextField\n            multiline\n            fullWidth\n            variant=\"outlined\"\n            aria-label={'receive-address'}\n            rows={3}\n            placeholder={placeholder}\n            value={address}\n            onChange={e => {\n              setAddrerss(e.target.value);\n              setError('');\n            }}\n            InputProps={{\n              className: classes.input,\n            }}\n            error={addressInvalid}\n            helperText={addressInvalid && 'Invalid address'}\n          />\n          <FormControlLabel\n            control={\n              <Switch\n                checked={instant}\n                onChange={() => setInstant(oldValue => !oldValue)}\n                name=\"instantSwap\"\n                color=\"primary\"\n              />\n            }\n            className={classes.instant}\n            label={\n              <>\n                Swap instantly\n                <Tooltip title=\"Enabling swap instantly means you agree to accept a 0-conf transaction from Boltz, which results in an instant swap.\">\n                  <img\n                    className={classes.instantHint}\n                    src={svgIcons.questionIcon}\n                    alt=\"hint\"\n                  />\n                </Tooltip>\n              </>\n            }\n          />\n        </Grid>\n      }\n      errorMessage={error}\n      mainButtonText=\"Next\"\n      mainButtonVisible\n      onMainButtonClick={createSwap}\n      mainButtonDisabled={!address || !isAddressValid(address, network)}\n      mainButtonLoading={loading}\n    />\n  );\n};\n\nexport default BoltzReverseDestination;\n","import React from 'react';\nimport Qrious from 'qrious';\nimport PropTypes from 'prop-types';\n\nclass QrCode extends React.Component {\n  id = '';\n\n  drawQrCode = () => {\n    if (this.id !== '') {\n      const { size, link } = this.props;\n      const element = document.getElementById(this.id);\n\n      this.qr = new Qrious({\n        element,\n      });\n\n      this.qr.set({\n        size,\n        level: 'H',\n        value: link,\n        background: 'white',\n        foreground: 'black',\n        backgroundAlpha: 1,\n        foregroundAlpha: 1,\n      });\n    }\n  };\n\n  componentDidUpdate() {\n    this.drawQrCode();\n  }\n\n  componentDidMount() {\n    this.drawQrCode();\n  }\n\n  render() {\n    const { link } = this.props;\n\n    if (link) {\n      this.id = `qr-${link.substring(0, 4)}`;\n\n      return <canvas id={this.id} />;\n    } else {\n      return <div />;\n    }\n  }\n}\n\nQrCode.propTypes = {\n  size: PropTypes.number.isRequired,\n  link: PropTypes.string.isRequired,\n};\n\nexport default QrCode;\n","import bolt11 from '@boltz/bolt11';\n\nexport const decodeInvoice = invoice => {\n  const decoded = bolt11.decode(invoice);\n\n  let payment_hash;\n  let routing_info;\n\n  for (const tag of decoded.tags) {\n    switch (tag.tagName) {\n      case 'payment_hash':\n        payment_hash = tag.data;\n        break;\n\n      case 'routing_info':\n        routing_info = tag.data;\n        break;\n\n      default:\n        break;\n    }\n  }\n\n  return {\n    ...decoded,\n    paymentHash: payment_hash,\n    routingInfo: routing_info,\n    satoshis: decoded.satoshis || 0,\n  };\n};\n\nconst getUnixTime = () => {\n  return Math.round(new Date().getTime() / 1000);\n};\n\nexport const timeUntilExpiry = invoice => {\n  const decoded = bolt11.decode(invoice);\n\n  let invoiceExpiry = decoded.timestamp || 0;\n\n  if (decoded.timeExpireDate) {\n    invoiceExpiry = decoded.timeExpireDate;\n  } else {\n    // Default invoice timeout\n    // Reference: https://github.com/lightningnetwork/lightning-rfc/blob/master/11-payment-encoding.md#tagged-fields\n    invoiceExpiry += 3600;\n  }\n\n  return invoiceExpiry - getUnixTime();\n};\n","import {\n  createStyles,\n  Grid,\n  Link,\n  makeStyles,\n  TextField,\n  Tooltip,\n  Typography,\n} from '@material-ui/core';\nimport { ReactElement, useEffect, useMemo, useState } from 'react';\nimport {\n  BoltzSwapResponse,\n  StatusResponse,\n  SwapUpdateEvent,\n} from '../../../../constants/boltzSwap';\nimport { useAppSelector } from '../../../../store/hooks';\nimport { selectSendAsset } from '../../../../store/swaps-slice';\nimport svgIcons from '../../../../utils/svgIcons';\nimport BoltzSwapStep from '../BoltzSwapStep';\nimport Button from '../../../Button';\nimport DrawQrCode from '../../../DrawQrCode';\nimport { useBlockExplorers } from '../../../../context/NetworkContext';\nimport { boltzPairsMap } from '../../../../constants/boltzRates';\nimport { timeUntilExpiry } from '../../../../utils/invoiceDecoder';\nimport { getETALabelWithSeconds } from '../../../../services/refund/timestamp';\n\ntype BoltzReverseSendProps = {\n  swapDetails?: BoltzSwapResponse;\n  swapStatus?: StatusResponse;\n};\n\nconst useStyles = makeStyles(() =>\n  createStyles({\n    qrCodeContainer: {\n      marginTop: '1rem',\n    },\n    input: {\n      borderRadius: 0,\n    },\n    titleContainer: {\n      display: 'flex',\n      alignItems: 'center',\n      justifyContent: 'center',\n    },\n    titleIcon: {\n      height: '1.5rem',\n      marginLeft: '0.5rem',\n    },\n    buttonsContainer: {\n      marginTop: '1rem',\n    },\n    link: {\n      display: 'flex',\n      alignItems: 'center',\n    },\n    linkIcon: {\n      height: '1rem',\n      marginLeft: '0.25rem',\n    },\n    expireContainer: {\n      marginBottom: '1rem',\n    },\n  })\n);\n\nconst BoltzReverseSend = (props: BoltzReverseSendProps): ReactElement => {\n  const classes = useStyles();\n  const explorers = useBlockExplorers();\n  const { swapDetails, swapStatus } = props;\n  const sendCurrency = useAppSelector(selectSendAsset);\n  const [etaTimeDiffLabel, setEtaTimeDiffLabel] = useState('');\n  const [etaLeft, setETALeft] = useState(timeUntilExpiry(swapDetails?.invoice));\n\n  const explorer = useMemo(\n    () => explorers.get(boltzPairsMap(sendCurrency)),\n    [sendCurrency, explorers]\n  );\n\n  const blockExplorerLink = `${explorer!.address}${swapDetails?.lockupAddress}`;\n\n  const mainButtonText =\n    !!swapStatus && swapStatus.status === SwapUpdateEvent.TransactionMempool\n      ? 'Waiting for one confirmation'\n      : 'Waiting for transaction';\n\n  useEffect(() => {\n    setEtaTimeDiffLabel(getETALabelWithSeconds(etaLeft).label);\n\n    if (etaLeft) {\n      setTimeout(() => {\n        setETALeft(etaLeft - 1);\n      }, 1000);\n    }\n  }, [etaLeft]);\n\n  const eta = etaLeft ? `Expires in ${etaTimeDiffLabel}` : 'Expired!';\n\n  return (\n    <BoltzSwapStep\n      title={\n        <span className={classes.titleContainer}>\n          Pay this {sendCurrency} invoice\n          <Tooltip title=\"A lightning invoice is how you receive payments on the lightning network. Please use a lightning wallet to pay the invoice.\">\n            <img\n              className={classes.titleIcon}\n              src={svgIcons.questionIcon}\n              alt=\"hint\"\n            />\n          </Tooltip>\n        </span>\n      }\n      content={\n        <>\n          <Typography variant=\"body1\" className={classes.expireContainer}>\n            {eta}\n          </Typography>\n          <TextField\n            fullWidth\n            variant=\"outlined\"\n            multiline\n            disabled\n            value={swapDetails!.invoice}\n            InputProps={{\n              className: classes.input,\n            }}\n          />\n          <Grid\n            item\n            container\n            justify=\"space-between\"\n            className={classes.buttonsContainer}\n          >\n            <Link\n              href={blockExplorerLink}\n              target=\"_blank\"\n              rel=\"noopener noreferrer\"\n              className={classes.link}\n            >\n              Check the lockup\n              <Tooltip title=\"Check the address to which Boltz will lockup coins after the invoice is paid.\">\n                <img\n                  className={classes.linkIcon}\n                  src={svgIcons.questionIcon}\n                  alt=\"hint\"\n                />\n              </Tooltip>\n            </Link>\n            <Button\n              variant=\"contained\"\n              onClick={() =>\n                navigator.clipboard?.writeText(swapDetails!.invoice!)\n              }\n            >\n              Copy Invoice\n            </Button>\n          </Grid>\n          <Grid\n            item\n            container\n            justify=\"center\"\n            className={classes.qrCodeContainer}\n          >\n            <DrawQrCode size={200} link={swapDetails!.invoice} />\n          </Grid>\n        </>\n      }\n      mainButtonVisible\n      mainButtonDisabled\n      mainButtonText={mainButtonText}\n    />\n  );\n};\n\nexport default BoltzReverseSend;\n","import { Link } from '@material-ui/core';\nimport { ReactElement, useMemo } from 'react';\nimport { boltzPairsMap } from '../../../../constants/boltzRates';\nimport { SwapStep } from '../../../../constants/swap';\nimport { useBlockExplorers } from '../../../../context/NetworkContext';\nimport { useAppDispatch, useAppSelector } from '../../../../store/hooks';\nimport { selectSendAsset, setSwapStep } from '../../../../store/swaps-slice';\nimport BoltzSwapResult from '../BoltzSwapResult';\nimport BoltzSwapStep from '../BoltzSwapStep';\n\ntype BoltzReverseSwapResultProps = {\n  errorMessage?: string;\n  transactionId?: string;\n};\n\nconst BoltzReverseSwapResult = (\n  props: BoltzReverseSwapResultProps\n): ReactElement => {\n  const { errorMessage, transactionId } = props;\n  const dispatch = useAppDispatch();\n  const explorers = useBlockExplorers();\n  const sendCurrency = useAppSelector(selectSendAsset);\n\n  const explorer = useMemo(\n    () => explorers.get(boltzPairsMap(sendCurrency)),\n    [sendCurrency, explorers]\n  );\n\n  const blockExplorerLink = `${explorer!.transaction}${transactionId}`;\n\n  return (\n    <BoltzSwapStep\n      title=\"\"\n      content={\n        <>\n          <BoltzSwapResult errorMessage={errorMessage} />\n          {!errorMessage && (\n            <Link\n              href={blockExplorerLink}\n              target=\"_blank\"\n              rel=\"noopener noreferrer\"\n            >\n              See on block explorer\n            </Link>\n          )}\n        </>\n      }\n      mainButtonVisible={!errorMessage}\n      mainButtonText={'Swap again'}\n      onMainButtonClick={() => dispatch(setSwapStep(SwapStep.CHOOSE_PAIR))}\n    />\n  );\n};\n\nexport default BoltzReverseSwapResult;\n","import React, { ReactElement, useCallback, useMemo, useState } from 'react';\nimport {\n  BoltzSwapResponse,\n  ClaimDetails,\n  StatusResponse,\n  SwapUpdateEvent,\n} from '../../../../constants/boltzSwap';\nimport {\n  addReverseSwapDetailsToLocalStorage,\n  claimSwap,\n} from '../../../../utils/boltzReverseSwap';\nimport { useBoltzConfiguration } from '../../../../context/NetworkContext';\nimport { startListening } from '../../../../utils/boltzSwapStatus';\nimport BoltzReverseDestination from './../../components/BoltzReverseDestination';\nimport BoltzReverseSend from './../../components/BoltzReverseSend';\nimport BoltzReverseSwapResult from './../../components/BoltzReverseSwapResult';\nimport { useAppSelector } from '../../../../store/hooks';\nimport { selectReceiveAsset } from '../../../../store/swaps-slice';\nimport { boltzPairsMap } from '../../../../constants/boltzRates';\nimport { removeRefundDetailsFromLocalStorage } from '../../../../utils/boltzRefund';\n\nconst BoltzReverseSwap = (): ReactElement => {\n  const receiveCurrency = useAppSelector(selectReceiveAsset);\n  const [activeStep, setActiveStep] = useState(0);\n  const [claimTransactionId, setClaimTransactionId] = useState('');\n  const [swapDetails, setSwapDetails] =\n    useState<BoltzSwapResponse | undefined>(undefined);\n  const [swapStatus, setSwapStatus] =\n    useState<StatusResponse | undefined>(undefined);\n  const [error, setError] = useState('');\n  const { apiEndpoint, bitcoinConstants, litecoinConstants } =\n    useBoltzConfiguration();\n\n  const network = useMemo(\n    () =>\n      boltzPairsMap(receiveCurrency) === 'BTC'\n        ? bitcoinConstants\n        : litecoinConstants,\n    [bitcoinConstants, litecoinConstants, receiveCurrency]\n  );\n\n  const proceedToNext = useCallback(\n    () => setActiveStep(oldValue => oldValue + 1),\n    [setActiveStep]\n  );\n\n  const destinationComplete = useMemo(\n    () => (swapDetails: BoltzSwapResponse, claimDetails: ClaimDetails) => {\n      addReverseSwapDetailsToLocalStorage({\n        ...claimDetails,\n        swapId: swapDetails.id,\n        redeemScript: swapDetails.redeemScript!,\n      });\n      setSwapDetails(swapDetails);\n      proceedToNext();\n      startListening(swapDetails.id, apiEndpoint, (data, stream) => {\n        setSwapStatus(data);\n        if (\n          (claimDetails.instantSwap &&\n            SwapUpdateEvent.TransactionMempool === data.status) ||\n          SwapUpdateEvent.TransactionConfirmed === data.status\n        ) {\n          claimSwap(\n            claimDetails,\n            data,\n            swapDetails,\n            receiveCurrency,\n            network,\n            apiEndpoint,\n            transaction => setClaimTransactionId(transaction.getId())\n          ).subscribe({\n            next: () => {},\n            error: err => {\n              console.log(err);\n              stream.close();\n              setError('Failed to claim the funds.');\n              proceedToNext();\n            },\n            complete: () => {\n              stream.close();\n              proceedToNext();\n              removeRefundDetailsFromLocalStorage(swapDetails.id);\n            },\n          });\n        } else if (data.failureReason) {\n          stream.close();\n        }\n      });\n    },\n    [proceedToNext, apiEndpoint, network, receiveCurrency]\n  );\n\n  const steps = [\n    <BoltzReverseDestination proceedToNext={destinationComplete} />,\n    <BoltzReverseSend swapDetails={swapDetails} swapStatus={swapStatus} />,\n    <BoltzReverseSwapResult\n      errorMessage={error || swapStatus?.failureReason}\n      transactionId={claimTransactionId}\n    />,\n  ];\n\n  return steps[activeStep];\n};\n\nexport default BoltzReverseSwap;\n","import bolt11 from '@boltz/bolt11';\n\nexport const isInvoiceValid = invoice => {\n  try {\n    bolt11.decode(invoice);\n    return true;\n  } catch (error) {\n    return false;\n  }\n};\n","import { createSlice, PayloadAction } from '@reduxjs/toolkit';\nimport { FundTransferType, fundTransferTypes } from '../constants/currency';\nimport { RootState } from './index';\n\ninterface BoltzState {\n  unit: SelectedFundTransferType;\n}\n\ntype SelectedFundTransferType = {\n  [key: string]: FundTransferType;\n};\n\nconst defaultUnitValues = Object.fromEntries(\n  Object.entries(fundTransferTypes).map(([key, val]) => [\n    key,\n    val.find(val => val.value === '2'),\n  ])\n);\n\nexport const initialState: BoltzState = {\n  unit: {\n    ...defaultUnitValues,\n    ...JSON.parse(localStorage.getItem('boltzUnits') || '{}'),\n  },\n};\n\nexport const swapsSlice = createSlice({\n  name: 'boltz',\n  initialState,\n  reducers: {\n    setUnit: (state, action: PayloadAction<SelectedFundTransferType>) => {\n      state.unit = { ...state.unit, ...action.payload };\n      localStorage.setItem('boltzUnits', JSON.stringify(state.unit));\n    },\n  },\n});\n\nexport const { setUnit } = swapsSlice.actions;\n\nexport const selectUnit = (state: RootState) => state.boltz.unit;\n\nexport default swapsSlice.reducer;\n","import {\n  createStyles,\n  Grid,\n  makeStyles,\n  MenuItem,\n  Select,\n} from '@material-ui/core';\nimport BigNumber from 'bignumber.js';\nimport React, { ReactElement, useEffect } from 'react';\nimport { boltzPairsMap } from '../../../../constants/boltzRates';\nimport CurrencyID, { fundTransferTypes } from '../../../../constants/currency';\nimport { selectUnit, setUnit } from '../../../../store/boltz-slice';\nimport { useAppDispatch, useAppSelector } from '../../../../store/hooks';\n\ntype BoltzAmountProps = {\n  amountInMainUnit: string;\n  currency: CurrencyID;\n  onDisplayedAmountChange?: (amount: string) => void;\n};\n\nconst useStyles = makeStyles(() =>\n  createStyles({\n    input: {\n      borderRadius: 0,\n    },\n    selectInput: {\n      borderRadius: 0,\n      paddingTop: '0.5rem',\n      paddingBottom: '0.5rem',\n    },\n    amountRow: {\n      marginTop: '0.5rem',\n    },\n    amountContainer: {\n      display: 'flex',\n      justifyContent: 'flex-end',\n    },\n    unitContainer: {\n      display: 'flex',\n      justifyContent: 'flex-start',\n    },\n  })\n);\n\nconst BoltzAmount = (props: BoltzAmountProps): ReactElement => {\n  const { amountInMainUnit, currency, onDisplayedAmountChange } = props;\n  const classes = useStyles();\n  const dispatch = useAppDispatch();\n  const units = useAppSelector(selectUnit);\n\n  const unitOptions = fundTransferTypes[boltzPairsMap(currency)];\n\n  const getUnit = () => {\n    return units[boltzPairsMap(currency)] || unitOptions[0];\n  };\n\n  const displayedAmount =\n    getUnit().value === '2'\n      ? amountInMainUnit\n      : new BigNumber(amountInMainUnit).multipliedBy(10 ** 8).toString();\n\n  useEffect(() => {\n    if (onDisplayedAmountChange) {\n      onDisplayedAmountChange(displayedAmount);\n    }\n  }, [displayedAmount, onDisplayedAmountChange]);\n\n  return (\n    <Grid\n      item\n      container\n      spacing={1}\n      alignItems=\"center\"\n      justify=\"center\"\n      className={classes.amountRow}\n    >\n      <Grid item xs={6} className={classes.amountContainer}>\n        {displayedAmount}\n      </Grid>\n      <Grid item xs={6} className={classes.unitContainer}>\n        <Select\n          variant=\"outlined\"\n          className={classes.input}\n          inputProps={{ className: classes.selectInput }}\n          value={getUnit().id}\n          onChange={e => {\n            const selected = unitOptions.find(\n              opt => opt.id === e.target.value\n            )!;\n            dispatch(setUnit({ [boltzPairsMap(currency)]: selected }));\n          }}\n        >\n          {unitOptions.map(option => (\n            <MenuItem key={option.value} value={option.id}>\n              {option.id}\n            </MenuItem>\n          ))}\n        </Select>\n      </Grid>\n    </Grid>\n  );\n};\n\nexport default BoltzAmount;\n","import React, { useEffect, useMemo } from 'react';\nimport { RefundDetails } from '../../constants/boltzSwap';\nimport createRefundQr from '../../utils/createRefundQr';\nimport detectTorBrowser from '../../utils/detectTorBrowser';\n\ntype DownloadRefundFileProps = {\n  details: RefundDetails;\n};\n\nconst DownloadRefundFile = (props: DownloadRefundFileProps) => {\n  const ref: React.RefObject<HTMLAnchorElement> = useMemo(\n    () => React.createRef(),\n    []\n  );\n\n  const { swapId, currency, privateKey, redeemScript, timeoutBlockHeight } =\n    props.details;\n\n  useEffect(() => {\n    ref?.current?.click();\n  }, [ref]);\n\n  const isTorBrowser = detectTorBrowser();\n\n  let refundFile = JSON.stringify({\n    swapId,\n    currency,\n    privateKey,\n    redeemScript,\n    timeoutBlockHeight,\n  });\n\n  // The Tor browser can't create PNG QR codes so we need to download the information as JSON\n  if (isTorBrowser) {\n    refundFile = 'data:application/json;charset=utf-8,' + refundFile;\n  } else {\n    refundFile = createRefundQr(refundFile);\n  }\n\n  const fileName = `refund-${swapId}`;\n\n  return (\n    // eslint-disable-next-line jsx-a11y/anchor-has-content\n    <a\n      target=\"_blank\"\n      rel=\"noopener noreferrer\"\n      ref={ref}\n      href={refundFile}\n      download={isTorBrowser ? `${fileName}.json` : `${fileName}.png`}\n    />\n  );\n};\n\nexport default DownloadRefundFile;\n","import QRious from 'qrious';\n\nexport default jsonData => {\n  const qr = new QRious({\n    size: 500,\n    level: 'L',\n    value: jsonData,\n    background: 'white',\n    foreground: 'black',\n    backgroundAlpha: 1,\n    foregroundAlpha: 1,\n  });\n\n  return qr.toDataURL();\n};\n","// Reference: https://stackoverflow.com/a/44461975\nexport default () => {\n  var img = document.createElement('img');\n  // Creates a black 1x1 px image\n  img.src =\n    'data:image/png;base64,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';\n\n  var canvas = document.createElement('canvas');\n  canvas.width = 1;\n  canvas.height = 1;\n  var ctx = canvas.getContext('2d');\n  var imagedata = ctx.getImageData(0, 0, canvas.width, canvas.height);\n\n  return (\n    imagedata.data[0] === 255 &&\n    imagedata.data[1] === 255 &&\n    imagedata.data[2] === 255 &&\n    imagedata.data[3] === 255\n  );\n};\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { useTheme } from '@material-ui/core/styles';\nimport DialogTitle from '@material-ui/core/DialogTitle';\nimport Dialog from '@material-ui/core/Dialog';\nimport Button from '@material-ui/core/Button';\nimport useMediaQuery from '@material-ui/core/useMediaQuery';\nimport svgIcons from '../../utils/svgIcons';\n\nfunction SimpleDialog(props) {\n  const { onClose, open, title } = props;\n  const theme = useTheme();\n  const fullScreen = useMediaQuery(theme.breakpoints.down('sm'));\n\n  const handleClose = () => {\n    onClose();\n  };\n\n  return (\n    <Dialog\n      fullScreen={fullScreen}\n      onClose={handleClose}\n      aria-labelledby=\"simple-dialog-title\"\n      open={open}\n    >\n      <DialogTitle id=\"simple-dialog-title\">\n        {title}\n        <Button\n          aria-controls={'menu-list-grow'}\n          aria-haspopup=\"true\"\n          className=\"drawer-close-btn\"\n          onClick={handleClose}\n        >\n          <img src={svgIcons.close} alt=\"\" />\n        </Button>\n      </DialogTitle>\n      {props.children}\n    </Dialog>\n  );\n}\n\nSimpleDialog.propTypes = {\n  onClose: PropTypes.func.isRequired,\n  open: PropTypes.bool.isRequired,\n  title: PropTypes.string,\n};\n\nexport default SimpleDialog;\n","import React from 'react';\nimport QrReader from 'react-qr-reader';\nimport DialogBox from '../DialogBox';\n\nexport default function QrCodeReader(props) {\n  const { onClose, open, setOpen } = props;\n\n  if (open) {\n    if (navigator?.mediaDevices?.getUserMedia) {\n      navigator.mediaDevices\n        .getUserMedia({\n          video: true,\n        })\n        .then(() => {})\n        .catch(err =>\n          alert(\n            'The following error occurred when trying to access the camera: ' +\n              err\n          )\n        );\n    } else {\n      alert('Sorry, browser does not support camera access');\n    }\n  }\n\n  const closeDialogBox = () => {\n    setOpen(false);\n  };\n\n  const onScan = value => {\n    if (value && value.trim()) {\n      onClose(value);\n      closeDialogBox();\n    }\n  };\n\n  return (\n    <DialogBox open={open} onClose={closeDialogBox} title=\"Scan QR Code\">\n      <QrReader\n        delay={300}\n        onError={console.error}\n        onScan={onScan}\n        style={{ width: '100%' }}\n      />\n    </DialogBox>\n  );\n}\n","import {\n  createStyles,\n  FormControlLabel,\n  Grid,\n  InputAdornment,\n  makeStyles,\n  Switch,\n  TextField,\n  Tooltip,\n} from '@material-ui/core';\nimport React, { ReactElement, useContext, useEffect, useState } from 'react';\nimport { BOLTZ_CREATE_SWAP_API_URL } from '../../../../api/boltzApiUrls';\nimport { boltzPairsMap } from '../../../../constants/boltzRates';\nimport {\n  BoltzSwapResponse,\n  RefundDetails,\n} from '../../../../constants/boltzSwap';\nimport { useBoltzConfiguration } from '../../../../context/NetworkContext';\nimport { UtilsContext } from '../../../../context/UtilsContext';\nimport { isInvoiceValid } from '../../../../services/submarine/invoiceValidation';\nimport { generateKeys } from '../../../../services/submarine/keys';\nimport { selectUnit } from '../../../../store/boltz-slice';\nimport { useAppSelector } from '../../../../store/hooks';\nimport {\n  selectReceiveAmount,\n  selectReceiveAsset,\n  selectSendAsset,\n} from '../../../../store/swaps-slice';\nimport { addRefundDetailsToLocalStorage } from '../../../../utils/boltzRefund';\nimport svgIcons from '../../../../utils/svgIcons';\nimport BoltzAmount from '../BoltzAmount';\nimport BoltzSwapStep from '../BoltzSwapStep';\nimport Button from '../../../Button';\nimport DownloadRefundFile from '../../../DownloadRefundFile';\nimport QrCodeReader from '../../../QrCodeReader';\n\ntype BoltzSubmarineDestinationProps = {\n  proceedToNext: (swapDetails: BoltzSwapResponse) => void;\n};\n\nconst useStyles = makeStyles(() =>\n  createStyles({\n    input: {\n      borderRadius: 0,\n      alignItems: 'start',\n    },\n    scanButton: {\n      marginBottom: '1rem',\n    },\n    hintIcon: {\n      height: '1.5rem',\n    },\n    endAdornment: {\n      display: 'block',\n    },\n    downloadRefund: {\n      marginTop: '1rem',\n      '& .MuiFormControlLabel-label': {\n        display: 'flex',\n        alignItems: 'center',\n      },\n    },\n    downloadRefundHint: {\n      height: '1.25rem',\n      marginLeft: '0.5rem',\n    },\n  })\n);\n\nconst BoltzSubmarineDestination = (\n  props: BoltzSubmarineDestinationProps\n): ReactElement => {\n  const { proceedToNext } = props;\n  const classes = useStyles();\n  const receiveAmount = useAppSelector(selectReceiveAmount);\n  const receiveCurrency = useAppSelector(selectReceiveAsset);\n  const sendCurrency = useAppSelector(selectSendAsset);\n  const units = useAppSelector(selectUnit);\n  const [invoice, setInvoice] = useState('');\n  const [error, setError] = useState('');\n  const [downloadRefundFile, setDownloadRefundFile] = useState(true);\n  const [loading, setLoading] = useState(false);\n  const [browserScan, setBrowserScan] = useState(false);\n  const { apiEndpoint, bitcoinConstants, litecoinConstants } =\n    useBoltzConfiguration();\n  const [keys, setKeys] = useState<{ publicKey?: string; privateKey?: string }>(\n    {}\n  );\n  const [refundDetails, setRefundDetails] =\n    useState<RefundDetails | undefined>(undefined);\n  const [displayedAmount, setDisplayedAmount] = useState('');\n  const utilsContext = useContext(UtilsContext);\n  const isMobileView = !!utilsContext?.isMobileView;\n\n  const invoiceFieldText = `Invoice for ${displayedAmount} ${\n    units[boltzPairsMap(receiveCurrency)].id\n  }`;\n\n  const invoiceValid = invoice => !invoice || isInvoiceValid(invoice);\n\n  const nextEnabled = !!invoice && isInvoiceValid(invoice);\n\n  useEffect(() => {\n    const network =\n      boltzPairsMap(receiveCurrency) === 'BTC'\n        ? bitcoinConstants\n        : litecoinConstants;\n    setKeys(generateKeys(network));\n  }, [sendCurrency, receiveCurrency, bitcoinConstants, litecoinConstants]);\n\n  const createSwap = () => {\n    const pairId = `${boltzPairsMap(sendCurrency)}/${boltzPairsMap(\n      receiveCurrency\n    )}`;\n    const params = {\n      type: 'submarine',\n      pairId: pairId === 'BTC/LTC' ? 'LTC/BTC' : pairId,\n      orderSide: pairId === 'BTC/LTC' ? 'buy' : 'sell',\n      invoice: invoice,\n      refundPublicKey: keys.publicKey,\n      channel: {\n        auto: true,\n        private: false,\n        inboundLiquidity: 25,\n      },\n    };\n\n    const errorMessage = 'Something went wrong. Please try again.';\n    setLoading(true);\n    fetch(BOLTZ_CREATE_SWAP_API_URL(apiEndpoint), {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json;charset=utf-8',\n      },\n      body: JSON.stringify(params),\n    })\n      .then(async response => {\n        const data: BoltzSwapResponse = await response.json();\n        setLoading(false);\n\n        if (response.status === 201) {\n          setError('');\n          const refundData: RefundDetails = {\n            swapId: data.id,\n            currency: sendCurrency,\n            timeoutBlockHeight: data.timeoutBlockHeight,\n            redeemScript: data.redeemScript!,\n            privateKey: keys.privateKey!,\n            date: new Date(),\n          };\n          setRefundDetails(refundData);\n          addRefundDetailsToLocalStorage(refundData);\n          proceedToNext(data);\n          return;\n        }\n        const message = data.error || errorMessage;\n        setError(message);\n      })\n      .catch(() => {\n        setError(errorMessage);\n        setLoading(false);\n      });\n  };\n\n  return (\n    <BoltzSwapStep\n      title={\n        <>\n          Paste invoice to receive\n          <br />\n          <BoltzAmount\n            amountInMainUnit={receiveAmount}\n            currency={receiveCurrency}\n            onDisplayedAmountChange={setDisplayedAmount}\n          />\n        </>\n      }\n      content={\n        <Grid item container justify=\"center\">\n          {isMobileView && (\n            <Button\n              onClick={() => setBrowserScan(true)}\n              startIcon={<img src={svgIcons.camera} alt=\"scan\" />}\n              className={classes.scanButton}\n            >\n              Scan invoice\n            </Button>\n          )}\n          <TextField\n            multiline\n            fullWidth\n            variant=\"outlined\"\n            aria-label={invoiceFieldText}\n            rows={6}\n            placeholder={invoiceFieldText}\n            value={invoice}\n            onChange={e => {\n              setInvoice(e.target.value);\n              setError('');\n            }}\n            error={!invoiceValid(invoice)}\n            helperText={!invoiceValid(invoice) && 'Invalid invoice'}\n            InputProps={{\n              className: classes.input,\n              endAdornment: (\n                <InputAdornment position=\"end\" className={classes.endAdornment}>\n                  <Tooltip title=\"A lightning invoice is how you receive payments on the lightning network. Please use a Lightning wallet to create an invoice.\">\n                    <img\n                      className={classes.hintIcon}\n                      src={svgIcons.questionIcon}\n                      alt=\"hint\"\n                    />\n                  </Tooltip>\n                </InputAdornment>\n              ),\n            }}\n          />\n          <FormControlLabel\n            control={\n              <Switch\n                checked={downloadRefundFile}\n                onChange={() => setDownloadRefundFile(oldValue => !oldValue)}\n                name=\"downloadRefundFile\"\n                color=\"primary\"\n              />\n            }\n            className={classes.downloadRefund}\n            label={\n              <>\n                Download refund file\n                <Tooltip title=\"The refund details are stored in your browser. You can also save the file on your device.\">\n                  <img\n                    className={classes.downloadRefundHint}\n                    src={svgIcons.questionIcon}\n                    alt=\"hint\"\n                  />\n                </Tooltip>\n              </>\n            }\n          />\n          {downloadRefundFile && !!refundDetails && (\n            <DownloadRefundFile details={refundDetails} />\n          )}\n          <QrCodeReader\n            onClose={(invoice: string) => setInvoice(invoice.toLowerCase())}\n            open={browserScan}\n            setOpen={setBrowserScan}\n          />\n        </Grid>\n      }\n      errorMessage={error}\n      mainButtonText=\"Next\"\n      mainButtonVisible\n      onMainButtonClick={createSwap}\n      mainButtonDisabled={!nextEnabled}\n      mainButtonLoading={loading}\n    />\n  );\n};\n\nexport default BoltzSubmarineDestination;\n","export enum OS {\n  WINDOWS = 'Windows',\n  MAC = 'Darwin',\n  LINUX = 'Linux',\n  UNSUPPORTED = 'Unsupported',\n}\n\nexport const getOs = () => {\n  let os = OS.UNSUPPORTED;\n  if (navigator.appVersion.indexOf('Win') !== -1) {\n    os = OS.WINDOWS;\n  } else if (navigator.appVersion.indexOf('Mac') !== -1) {\n    os = OS.MAC;\n  } else if (navigator.appVersion.indexOf('Linux') !== -1) {\n    os = OS.LINUX;\n  }\n\n  return os;\n};\n","import {\n  createStyles,\n  Grid,\n  InputAdornment,\n  makeStyles,\n  TextField,\n} from '@material-ui/core';\nimport BigNumber from 'bignumber.js';\nimport React, { ReactElement, useEffect } from 'react';\nimport {\n  BoltzSwapResponse,\n  StatusResponse,\n  SwapUpdateEvent,\n} from '../../../../constants/boltzSwap';\nimport { useAppSelector } from '../../../../store/hooks';\nimport { selectSendAsset } from '../../../../store/swaps-slice';\nimport { swapError } from '../../../../utils/boltzSwapStatus';\nimport BoltzAmount from '../BoltzAmount';\nimport BoltzSwapStep from '../BoltzSwapStep';\nimport Button from '../../../Button';\nimport DrawQrCode from '../../../DrawQrCode';\n\ntype BoltzSubmarineSendProps = {\n  swapDetails: BoltzSwapResponse;\n  swapStatus?: StatusResponse;\n  proceedToNext: () => void;\n};\n\nconst useStyles = makeStyles(() =>\n  createStyles({\n    qrCodeContainer: {\n      marginTop: '1rem',\n    },\n    input: {\n      borderRadius: 0,\n    },\n  })\n);\n\nconst BoltzSubmarineSend = (props: BoltzSubmarineSendProps): ReactElement => {\n  const classes = useStyles();\n  const { swapDetails, swapStatus, proceedToNext } = props;\n  const sendCurrency = useAppSelector(selectSendAsset);\n\n  const isWaitingForTransaction =\n    !swapStatus || swapStatus.status === SwapUpdateEvent.InvoiceSet;\n\n  useEffect(() => {\n    if (swapStatus && swapError(swapStatus)) {\n      proceedToNext();\n    }\n  }, [swapStatus, proceedToNext]);\n\n  return (\n    <BoltzSwapStep\n      title={\n        <>\n          Send\n          <br />\n          <BoltzAmount\n            amountInMainUnit={new BigNumber(swapDetails.expectedAmount!)\n              .dividedBy(10 ** 8)\n              .toString()}\n            currency={sendCurrency}\n          />\n        </>\n      }\n      content={\n        <>\n          <TextField\n            fullWidth\n            variant=\"outlined\"\n            multiline\n            disabled\n            value={swapDetails.address}\n            InputProps={{\n              className: classes.input,\n              endAdornment: (\n                <InputAdornment position=\"end\">\n                  <Button\n                    onClick={() =>\n                      navigator.clipboard?.writeText(swapDetails.address)\n                    }\n                  >\n                    Copy\n                  </Button>\n                </InputAdornment>\n              ),\n            }}\n          />\n          <Grid\n            item\n            container\n            justify=\"center\"\n            className={classes.qrCodeContainer}\n          >\n            <DrawQrCode size={150} link={swapDetails.bip21!} />\n          </Grid>\n        </>\n      }\n      mainButtonVisible\n      mainButtonText={\n        isWaitingForTransaction ? 'Waiting for transaction' : 'Next'\n      }\n      mainButtonDisabled={isWaitingForTransaction}\n      onMainButtonClick={proceedToNext}\n    />\n  );\n};\n\nexport default BoltzSubmarineSend;\n","import React, { ReactElement, useState } from 'react';\nimport { StatusResponse, swapSteps } from '../../../../constants/boltzSwap';\nimport { SwapStep } from '../../../../constants/swap';\nimport { useAppDispatch } from '../../../../store/hooks';\nimport { setSwapStep } from '../../../../store/swaps-slice';\nimport { swapError } from '../../../../utils/boltzSwapStatus';\nimport BoltzSubmarineStatus from '../BoltzSubmarineStatus';\nimport BoltzSwapStep from '../BoltzSwapStep';\n\ntype BoltzSubmarineSwapStatusProps = {\n  swapStatus: StatusResponse;\n  swapId?: string;\n};\n\nconst BoltzSubmarineSwapStatus = (\n  props: BoltzSubmarineSwapStatusProps\n): ReactElement => {\n  const { swapStatus, swapId } = props;\n  const [activeStep, setActiveStep] = useState<number | undefined>(undefined);\n  const dispatch = useAppDispatch();\n\n  const swapInProgress =\n    !swapError(swapStatus) && !!activeStep && activeStep < swapSteps.length;\n\n  return (\n    <BoltzSwapStep\n      title=\"Swap status\"\n      content={\n        <BoltzSubmarineStatus\n          swapStatus={swapStatus}\n          swapId={swapId}\n          showRefundButton\n          onActiveStepChange={setActiveStep}\n        />\n      }\n      mainButtonDisabled={swapInProgress}\n      mainButtonText={swapInProgress ? 'Swap in progress' : 'Start a new swap'}\n      onMainButtonClick={() => dispatch(setSwapStep(SwapStep.CHOOSE_PAIR))}\n    />\n  );\n};\n\nexport default BoltzSubmarineSwapStatus;\n","import React, { ReactElement, useCallback, useMemo, useState } from 'react';\nimport {\n  BoltzSwapResponse,\n  StatusResponse,\n  SwapUpdateEvent,\n} from '../../../../constants/boltzSwap';\nimport { useBoltzConfiguration } from '../../../../context/NetworkContext';\nimport { removeRefundDetailsFromLocalStorage } from '../../../../utils/boltzRefund';\nimport { isFinal, startListening } from '../../../../utils/boltzSwapStatus';\nimport BoltzSubmarineDestination from '../BoltzSubmarineDestination';\nimport BoltzSubmarineSend from '../BoltzSubmarineSend';\nimport BoltzSubmarineSwapStatus from './../../components/BoltzSubmarineSwapStatus';\n\nconst BoltzSubmarineSwap = (): ReactElement => {\n  const [activeStep, setActiveStep] = useState(0);\n  const [swapDetails, setSwapDetails] =\n    useState<BoltzSwapResponse | undefined>(undefined);\n  const [swapStatus, setSwapStatus] =\n    useState<StatusResponse | undefined>(undefined);\n  const { apiEndpoint } = useBoltzConfiguration();\n\n  const proceedToNext = useCallback(\n    () => setActiveStep(oldValue => oldValue + 1),\n    [setActiveStep]\n  );\n\n  const destinationComplete = useMemo(\n    () => (swapDetails: BoltzSwapResponse) => {\n      setSwapDetails(swapDetails);\n      proceedToNext();\n      startListening(swapDetails.id, apiEndpoint, (data, stream) => {\n        setSwapStatus(data);\n        if (isFinal(data)) {\n          stream.close();\n          if (SwapUpdateEvent.TransactionClaimed === data.status) {\n            removeRefundDetailsFromLocalStorage(swapDetails.id);\n          }\n        }\n      });\n    },\n    [proceedToNext, apiEndpoint]\n  );\n\n  const steps = [\n    <BoltzSubmarineDestination proceedToNext={destinationComplete} />,\n    <BoltzSubmarineSend\n      swapDetails={swapDetails!}\n      swapStatus={swapStatus}\n      proceedToNext={proceedToNext}\n    />,\n    <BoltzSubmarineSwapStatus\n      swapStatus={swapStatus!}\n      swapId={swapDetails?.id}\n    />,\n  ];\n\n  return steps[activeStep];\n};\n\nexport default BoltzSubmarineSwap;\n","import { createStyles, makeStyles } from '@material-ui/core';\nimport React, { ReactElement } from 'react';\nimport CurrencyID from '../../constants/currency';\nimport { useAppSelector } from '../../store/hooks';\nimport { selectReceiveAsset, selectSendAsset } from '../../store/swaps-slice';\nimport BoltzReverseSwap from './components/BoltzReverseSwap';\nimport BoltzSubmarineSwap from './components/BoltzSubmarineSwap';\n\nconst useStyles = makeStyles(() =>\n  createStyles({\n    root: {\n      display: 'flex',\n      'flex-direction': 'column',\n      'justify-content': 'space-between',\n      flex: 1,\n      minHeight: 440,\n    },\n  })\n);\n\nconst BoltzSwapFlow = (): ReactElement => {\n  const classes = useStyles();\n  const receiveCurrency = useAppSelector(selectReceiveAsset);\n  const sendCurrency = useAppSelector(selectSendAsset);\n\n  const component = () => {\n    if (\n      [CurrencyID.BTC, CurrencyID.LTC].includes(sendCurrency) &&\n      [CurrencyID.LIGHTNING_BTC, CurrencyID.LIGHTNING_LTC].includes(\n        receiveCurrency\n      )\n    ) {\n      return <BoltzSubmarineSwap />;\n    }\n    if (\n      [CurrencyID.LIGHTNING_BTC, CurrencyID.LIGHTNING_LTC].includes(\n        sendCurrency\n      ) &&\n      [CurrencyID.BTC, CurrencyID.LTC].includes(receiveCurrency)\n    ) {\n      return <BoltzReverseSwap />;\n    }\n  };\n\n  return (\n    <div className={classes.root}>\n      {component() || <div>Not implemented</div>}\n    </div>\n  );\n};\n\nexport default BoltzSwapFlow;\n","import React, { useState, useEffect } from 'react';\nimport { MarinaProvider } from 'marina-provider';\n\nimport { useAppDispatch, useAppSelector } from '../../store/hooks';\nimport { RootState } from '../../store';\n\nimport TdexSteps from './components/steps';\nimport Connect from './components/connect';\nimport Review from './components/review';\nimport Summary from './components/summary';\n\nimport { createStyles, makeStyles } from '@material-ui/core/styles';\nimport CircularProgress from '@material-ui/core/CircularProgress';\nimport { setSwapStep } from '../../store/swaps-slice';\nimport { seletctBestProvider } from '../../store/tdex-slice';\n\nimport { SwapStep } from '../../constants/swap';\n\ninterface Props {}\n\nconst useStyles = makeStyles(theme =>\n  createStyles({\n    wrapper: {\n      display: 'flex',\n      justifyContent: 'center',\n      alignItems: 'center',\n      flexDirection: 'column',\n      marginTop: '1rem',\n      marginBottom: '1rem',\n    },\n    instructions: {\n      marginTop: theme.spacing(1),\n      marginBottom: theme.spacing(1),\n    },\n    info: {\n      marginTop: theme.spacing(1),\n      marginBottom: theme.spacing(1),\n      paddingLeft: '25px',\n      paddingRight: '25px',\n      display: 'flex',\n      alignItems: 'center',\n      justifyContent: 'center',\n      flexDirection: 'column',\n    },\n    infoText: {\n      flex: '1 1 100%',\n      wordWrap: 'break-word',\n      wordBreak: 'break-all',\n    },\n  })\n);\n\nconst steps = ['Connect', 'Review & Confirm', 'Summary'];\n\nenum Steps {\n  Connect,\n  Review,\n  Summary,\n}\n\nconst TdexSwapFlow: React.FC<Props> = () => {\n  const classes = useStyles();\n  const [activeStep, setActiveStep] = React.useState(Steps.Connect);\n\n  const { sendAsset, receiveAsset, sendAmount, receiveAmount } = useAppSelector(\n    (state: RootState) => state.swaps\n  );\n  const bestProvider = useAppSelector(seletctBestProvider);\n\n  if (!bestProvider) throw new Error('TDEX: no provider has been selected');\n\n  const [isLoading, setIsLoading] = useState(true);\n  const [installed, setInstalled] = useState(false);\n  const [connected, setConnected] = useState(false);\n  const [chain, setChain] = useState<'liquid' | 'regtest'>('liquid');\n  const [txid, setTxid] = useState('');\n\n  useEffect(() => {\n    let isCheckingMarina = false;\n    const interval = setInterval(async () => {\n      try {\n        const marina: MarinaProvider = (window as any).marina;\n\n        if (marina === undefined) return;\n\n        setInstalled(true);\n\n        const net = await marina.getNetwork();\n        setChain(net);\n\n        if (isCheckingMarina) return;\n        isCheckingMarina = true;\n\n        if (activeStep > Steps.Connect) return;\n        const isEnabled = await marina.isEnabled();\n        setConnected(isEnabled);\n\n        if (isEnabled && activeStep === Steps.Connect) {\n          // skip directly to Review step\n          setActiveStep(Steps.Review);\n        }\n      } catch (error) {\n        console.log(error);\n        alert(error.message);\n      } finally {\n        setIsLoading(false);\n        isCheckingMarina = false;\n      }\n    }, 1000);\n\n    //Clean up\n    return () => {\n      clearInterval(interval);\n    };\n  }, [activeStep]);\n\n  const handleTradeCompleted = (txid: string) => {\n    setTxid(txid);\n    setActiveStep(Steps.Summary);\n  };\n\n  const handleNext = () => {\n    setActiveStep(prevActiveStep => prevActiveStep + 1);\n  };\n\n  const dispatch = useAppDispatch();\n  const handleGoBack = () => {\n    dispatch(setSwapStep(SwapStep.CHOOSE_PAIR));\n  };\n\n  const getStepContent = () => {\n    switch (activeStep) {\n      case Steps.Connect:\n        return (\n          <Connect\n            installed={installed}\n            connected={connected}\n            onConnect={handleNext}\n          />\n        );\n      case Steps.Review:\n        return (\n          <Review\n            chain={chain}\n            providerWithMarket={bestProvider}\n            terms={{\n              assetToBeSent: sendAsset,\n              amountToBeSent: Number(sendAmount.replace(',', '')),\n              assetToReceive: receiveAsset,\n              amountToReceive: Number(receiveAmount.replace(',', '')),\n            }}\n            onTrade={handleTradeCompleted}\n            onReject={handleGoBack}\n          />\n        );\n      case Steps.Summary:\n        return <Summary chain={chain} txid={txid} onNewTrade={handleGoBack} />;\n      default:\n        return null;\n    }\n  };\n\n  if (isLoading) {\n    return (\n      <div className={classes.wrapper}>\n        <CircularProgress />\n      </div>\n    );\n  }\n\n  const { name, endpoint } = bestProvider.provider;\n  return (\n    <>\n      <div className={classes.info}>\n        <p className={classes.infoText}>\n          {' '}\n          {`Status: ${\n            connected ? `Connected - Network: ${chain}` : `Not Connected`\n          }`}\n        </p>\n      </div>\n      <div className={classes.wrapper}>\n        <TdexSteps steps={steps} activeStep={activeStep} />\n        <div>{getStepContent()}</div>\n      </div>\n      <div className={classes.info}>\n        <p className={classes.infoText}>\n          Market provided by {` ${name} - ${endpoint}`}\n        </p>\n      </div>\n    </>\n  );\n};\n\nexport default TdexSwapFlow;\n","import React, { ReactElement, useEffect, useState } from 'react';\nimport {\n  Avatar,\n  Box,\n  ClickAwayListener,\n  IconButton,\n  Tooltip,\n} from '@material-ui/core';\nimport useDownloadUrl from './useDownloadUrl';\nimport { getOs, OS } from './utils';\nimport { RootState } from '../../store';\nimport { useAppSelector } from '../../store/hooks';\nimport useComitRate from './useComitRate';\nimport { receiveAmountForSendAmount } from './XmrBtcRateFetcher';\nimport { getMultiaddr, getPeerId } from './Asb';\nimport FileCopyIcon from '@material-ui/icons/FileCopy';\nimport { TextValidator, ValidatorForm } from 'react-material-ui-form-validator';\nimport { createStyles, makeStyles } from '@material-ui/core/styles';\nimport { BitcoinAmount } from './BitcoinAmount';\nimport { Network, useNetwork } from '../../context/NetworkContext';\n\nconst ComitSwapFlow = (): ReactElement => {\n  const { latestQuote: quote, error } = useComitRate();\n  const downloadUrl = useDownloadUrl();\n\n  const [copyTooltipOpen, setCopyTooltipOpen] = React.useState(false);\n  const handleCopyTooltipClose = () => {\n    setCopyTooltipOpen(false);\n  };\n  const handleCopyTooltipOpen = () => {\n    setCopyTooltipOpen(true);\n  };\n\n  const { network } = useNetwork();\n  const classes = useStyles();\n\n  // We only care about the send amount\n  // The receive amount it calculated internally in this component independent of what is displayed in ChooseTradingPair\n  const { sendAmount, sendAsset } = useAppSelector(\n    (state: RootState) => state.swaps\n  );\n\n  const [moneroAddress, setMoneroAddress] = useState<string>('');\n  const [validMoneroAddress, setValidMoneroAddress] =\n    useState<string | null>(null);\n\n  useEffect(() => {\n    setValidMoneroAddress(null);\n    setMoneroAddress('');\n  }, [network]);\n\n  let monero_address_regex_str_testnet = '^5([0-9]|[A-B])(.){93}$';\n  let monero_address_regex_str_mainnet = '^4([0-9]|[A-B])(.){93}$';\n\n  let monero_address_regex_str =\n    network === Network.Mainnet\n      ? monero_address_regex_str_mainnet\n      : monero_address_regex_str_testnet;\n  let monero_address_regex = new RegExp(monero_address_regex_str);\n  let monero_address_validator = 'matchRegexp:' + monero_address_regex_str;\n\n  let swapExecCommand = './swap';\n  if (getOs() === OS.WINDOWS) {\n    swapExecCommand = 'start /b \"swap\" swap.exe';\n  }\n\n  if (sendAsset !== 'BTC') {\n    return (\n      <div>\n        Only buying XMR is supported at the moment (you send BTC, you receive\n        XMR)\n      </div>\n    );\n  }\n\n  // TODO: Properly distinguish between error and status...\n  if (error) {\n    return <div>{error.message}</div>;\n  }\n\n  if (!quote) {\n    return <div>Loading latest price...</div>;\n  }\n\n  let youSend = BitcoinAmount.fromBtc(sendAmount);\n  let youReceive = receiveAmountForSendAmount(youSend, quote.price);\n\n  return (\n    <div>\n      <Box\n        display=\"flex\"\n        flexDirection=\"row\"\n        alignItems=\"center\"\n        p={1}\n        m={1}\n        className={classes.text}\n      >\n        You send\n        <Box className={classes.amount}>{youSend.toBtcString() + ' BTC'}</Box>\n        and receive approx.\n        <Box className={classes.amount}>\n          {youReceive.toXmrString() + ' XMR'}\n        </Box>\n      </Box>\n      <Box\n        display=\"flex\"\n        flexDirection=\"row\"\n        alignItems=\"center\"\n        p={1}\n        m={1}\n        className={classes.text}\n      >\n        Provider's minimum send quantity per swap:{' '}\n        <Box className={classes.amount}>\n          {quote.min_quantity.toBtcString()} BTC\n        </Box>\n      </Box>\n      <Box\n        display=\"flex\"\n        flexDirection=\"row\"\n        alignItems=\"center\"\n        p={1}\n        m={1}\n        className={classes.text}\n      >\n        Provider's maximum send quantity per swap:{' '}\n        <Box className={classes.amount}>\n          {quote.max_quantity.toBtcString()} BTC\n        </Box>\n      </Box>\n      <Box display=\"flex\" flexDirection=\"row\" alignItems=\"center\" p={1} m={1}>\n        <Avatar className={classes.step_number}>1</Avatar>\n        <a href={downloadUrl} download className={classes.step_text}>\n          Download swap CLI\n        </a>\n      </Box>\n\n      <Box component=\"span\" display=\"block\" p={1} m={1}>\n        <Box display=\"flex\" flexDirection=\"row\" alignItems=\"center\">\n          <Avatar className={classes.step_number}>2</Avatar>\n          <Box className={classes.step_text}>\n            Enter Monero stagenet address to receive XMR:\n          </Box>\n        </Box>\n        <Box component=\"span\" display=\"block\" mt={1}>\n          <ValidatorForm onSubmit={() => {}}>\n            <TextValidator\n              id=\"moneroAddress\"\n              label=\"Your Monero stagenet wallet address\"\n              fullWidth={true}\n              value={moneroAddress}\n              onChange={event => {\n                const val = event.target.value;\n\n                // TODO: can access internal error state instead somehow?\n                if (monero_address_regex.exec(val)) {\n                  setValidMoneroAddress(val);\n                } else {\n                  setValidMoneroAddress(null);\n                }\n\n                setMoneroAddress(val);\n              }}\n              validators={[monero_address_validator]}\n              errorMessages={['Invalid Monero Stagenet Address']}\n            />\n          </ValidatorForm>\n        </Box>\n      </Box>\n      {validMoneroAddress ? (\n        <Box>\n          <Box\n            display=\"flex\"\n            flexDirection=\"row\"\n            alignItems=\"center\"\n            p={1}\n            m={1}\n          >\n            <Avatar className={classes.step_number}>3</Avatar>\n            <Box className={classes.step_text}>\n              Copy command to execute swap in CLI (*):\n            </Box>\n          </Box>\n          <Box\n            display=\"flex\"\n            p={1}\n            m={1}\n            flexDirection=\"row\"\n            alignItems=\"center\"\n          >\n            <Box\n              id=\"command\"\n              overflow=\"scroll\"\n              whiteSpace=\"nowrap\"\n              className={classes.text}\n            >\n              {swapExecCommand} {network === Network.Mainnet ? '' : '--testnet'}{' '}\n              buy-xmr --seller-addr=\n              {getMultiaddr(network).toString()} --seller-peer-id=\n              {getPeerId(network).toString()} --receive-address={moneroAddress}\n            </Box>\n            <Box flexBasis={0}>\n              <ClickAwayListener onClickAway={handleCopyTooltipClose}>\n                <div>\n                  <Tooltip\n                    PopperProps={{\n                      disablePortal: true,\n                    }}\n                    onClose={handleCopyTooltipClose}\n                    open={copyTooltipOpen}\n                    disableFocusListener\n                    disableHoverListener\n                    disableTouchListener\n                    title=\"Command copied to clipboard\"\n                    placement=\"right\"\n                  >\n                    <IconButton\n                      color=\"primary\"\n                      onClick={() => {\n                        let command = document.getElementById('command');\n                        if (command) {\n                          navigator.clipboard.writeText(command.innerText);\n                          handleCopyTooltipOpen();\n                        }\n                      }}\n                    >\n                      <FileCopyIcon fontSize=\"large\" />\n                    </IconButton>\n                  </Tooltip>\n                </div>\n              </ClickAwayListener>\n            </Box>\n          </Box>\n          <Box display=\"block\" p={1} m={1}>\n            (*) Assumes that you run the command in the folder where you\n            downloaded and unpacked the swap CLI binary!\n          </Box>\n        </Box>\n      ) : (\n        <Box display=\"flex\" flexDirection=\"row\" alignItems=\"center\" p={1} m={1}>\n          <Avatar className={classes.step_number_inactive}>3</Avatar>\n          <Box className={classes.step_text_inactive}>\n            Enter valid Monero Address to see Command\n          </Box>\n        </Box>\n      )}\n    </div>\n  );\n};\n\nexport default ComitSwapFlow;\n\nconst useStyles = makeStyles(theme =>\n  createStyles({\n    amount: {\n      color: theme.palette.primary.main,\n      marginRight: 5,\n      marginLeft: 5,\n    },\n    text: {\n      color: 'white',\n      fontSize: 16,\n    },\n    step_text: {\n      color: theme.palette.primary.main,\n      fontSize: 18,\n    },\n    step_number: {\n      borderColor: theme.palette.primary.main,\n      borderWidth: 3,\n      borderStyle: 'solid',\n      color: theme.palette.getContrastText(theme.palette.primary.dark),\n      backgroundColor: theme.palette.primary.dark,\n      fontWeight: 1000,\n      marginRight: 10,\n    },\n    step_text_inactive: {\n      color: 'gray',\n      fontSize: 18,\n    },\n    step_number_inactive: {\n      borderColor: 'darkgray',\n      borderWidth: 3,\n      borderStyle: 'solid',\n      color: 'white',\n      backgroundColor: 'gray',\n      fontWeight: 1000,\n      marginRight: 10,\n    },\n  })\n);\n","import { useEffect, useState } from 'react';\nimport axios from 'axios';\nimport { getOs } from './utils';\n\nconst GITHUB_RELEASE_URL =\n  'https://api.github.com/repos/comit-network/xmr-btc-swap/releases/latest';\n\nexport default function useDownloadUrl() {\n  const downloadUrlPlaceholder =\n    'https://github.com/comit-network/xmr-btc-swap/releases/latest';\n  const [downloadUrl, setDownloadUrl] = useState<string>(\n    downloadUrlPlaceholder\n  );\n\n  useEffect(() => {\n    axios.get(GITHUB_RELEASE_URL).then(res => {\n      let gh = res.data;\n      const os = getOs();\n      for (let asset of gh.assets) {\n        if (asset.name.startsWith('swap') && asset.name.includes(os)) {\n          setDownloadUrl(asset.browser_download_url);\n        }\n      }\n    });\n  }, [setDownloadUrl]);\n\n  return downloadUrl;\n}\n","import React from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Stepper from '@material-ui/core/Stepper';\nimport Step from '@material-ui/core/Step';\nimport StepLabel from '@material-ui/core/StepLabel';\n\nconst useStyles = makeStyles(theme => ({\n  root: {\n    width: '100%',\n  },\n  backButton: {\n    marginRight: theme.spacing(1),\n  },\n  instructions: {\n    marginTop: theme.spacing(1),\n    marginBottom: theme.spacing(1),\n  },\n}));\n\ninterface Props {\n  steps: string[];\n  activeStep: number;\n}\n\nconst TdexStepper: React.FC<Props> = ({ steps, activeStep }) => {\n  const classes = useStyles();\n\n  return (\n    <div className={classes.root}>\n      <Stepper activeStep={activeStep} alternativeLabel>\n        {steps.map(label => (\n          <Step key={label}>\n            <StepLabel>{label}</StepLabel>\n          </Step>\n        ))}\n      </Stepper>\n    </div>\n  );\n};\n\nexport default TdexStepper;\n","import React from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Button from '@material-ui/core/Button';\nimport Typography from '@material-ui/core/Typography';\n\nconst useStyles = makeStyles(theme => ({\n  root: {\n    width: '100%',\n    display: 'flex',\n    flexDirection: 'column',\n    justifyContent: 'center',\n    alignItems: 'center',\n  },\n  instructions: {\n    marginTop: theme.spacing(3),\n    marginBottom: theme.spacing(3),\n  },\n  button: {\n    marginTop: theme.spacing(1),\n    marginBottom: theme.spacing(1),\n  },\n}));\n\ninterface Props {\n  installed: boolean;\n  connected: boolean;\n  onConnect(): void;\n}\n\nconst Connect: React.FC<Props> = ({ onConnect, installed, connected }) => {\n  const classes = useStyles();\n\n  const handleInstall = () => {\n    const newWindow = window.open(\n      'https://chrome.google.com/webstore/detail/nhanebedohgejbllffboeipobccgedhl',\n      '_blank',\n      'noopener,noreferrer'\n    );\n    if (newWindow) newWindow.opener = null;\n  };\n\n  const handleConnect = async () => {\n    if (!installed) {\n      return alert('Marina is not installed');\n    }\n\n    await (window as any).marina.enable();\n  };\n\n  const goAhead = async () => {\n    if (!installed) {\n      return alert('Marina is not installed');\n    }\n\n    if (!connected) {\n      return alert('User must enable this website to proceed');\n    }\n\n    onConnect();\n  };\n\n  return (\n    <div className={classes.root}>\n      {installed && connected ? (\n        <>\n          <Typography className={classes.instructions}> Connected</Typography>\n          <Button variant=\"contained\" color=\"primary\" onClick={goAhead}>\n            Go ahead\n          </Button>\n        </>\n      ) : (\n        <>\n          <Typography className={classes.instructions}>\n            Connect your wallet\n          </Typography>\n          {installed ? (\n            <Button\n              className={classes.button}\n              variant=\"contained\"\n              color=\"primary\"\n              onClick={handleConnect}\n            >\n              Connect with Marina Wallet\n            </Button>\n          ) : (\n            <Button\n              className={classes.button}\n              variant=\"contained\"\n              color=\"primary\"\n              onClick={handleInstall}\n            >\n              Install Marina Wallet extension\n            </Button>\n          )}\n          <Button\n            className={classes.button}\n            variant=\"contained\"\n            disabled\n            onClick={handleConnect}\n          >\n            In-browser wallet (coming soon)\n          </Button>\n        </>\n      )}\n    </div>\n  );\n};\n\nexport default Connect;\n","import { BrowserInject, IdentityOpts, AddressInterface, address } from 'ldk';\nimport { MarinaProvider } from 'marina-provider';\n\nexport default class BrowserInjectOpenDex extends BrowserInject {\n  private _provider: MarinaProvider;\n  private blindKeyByScript: Record<string, string> = {};\n\n  constructor(args: IdentityOpts) {\n    super(args);\n    this._provider = (window as any)[args.value.windowProvider];\n  }\n\n  async getBlindingPrivateKey(script: string): Promise<string> {\n    // check if blinding private key is already in the instance\n    if (this.blindKeyByScript.hasOwnProperty(script)) {\n      return this.blindKeyByScript[script];\n    }\n\n    try {\n      // get addresses from marina\n      const addresses = await this._provider.getAddresses();\n      // find the address of the requested script\n      let found: AddressInterface | undefined;\n      addresses.forEach((addr: AddressInterface) => {\n        const currentScript = address\n          .toOutputScript(addr.confidentialAddress)\n          .toString('hex');\n        if (currentScript === script) {\n          found = addr;\n        }\n      });\n\n      if (!found) throw new Error('no blinding key for script ' + script);\n\n      this.blindKeyByScript[script] = found.blindingPrivateKey;\n      return found.blindingPrivateKey;\n    } catch (e) {\n      throw e;\n    }\n  }\n}\n","import React, { useState } from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Button from '@material-ui/core/Button';\nimport Typography from '@material-ui/core/Typography';\nimport CircularProgress from '@material-ui/core/CircularProgress';\nimport { fetchAndUnblindUtxos, greedyCoinSelector, IdentityType } from 'ldk';\nimport BrowserInjectOpenDex from '../utils/browserInject';\nimport { Trade } from 'tdex-sdk';\n\nimport {\n  ExplorerByChain,\n  CurrencyToAssetByChain,\n  ProviderWithMarket,\n} from '../constants';\nimport CurrencyID from '../../../constants/currency';\nimport { toSatoshi } from '../utils/format';\n\nconst useStyles = makeStyles(theme => ({\n  root: {\n    width: '100%',\n    display: 'flex',\n    flexDirection: 'column',\n    justifyContent: 'center',\n    alignItems: 'center',\n  },\n  instructions: {\n    marginTop: theme.spacing(3),\n    marginBottom: theme.spacing(6),\n  },\n  terms: {\n    marginTop: theme.spacing(1),\n    marginBottom: theme.spacing(1),\n    fontSize: '1.25rem',\n    lineHeight: 'normal',\n  },\n  buttons: {\n    marginTop: theme.spacing(6),\n    justifyContent: 'center',\n    alignItems: 'center',\n    flexDirection: 'row',\n  },\n}));\n\ninterface SwapTerms {\n  assetToBeSent: CurrencyID;\n  amountToBeSent: number;\n  assetToReceive: CurrencyID;\n  amountToReceive: number;\n}\n\ninterface Props {\n  chain: 'liquid' | 'regtest';\n  providerWithMarket: ProviderWithMarket;\n  terms: SwapTerms;\n  onTrade(txid: string): void;\n  onReject(): void;\n}\n\nconst Review: React.FC<Props> = ({\n  onTrade,\n  onReject,\n  terms,\n  chain,\n  providerWithMarket,\n}) => {\n  const classes = useStyles();\n\n  const [isLoading, setIsLoading] = useState(false);\n\n  const explorer = ExplorerByChain[chain];\n\n  const identity = new BrowserInjectOpenDex({\n    chain,\n    type: IdentityType.Inject,\n    value: {\n      windowProvider: 'marina',\n    },\n  });\n\n  const handleConfirm = async () => {\n    try {\n      setIsLoading(true);\n\n      const addrs = await (window as any).marina.getAddresses();\n      const utxos = await fetchAndUnblindUtxos(addrs, explorer);\n\n      const trade = new Trade({\n        providerUrl: providerWithMarket.provider.endpoint,\n        explorerUrl: explorer,\n        coinSelector: greedyCoinSelector(),\n        utxos,\n      });\n\n      const { precision, hash } =\n        CurrencyToAssetByChain[chain][terms.assetToBeSent];\n      const amountToBeSentInSatoshis = toSatoshi(\n        terms.amountToBeSent,\n        precision\n      );\n\n      const isBuy =\n        CurrencyToAssetByChain[chain][terms.assetToBeSent].hash ===\n        providerWithMarket.market.quoteAsset;\n\n      let txid;\n      if (isBuy) {\n        txid = await trade.buy({\n          market: providerWithMarket.market,\n          amount: amountToBeSentInSatoshis,\n          asset: hash,\n          identity,\n        });\n      } else {\n        txid = await trade.sell({\n          market: providerWithMarket.market,\n          amount: amountToBeSentInSatoshis,\n          asset: hash,\n          identity,\n        });\n      }\n\n      setIsLoading(false);\n      onTrade(txid);\n    } catch (error) {\n      setIsLoading(false);\n      console.error(error);\n      alert(error.message);\n    }\n  };\n\n  return (\n    <div className={classes.root}>\n      <Typography className={classes.instructions}>\n        Review the terms of the trade before confirming\n      </Typography>\n      <Typography className={classes.terms}>\n         You send {terms.amountToBeSent} of {terms.assetToBeSent}\n      </Typography>\n      <br />\n      <Typography className={classes.terms}>\n         You receive {terms.amountToReceive} of {terms.assetToReceive}\n      </Typography>\n      {!isLoading ? (\n        <div className={classes.buttons}>\n          <Button onClick={onReject}>Reject</Button>\n          <Button variant=\"contained\" color=\"primary\" onClick={handleConfirm}>\n            Accept\n          </Button>\n        </div>\n      ) : (\n        <CircularProgress />\n      )}\n    </div>\n  );\n};\n\nexport default Review;\n","import React from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Typography from '@material-ui/core/Typography';\nimport Button from '@material-ui/core/Button';\n\nimport { EsploraByChain } from '../constants';\n\nimport svgIcons from '../../../utils/svgIcons';\n\nconst useStyles = makeStyles(theme => ({\n  root: {\n    width: '100%',\n    display: 'flex',\n    flexDirection: 'column',\n    justifyContent: 'center',\n    alignItems: 'center',\n  },\n  result: {\n    marginTop: theme.spacing(6),\n    marginBottom: theme.spacing(3),\n    fontSize: '1.5rem',\n    lineHeight: 'normal',\n  },\n  button: {\n    marginTop: theme.spacing(3),\n    marginBottom: theme.spacing(6),\n  },\n  image: {\n    marginTop: theme.spacing(2),\n    marginBottom: theme.spacing(4),\n  },\n}));\n\ninterface Props {\n  chain: 'liquid' | 'regtest';\n  txid: string;\n  onNewTrade(): void;\n}\n\nconst Summary: React.FC<Props> = ({ chain, txid, onNewTrade }) => {\n  const classes = useStyles();\n\n  const openInNewTab = url => {\n    const newWindow = window.open(url, '_blank', 'noopener,noreferrer');\n    if (newWindow) newWindow.opener = null;\n  };\n\n  return (\n    <div className={classes.root}>\n      <Typography className={classes.result}>Trade completed</Typography>\n      <img src={svgIcons.success} alt=\"Success\" className={classes.image} />\n      <Button\n        variant=\"contained\"\n        onClick={() => openInNewTab(`${EsploraByChain[chain]}/tx/${txid}`)}\n      >\n        Open in explorer\n      </Button>\n      <Button onClick={onNewTrade}>New trade</Button>\n    </div>\n  );\n};\n\nexport default Summary;\n","import React, { ReactElement } from 'react';\nimport { SwapProvider } from '../../constants/swap';\nimport { useAppSelector } from '../../store/hooks';\nimport { selectSwapProvider } from '../../store/swaps-slice';\nimport BoltzSwapFlow from '../BoltzSwapFlow';\nimport CardComponent from '../Card';\nimport ComitSwapFlow from '../ComitSwapFlow';\nimport TdexSwapFlow from '../TdexSwapFlow';\n\nconst flows = {\n  [SwapProvider.BOLTZ]: <BoltzSwapFlow />,\n  [SwapProvider.COMIT]: <ComitSwapFlow />,\n  [SwapProvider.TDEX]: <TdexSwapFlow />,\n};\n\nconst SwapFlow = (): ReactElement => {\n  const swapProvider = useAppSelector(selectSwapProvider);\n\n  return <CardComponent>{flows[swapProvider!]}</CardComponent>;\n};\n\nexport default SwapFlow;\n","export const defaultBackground = '#0c0c0c'; // grayish\nexport const defaultBackgroundLight = '#1a1817'; // light grayish\nexport const primaryTextColor = '#f2f2f2'; // whiteish\nexport const ternaryTextColor = '#636363';\n\nexport const theme = {\n  typography: {\n    fontFamily: '\"ApercuProMedium\", \"Roboto\", \"Helvetica\", \"Arial\", sans-serif',\n  },\n  palette: {\n    type: 'dark',\n    text: {\n      primary: primaryTextColor,\n      secondary: '#979797',\n    },\n    background: {\n      default: defaultBackground,\n      paper: defaultBackgroundLight,\n    },\n    primary: {\n      main: '#f15a24', // orange\n      contrastText: '#0c0c0c',\n    },\n    secondary: {\n      main: '#f2f2f2', // whiteish\n    },\n  },\n};\n","import { createStyles, Grid, makeStyles, Typography } from '@material-ui/core';\nimport React, { ReactElement } from 'react';\nimport { SwapProvider as Provider } from '../../constants/swap';\nimport svgIcons from '../../utils/svgIcons';\nimport { ternaryTextColor } from '../App/theme';\n\nexport type SwapProviderProps = {\n  provider: Provider;\n};\n\ntype ProviderInfo = {\n  providerName: Provider;\n  logos: ProviderLogo[];\n};\n\ntype ProviderLogo = {\n  source: string;\n  alt: string;\n};\n\nconst useStyles = makeStyles(() =>\n  createStyles({\n    text: {\n      fontFamily: 'ApercuProRegular',\n      color: ternaryTextColor,\n      fontSize: '1rem',\n      letterSpacing: '1px',\n    },\n    imageContainer: {\n      display: 'flex',\n      alignItems: 'center',\n    },\n    image: {\n      height: '1.25rem',\n    },\n    root: {\n      marginBottom: '2rem',\n    },\n  })\n);\n\nconst providerInfo: ProviderInfo[] = [\n  {\n    providerName: Provider.BOLTZ,\n    logos: [\n      { source: svgIcons.logo, alt: 'Boltz logo' },\n      { source: svgIcons.boltz, alt: 'Boltz' },\n    ],\n  },\n  {\n    providerName: Provider.COMIT,\n    logos: [{ source: svgIcons.comitLogo, alt: 'Comit' }],\n  },\n  {\n    providerName: Provider.TDEX,\n    logos: [{ source: svgIcons.tdexLogo, alt: 'TDex' }],\n  },\n];\n\nconst SwapProvider = (props: SwapProviderProps): ReactElement => {\n  const { provider } = props;\n  const classes = useStyles();\n\n  const serviceInfo = providerInfo.find(p => p.providerName === provider);\n\n  return (\n    <Grid\n      item\n      container\n      justify=\"center\"\n      alignItems=\"center\"\n      wrap=\"nowrap\"\n      spacing={1}\n      xs={12}\n      className={classes.root}\n    >\n      <Grid item>\n        <Typography className={classes.text}>Swap powered by</Typography>\n      </Grid>\n      {serviceInfo!.logos.map(logo => (\n        <Grid item className={classes.imageContainer} key={logo.alt}>\n          <img src={logo.source} alt={logo.alt} className={classes.image} />\n        </Grid>\n      ))}\n    </Grid>\n  );\n};\n\nexport default SwapProvider;\n","import { Box, MenuItem, TextField } from '@material-ui/core';\nimport { Network, useNetwork } from '../../context/NetworkContext';\nimport React from 'react';\n\nconst NetworkSelection = () => {\n  const { network, setNetwork } = useNetwork();\n\n  return (\n    <Box style={{ marginTop: '2rem' }}>\n      <TextField\n        select\n        className={'currency-options'}\n        value={network}\n        onChange={event => {\n          setNetwork(event.target.value! as Network);\n        }}\n        variant={'outlined'}\n        SelectProps={{ MenuProps: { disableScrollLock: true } }}\n      >\n        {Object.entries(Network).map(([key, value]) => (\n          <MenuItem key={key} value={value}>\n            {key}\n          </MenuItem>\n        ))}\n      </TextField>\n    </Box>\n  );\n};\n\nexport default NetworkSelection;\n","import { Grid } from '@material-ui/core';\nimport { ReactElement } from 'react';\nimport ChooseTradingPair from '../components/ChooseTradingPair';\nimport SwapFlow from '../components/SwapFlow';\nimport SwapProvider from '../components/SwapProvider';\nimport Title from '../components/Title';\nimport { SwapStep } from '../constants/swap';\nimport Layout from '../layout/main';\nimport { useAppSelector } from '../store/hooks';\nimport {\n  isRatesLoaded,\n  selectSwapProvider,\n  selectSwapStep,\n} from '../store/swaps-slice';\nimport NetworkSelection from '../components/NetworkSelection';\nimport React from 'react';\n\nexport type HomePageProps = {};\n\nconst swapSteps = {\n  [SwapStep.CHOOSE_PAIR]: <ChooseTradingPair />,\n  [SwapStep.SWAP_FLOW]: <SwapFlow />,\n};\n\nconst HomePage = (_props: HomePageProps): ReactElement => {\n  const ratesLoaded = useAppSelector(isRatesLoaded);\n  const swapProvider = useAppSelector(selectSwapProvider);\n  const swapStep = useAppSelector(selectSwapStep);\n\n  return (\n    <Layout>\n      <Grid container direction=\"column\" wrap=\"nowrap\" alignItems=\"center\">\n        <Title>CROSS-CHAIN DEX AGGREGATOR</Title>\n        <NetworkSelection />\n\n        <Grid item container direction=\"column\" wrap=\"nowrap\">\n          {swapSteps[swapStep]}\n          {ratesLoaded && !!swapProvider && (\n            <SwapProvider provider={swapProvider} />\n          )}\n        </Grid>\n      </Grid>\n    </Layout>\n  );\n};\n\nexport default HomePage;\n","import { configureStore } from '@reduxjs/toolkit';\nimport boltzReducer from './boltz-slice';\nimport swapsReducer from './swaps-slice';\nimport tdexReducer from './tdex-slice';\n\nexport const store = configureStore({\n  reducer: {\n    swaps: swapsReducer,\n    boltz: boltzReducer,\n    tdex: tdexReducer,\n  },\n});\n\n// Infer the `RootState` and `AppDispatch` types from the store itself\nexport type RootState = ReturnType<typeof store.getState>;\nexport type AppDispatch = typeof store.dispatch;\n","import { createMuiTheme, Theme } from '@material-ui/core';\nimport CssBaseline from '@material-ui/core/CssBaseline';\nimport { ThemeProvider } from '@material-ui/styles';\nimport { createBrowserHistory } from 'history';\nimport React from 'react';\nimport { Provider } from 'react-redux';\nimport { Redirect, Route, Router, Switch } from 'react-router-dom';\nimport { NetworkProvider } from '../../context/NetworkContext';\nimport { UtilsProvider } from '../../context/UtilsContext';\nimport BoltzRefund from '../../pages/BoltzRefund';\nimport HomePage from '../../pages/home';\nimport { store } from '../../store';\nimport { Path } from './path';\nimport { theme } from './theme';\n\nconst history = createBrowserHistory();\n\nfunction App() {\n  return (\n    <ThemeProvider theme={createMuiTheme(theme as unknown as Theme)}>\n      <CssBaseline />\n      <NetworkProvider>\n        <UtilsProvider>\n          <Provider store={store}>\n            <Router history={history}>\n              <Switch>\n                <Route exact path={Path.HOME}>\n                  <HomePage />\n                </Route>\n                <Route exact path={Path.BOLTZ_REFUND}>\n                  <BoltzRefund />\n                </Route>\n                <Route path=\"*\">\n                  <Redirect to={Path.HOME} />\n                </Route>\n              </Switch>\n            </Router>\n          </Provider>\n        </UtilsProvider>\n      </NetworkProvider>\n    </ThemeProvider>\n  );\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import ReactDOM from 'react-dom';\nimport App from './components/App';\nimport './index.scss';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\nserviceWorker.unregister();\n","// Transport interface is the new abstraction that allows to decouple\n// blockchain and the techcnology used to move, allowing to add easily\n// new tokens/currencies of other chains or new tech.\n// A Layer could also be shared in common, ie. Lightning is both on BTC and LTC\n// this way it's easy to reason about and maintain the separations of concerns.\n// This abstraction is useful for components to infer specific dynamic that\n// could be specific to a coin used with a specific combo.\n// An optional type field has been added to allow distinctions that ony chain/layer\n// cannot express by itself, that are specific to that combo. ie. Ether vs ERC20\n// or RGB in the context of Bitcoin ecosystem ie. RGB vs OMNI\n// In case no distincion is needed, fine to leave it undefined, for example in Liquid\n// Liquid Bitcoin has the same exact way of being managed of other assets\nexport default interface Transport {\n  chain: TransportChain;\n  layer: TransportLayer;\n  extraType?: TransportExtraType;\n}\n\n// we list here all the possible chains we can support. We can easily adds many more\n//altcoins blockchains decoupling from the layer or the token/currency.\n// ie. Tether lives on many chains already\nexport enum TransportChain {\n  BITCOIN = 0,\n  ETHEREUM = 1,\n  LIQUID = 2,\n  LITECOIN = 3,\n  MONERO = 4,\n}\n\n// the same token/currency can live on many layers of the same chain\n// many different layers that are specific of a single blockchain can\n// be added easily.\nexport enum TransportLayer {\n  ONCHAIN = 0,\n  LIGHTNING = 1,\n}\n\nexport enum TransportExtraType {\n  Ether = 0,\n  ERC20 = 1,\n  Omni = 2,\n  RGB = 3,\n}\n","import getCurrencyLabel from '../utils/getCurrencyLabel';\nimport Transport, {\n  TransportChain,\n  TransportLayer,\n  TransportExtraType,\n} from './transport';\n\n// this was the old Currency enum basically, it was mixing many domains together:\n// the blockchain used, the layer and also the name of the token/currency\n// Now is just the human readbale name of the currency and information about transport\n// the idea is to have just the <ticker> when obvious (ie. native token ot the chain)\n// in other cases <transport>_<ticker>\n// it's not meant to be \"machine redadable\" netither for user consumption just an internal ID\nexport enum CurrencyID {\n  BTC = 'BTC',\n  LIGHTNING_BTC = 'Lightning BTC',\n  LIQUID_BTC = 'Liquid BTC',\n  LTC = 'LTC',\n  LIGHTNING_LTC = 'Lightning LTC',\n  ETH = 'ETH',\n  ETH_USDT = 'Ethereum USDt', // this become \"Ethterum USDt\" to be consistent\n  MONERO = 'XMR',\n  LIQUID_USDT = 'Liquid USDt',\n  LIQUID_CAD = 'Liquid CAD',\n}\n\n// this allows to export currency as Currency in other places in the codebase\nexport default CurrencyID;\n\n// CurrencyInterface is the TS interface that defines how an actual currency\n// data structure should be created: it adds the new Transport interface only\n// the other fields are backward compatible with CurrencyOption type\n// NOTICE: name is not an unique identifier, being Bitcoin or Tether present\n// on multiple chains and layers combination. Best way would be to renamig it to just \"currency\" or \"name\"\n// to uniquely identify that token/currency id + transport should be taken into consideration instead\n// what swapValues.type was trying to do it has been replaced by the Transport abstraction\nexport interface CurrencyInterface {\n  id: CurrencyID;\n  name: CurrencyName;\n  symbol: string;\n  transport: Transport;\n}\n\n// CurrencyOption defines the interface of the currency available for trading\n// It extends the CurrencyInterface and adds the swapValues for for backward compatibility\n// NOTICE: components could start looking to the more scalable Transport instead\nexport interface CurrencyOption extends CurrencyInterface {\n  label: JSX.Element;\n  swapValues: {\n    label: string;\n    type: CurrencyType;\n  };\n}\n\n// this new Currency enum  only defines the token/currency\n// it does not depened on the underlying chain/layer.\n// this allows to grow the assets and to abstract the underlying technicalities\n// ie. BTC is still BTC even if use send via Lightning or Liquid\nexport enum CurrencyName {\n  BTC = 'Bitcoin',\n  LTC = 'Litecoin',\n  USDT = 'Tether USD',\n  ETH = 'Ether',\n  MONERO = 'Monero',\n  CAD = 'CAD',\n}\n\n// old: kept for backward compatibility only to maintain swapValues\nexport enum CurrencyType {\n  Ether = 'Ether',\n  ERC20 = 'ERC20',\n  Lightning = 'Lightning',\n  BitcoinLike = 'BitcoinLike',\n  Monero = 'Monero',\n  Liquid = 'Liquid',\n}\n\nexport const CurrencyByID: Record<CurrencyID, CurrencyOption> = {\n  [CurrencyID.BTC]: {\n    id: CurrencyID.BTC,\n    name: CurrencyName.BTC,\n    symbol: 'BTC',\n    label: getCurrencyLabel('Bitcoin', 'Bitcoin'),\n    transport: {\n      chain: TransportChain.BITCOIN,\n      layer: TransportLayer.ONCHAIN,\n    },\n    swapValues: {\n      label: 'Bitcoin',\n      type: CurrencyType.BitcoinLike,\n    },\n  },\n  [CurrencyID.LIGHTNING_BTC]: {\n    id: CurrencyID.LIGHTNING_BTC,\n    name: CurrencyName.BTC,\n    symbol: 'BTC',\n    label: getCurrencyLabel('LN-BTC', 'LightningBitcoin'),\n    transport: {\n      chain: TransportChain.BITCOIN,\n      layer: TransportLayer.LIGHTNING,\n    },\n    swapValues: {\n      label: 'Bitcoin Lightning',\n      type: CurrencyType.Lightning,\n    },\n  },\n  [CurrencyID.LIQUID_BTC]: {\n    id: CurrencyID.LIQUID_BTC,\n    name: CurrencyName.BTC,\n    symbol: 'L-BTC',\n    label: getCurrencyLabel('L-BTC', 'LiquidBitcoin'),\n    transport: {\n      chain: TransportChain.LIQUID,\n      layer: TransportLayer.ONCHAIN,\n    },\n    swapValues: {\n      label: 'Bitcoin Liquid',\n      type: CurrencyType.Liquid,\n    },\n  },\n  [CurrencyID.LIQUID_USDT]: {\n    id: CurrencyID.LIQUID_USDT,\n    name: CurrencyName.USDT,\n    symbol: 'USDt',\n    transport: {\n      chain: TransportChain.LIQUID,\n      layer: TransportLayer.ONCHAIN,\n    },\n    label: getCurrencyLabel('USDt', 'LiquidTether'),\n    swapValues: {\n      label: 'Tether Liquid',\n      type: CurrencyType.Liquid,\n    },\n  },\n  [CurrencyID.LIQUID_CAD]: {\n    id: CurrencyID.LIQUID_CAD,\n    name: CurrencyName.CAD,\n    symbol: 'LCAD',\n    transport: {\n      chain: TransportChain.LIQUID,\n      layer: TransportLayer.ONCHAIN,\n    },\n    label: getCurrencyLabel('LCAD', 'LiquidCAD'),\n    swapValues: {\n      label: 'Liquid CAD',\n      type: CurrencyType.Liquid,\n    },\n  },\n  [CurrencyID.ETH]: {\n    id: CurrencyID.ETH,\n    name: CurrencyName.ETH,\n    symbol: 'ETH',\n    label: getCurrencyLabel('Ether', 'Ether'),\n    transport: {\n      chain: TransportChain.ETHEREUM,\n      layer: TransportLayer.ONCHAIN,\n      extraType: TransportExtraType.Ether,\n    },\n    swapValues: {\n      label: 'Ether',\n      type: CurrencyType.Ether,\n    },\n  },\n  [CurrencyID.ETH_USDT]: {\n    id: CurrencyID.ETH_USDT,\n    name: CurrencyName.USDT,\n    symbol: 'USDT',\n    label: getCurrencyLabel('USDT', 'Tether'),\n    transport: {\n      chain: TransportChain.ETHEREUM,\n      layer: TransportLayer.ONCHAIN,\n      extraType: TransportExtraType.ERC20,\n    },\n    swapValues: {\n      label: 'Tether',\n      type: CurrencyType.ERC20,\n    },\n  },\n  [CurrencyID.LTC]: {\n    id: CurrencyID.LTC,\n    name: CurrencyName.LTC,\n    symbol: 'LTC',\n    label: getCurrencyLabel('Litecoin', 'Litecoin'),\n    transport: {\n      chain: TransportChain.LITECOIN,\n      layer: TransportLayer.ONCHAIN,\n    },\n    swapValues: {\n      label: 'Litecoin',\n      type: CurrencyType.BitcoinLike,\n    },\n  },\n  [CurrencyID.LIGHTNING_LTC]: {\n    id: CurrencyID.LIGHTNING_LTC,\n    name: CurrencyName.LTC,\n    symbol: 'LTC',\n    label: getCurrencyLabel('LN-LTC', 'LightningLitecoin'),\n    transport: {\n      chain: TransportChain.LITECOIN,\n      layer: TransportLayer.LIGHTNING,\n    },\n    swapValues: {\n      label: 'Litecoin Lightning',\n      type: CurrencyType.Lightning,\n    },\n  },\n  [CurrencyID.MONERO]: {\n    id: CurrencyID.MONERO,\n    name: CurrencyName.MONERO,\n    symbol: 'XMR',\n    label: getCurrencyLabel('Monero', 'Monero'),\n    transport: {\n      chain: TransportChain.MONERO,\n      layer: TransportLayer.ONCHAIN,\n    },\n    swapValues: {\n      label: 'Monero',\n      type: CurrencyType.Monero,\n    },\n  },\n};\nexport const CurrencyOptions: CurrencyOption[] = Object.values(CurrencyByID);\n\nexport type FundTransferType = {\n  id: string;\n  value: string;\n};\n\ntype FundTransferTypes = {\n  [key: string]: FundTransferType[];\n};\n\nexport const fundTransferTypes: FundTransferTypes = {\n  BTC: [\n    {\n      id: 'Sats',\n      value: '1',\n    },\n    {\n      id: 'BTC',\n      value: '2',\n    },\n  ],\n  LTC: [\n    {\n      id: 'Litoshi',\n      value: '1',\n    },\n    {\n      id: 'LTC',\n      value: '2',\n    },\n  ],\n  ETH: [\n    {\n      id: 'Ether',\n      value: '2',\n    },\n  ],\n  USDT: [\n    {\n      id: 'USDT',\n      value: '2',\n    },\n  ],\n};\n","export default __webpack_public_path__ + \"static/media/Ether.a9c0ef40.svg\";","export default __webpack_public_path__ + \"static/media/Bitcoin.0b681011.svg\";","export default __webpack_public_path__ + \"static/media/LiquidCAD.051f6612.png\";","export default __webpack_public_path__ + \"static/media/Litecoin.bfddd387.svg\";","import Ether from './Ether.svg';\nimport Bitcoin from './Bitcoin.svg';\nimport LiquidBitcoin from './LiquidBitcoin.png';\nimport LiquidCAD from './LiquidCAD.png';\nimport Litecoin from './Litecoin.svg';\nimport Tether from './TetherLogo.svg';\nimport LiquidTether from './LiquidTether.svg';\nimport LightningBitcoin from './LightningBitcoin.svg';\nimport LightningLitecoin from './LightningLitecoin.svg';\nimport Monero from './Monero.svg';\n\nexport default {\n  Ether,\n  Tether,\n  Bitcoin,\n  Litecoin,\n  LiquidBitcoin,\n  LiquidTether,\n  LiquidCAD,\n  LightningBitcoin,\n  LightningLitecoin,\n  Monero,\n};\n","export default __webpack_public_path__ + \"static/media/TetherLogo.10d27257.svg\";","export default \"data:image/png;base64,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\"","export default __webpack_public_path__ + \"static/media/LiquidTether.cdf3967d.svg\";","export default __webpack_public_path__ + \"static/media/LightningBitcoin.1597bca4.svg\";","export default __webpack_public_path__ + \"static/media/LightningLitecoin.c5fb4023.svg\";","export default __webpack_public_path__ + \"static/media/Monero.650b7bd1.svg\";","import React from 'react';\nimport currencyIcons from '../assets/images/currencies';\n\nconst getCurrencyLabel = (text, icon) => {\n  return (\n    <>\n      <span className=\"label-icon\">\n        <img\n          style={{ width: '2rem', marginRight: '0.5rem' }}\n          src={currencyIcons[icon]}\n          alt={text}\n        />\n      </span>\n      <span>{text}</span>\n    </>\n  );\n};\n\nexport default getCurrencyLabel;\n"],"sourceRoot":""}